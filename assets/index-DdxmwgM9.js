(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function u1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},ql={};var xv;function c1(){if(xv)return ql;xv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=t,ql.jsx=n,ql.jsxs=n,ql}var Vv;function h1(){return Vv||(Vv=1,gm.exports=c1()),gm.exports}var tt=h1(),pm={exports:{}},Ct={};var Lv;function f1(){if(Lv)return Ct;Lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,K={};function nt(M,G,rt){this.props=M,this.context=G,this.refs=K,this.updater=rt||X}nt.prototype.isReactComponent={},nt.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},nt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function st(){}st.prototype=nt.prototype;function it(M,G,rt){this.props=M,this.context=G,this.refs=K,this.updater=rt||X}var ht=it.prototype=new st;ht.constructor=it,Y(ht,nt.prototype),ht.isPureReactComponent=!0;var pt=Array.isArray;function ct(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,G,rt){var ot=rt.ref;return{$$typeof:r,type:M,key:G,ref:ot!==void 0?ot:null,props:rt}}function O(M,G){return I(M.type,G,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(rt){return G[rt]})}var A=/\/+/g;function dt(M,G){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):G.toString(36)}function Rt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ct,ct):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,G,rt,ot,Tt){var Et=typeof M;(Et==="undefined"||Et==="boolean")&&(M=null);var xt=!1;if(M===null)xt=!0;else switch(Et){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(M.$$typeof){case r:case t:xt=!0;break;case E:return xt=M._init,q(xt(M._payload),G,rt,ot,Tt)}}if(xt)return Tt=Tt(M),xt=ot===""?"."+dt(M,0):ot,pt(Tt)?(rt="",xt!=null&&(rt=xt.replace(A,"$&/")+"/"),q(Tt,G,rt,"",function(kt){return kt})):Tt!=null&&(D(Tt)&&(Tt=O(Tt,rt+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(A,"$&/")+"/")+xt)),G.push(Tt)),1;xt=0;var ee=ot===""?".":ot+":";if(pt(M))for(var Gt=0;Gt<M.length;Gt++)ot=M[Gt],Et=ee+dt(ot,Gt),xt+=q(ot,G,rt,Et,Tt);else if(Gt=V(M),typeof Gt=="function")for(M=Gt.call(M),Gt=0;!(ot=M.next()).done;)ot=ot.value,Et=ee+dt(ot,Gt++),xt+=q(ot,G,rt,Et,Tt);else if(Et==="object"){if(typeof M.then=="function")return q(Rt(M),G,rt,ot,Tt);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(M,G,rt){if(M==null)return M;var ot=[],Tt=0;return q(M,ot,"","",function(Et){return G.call(rt,Et,Tt++)}),ot}function mt(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(rt){(M._status===0||M._status===-1)&&(M._status=1,M._result=rt)},function(rt){(M._status===0||M._status===-1)&&(M._status=2,M._result=rt)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var yt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ot={map:et,forEach:function(M,G,rt){et(M,function(){G.apply(this,arguments)},rt)},count:function(M){var G=0;return et(M,function(){G++}),G},toArray:function(M){return et(M,function(G){return G})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ct.Activity=b,Ct.Children=Ot,Ct.Component=nt,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=it,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(M,G,rt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=Y({},M.props),Tt=M.key;if(G!=null)for(Et in G.key!==void 0&&(Tt=""+G.key),G)!w.call(G,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&G.ref===void 0||(ot[Et]=G[Et]);var Et=arguments.length-2;if(Et===1)ot.children=rt;else if(1<Et){for(var xt=Array(Et),ee=0;ee<Et;ee++)xt[ee]=arguments[ee+2];ot.children=xt}return I(M.type,Tt,ot)},Ct.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ct.createElement=function(M,G,rt){var ot,Tt={},Et=null;if(G!=null)for(ot in G.key!==void 0&&(Et=""+G.key),G)w.call(G,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Tt[ot]=G[ot]);var xt=arguments.length-2;if(xt===1)Tt.children=rt;else if(1<xt){for(var ee=Array(xt),Gt=0;Gt<xt;Gt++)ee[Gt]=arguments[Gt+2];Tt.children=ee}if(M&&M.defaultProps)for(ot in xt=M.defaultProps,xt)Tt[ot]===void 0&&(Tt[ot]=xt[ot]);return I(M,Et,Tt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:m,render:M}},Ct.isValidElement=D,Ct.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:mt}},Ct.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},Ct.startTransition=function(M){var G=C.T,rt={};C.T=rt;try{var ot=M(),Tt=C.S;Tt!==null&&Tt(rt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(ct,yt)}catch(Et){yt(Et)}finally{G!==null&&rt.types!==null&&(G.types=rt.types),C.T=G}},Ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ct.use=function(M){return C.H.use(M)},Ct.useActionState=function(M,G,rt){return C.H.useActionState(M,G,rt)},Ct.useCallback=function(M,G){return C.H.useCallback(M,G)},Ct.useContext=function(M){return C.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,G){return C.H.useDeferredValue(M,G)},Ct.useEffect=function(M,G){return C.H.useEffect(M,G)},Ct.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Ct.useId=function(){return C.H.useId()},Ct.useImperativeHandle=function(M,G,rt){return C.H.useImperativeHandle(M,G,rt)},Ct.useInsertionEffect=function(M,G){return C.H.useInsertionEffect(M,G)},Ct.useLayoutEffect=function(M,G){return C.H.useLayoutEffect(M,G)},Ct.useMemo=function(M,G){return C.H.useMemo(M,G)},Ct.useOptimistic=function(M,G){return C.H.useOptimistic(M,G)},Ct.useReducer=function(M,G,rt){return C.H.useReducer(M,G,rt)},Ct.useRef=function(M){return C.H.useRef(M)},Ct.useState=function(M){return C.H.useState(M)},Ct.useSyncExternalStore=function(M,G,rt){return C.H.useSyncExternalStore(M,G,rt)},Ct.useTransition=function(){return C.H.useTransition()},Ct.version="19.2.4",Ct}var Uv;function dg(){return Uv||(Uv=1,pm.exports=f1()),pm.exports}var F=dg();const _e=u1(F);var ym={exports:{}},Hl={},_m={exports:{}},vm={};var kv;function d1(){return kv||(kv=1,(function(r){function t(q,et){var mt=q.length;q.push(et);t:for(;0<mt;){var yt=mt-1>>>1,Ot=q[yt];if(0<o(Ot,et))q[yt]=et,q[mt]=Ot,mt=yt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],mt=q.pop();if(mt!==et){q[0]=mt;t:for(var yt=0,Ot=q.length,M=Ot>>>1;yt<M;){var G=2*(yt+1)-1,rt=q[G],ot=G+1,Tt=q[ot];if(0>o(rt,mt))ot<Ot&&0>o(Tt,rt)?(q[yt]=Tt,q[ot]=mt,yt=ot):(q[yt]=rt,q[G]=mt,yt=G);else if(ot<Ot&&0>o(Tt,mt))q[yt]=Tt,q[ot]=mt,yt=ot;else break t}}return et}function o(q,et){var mt=q.sortIndex-et.sortIndex;return mt!==0?mt:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,R=3,V=!1,X=!1,Y=!1,K=!1,nt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ht(q){for(var et=n(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=q)s(y),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(y)}}function pt(q){if(Y=!1,ht(q),!X)if(n(p)!==null)X=!0,ct||(ct=!0,L());else{var et=n(y);et!==null&&Rt(pt,et.startTime-q)}}var ct=!1,C=-1,w=5,I=-1;function O(){return K?!0:!(r.unstable_now()-I<w)}function D(){if(K=!1,ct){var q=r.unstable_now();I=q;var et=!0;try{t:{X=!1,Y&&(Y=!1,st(C),C=-1),V=!0;var mt=R;try{e:{for(ht(q),b=n(p);b!==null&&!(b.expirationTime>q&&O());){var yt=b.callback;if(typeof yt=="function"){b.callback=null,R=b.priorityLevel;var Ot=yt(b.expirationTime<=q);if(q=r.unstable_now(),typeof Ot=="function"){b.callback=Ot,ht(q),et=!0;break e}b===n(p)&&s(p),ht(q)}else s(p);b=n(p)}if(b!==null)et=!0;else{var M=n(y);M!==null&&Rt(pt,M.startTime-q),et=!1}}break t}finally{b=null,R=mt,V=!1}et=void 0}}finally{et?L():ct=!1}}}var L;if(typeof it=="function")L=function(){it(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,dt=A.port2;A.port1.onmessage=D,L=function(){dt.postMessage(null)}}else L=function(){nt(D,0)};function Rt(q,et){C=nt(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(q){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var mt=R;R=et;try{return q()}finally{R=mt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var mt=R;R=q;try{return et()}finally{R=mt}},r.unstable_scheduleCallback=function(q,et,mt){var yt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?yt+mt:yt):mt=yt,q){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=mt+Ot,q={id:E++,callback:et,priorityLevel:q,startTime:mt,expirationTime:Ot,sortIndex:-1},mt>yt?(q.sortIndex=mt,t(y,q),n(p)===null&&q===n(y)&&(Y?(st(C),C=-1):Y=!0,Rt(pt,mt-yt))):(q.sortIndex=Ot,t(p,q),X||V||(X=!0,ct||(ct=!0,L()))),q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(q){var et=R;return function(){var mt=R;R=et;try{return q.apply(this,arguments)}finally{R=mt}}}})(vm)),vm}var Pv;function m1(){return Pv||(Pv=1,_m.exports=d1()),_m.exports}var Em={exports:{}},mn={};var zv;function g1(){if(zv)return mn;zv=1;var r=dg();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},mn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},mn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},mn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,y){return p(y)},mn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var Bv;function VT(){if(Bv)return Em.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Em.exports=g1(),Em.exports}var jv;function p1(){if(jv)return Hl;jv=1;var r=m1(),t=dg(),n=VT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var A=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===A?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case nt:return"Profiler";case K:return"StrictMode";case pt:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case it:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:dt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return dt(e(i))}catch{}}return null}var Rt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},yt=[],Ot=-1;function M(e){return{current:e}}function G(e){0>Ot||(e.current=yt[Ot],yt[Ot]=null,Ot--)}function rt(e,i){Ot++,yt[Ot]=e.current,e.current=i}var ot=M(null),Tt=M(null),Et=M(null),xt=M(null);function ee(e,i){switch(rt(Et,i),rt(Tt,e),rt(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?nv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=nv(i),e=iv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(ot),rt(ot,e)}function Gt(){G(ot),G(Tt),G(Et)}function kt(e){e.memoizedState!==null&&rt(xt,e);var i=ot.current,a=iv(i,e.type);i!==a&&(rt(Tt,e),rt(ot,a))}function ti(e){Tt.current===e&&(G(ot),G(Tt)),xt.current===e&&(G(xt),Pl._currentValue=mt)}var We,Pn;function Ie(e){if(We===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);We=i&&i[1]||"",Pn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+e+Pn}var ei=!1;function Rn(e,i){if(!e||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){B=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),z=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var Q=`
`+N[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ie(a):""}function Lr(e,i){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==i&&i!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Rn(e.type,!1);case 11:return Rn(e.type.render,!1);case 1:return Rn(e.type,!0);case 31:return Ie("Activity");default:return""}}function Ur(e){try{var i="",a=null;do i+=Lr(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,ne=r.unstable_scheduleCallback,zn=r.unstable_cancelCallback,kr=r.unstable_shouldYield,Ls=r.unstable_requestPaint,Ye=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,Us=r.unstable_ImmediatePriority,ni=r.unstable_UserBlockingPriority,vn=r.unstable_NormalPriority,rr=r.unstable_LowPriority,ks=r.unstable_IdlePriority,Bn=r.log,Ps=r.unstable_setDisableYieldValue,jn=null,qe=null;function cn(e){if(typeof Bn=="function"&&Ps(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(jn,e)}catch{}}var de=Math.clz32?Math.clz32:Ca,Ra=Math.log,sr=Math.LN2;function Ca(e){return e>>>=0,e===0?32:31-(Ra(e)/sr|0)|0}var ii=256,ar=262144,Vt=4194304;function me(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ge(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=me(l):(_&=T,_!==0?h=me(_):a||(a=T&~e,a!==0&&(h=me(a))))):(T=l&~d,T!==0?h=me(T):_!==0?h=me(_):a||(a=l&~e,a!==0&&(h=me(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function De(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function hn(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var e=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),e}function be(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Cn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-de(a),Z=1<<Q;T[Q]=0,N[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&fn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function fn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function dn(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function En(e,i){var a=i&-i;return a=(a&42)!==0?1:qn(a),(a&(e.suspendedLanes|i))!==0?0:a}function qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Rv(e.type))}function tn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var bn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+bn,Qe="__reactProps$"+bn,xi="__reactContainer$"+bn,Ia="__reactEvents$"+bn,Tf="__reactListeners$"+bn,xu="__reactHandles$"+bn,Vu="__reactResources$"+bn,Vi="__reactMarker$"+bn;function Da(e){delete e[Ne],delete e[Qe],delete e[Ia],delete e[Tf],delete e[xu]}function Li(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[xi]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=cv(e);e!==null;){if(a=e[Ne])return a;e=cv(e)}return i}e=a,a=e.parentNode}return null}function ri(e){if(e=e[Ne]||e[xi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ui(e){var i=e[Vu];return i||(i=e[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Oe(e){e[Vi]=!0}var Go=new Set,Yo={};function ki(e,i){Pi(e,i),Pi(e+"Capture",i)}function Pi(e,i){for(Yo[e]=i,e=0;e<i.length;e++)Go.add(i[e])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Xo={};function Lu(e){return fe.call(Xo,e)?!0:fe.call(Qo,e)?!1:Ko.test(e)?Xo[e]=!0:(Qo[e]=!0,!1)}function Na(e,i,a){if(Lu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Me(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $o(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Zt(e){if(!e._valueTracker){var i=Pr(e)?"checked":"value";e._valueTracker=$o(e,i,""+e[i])}}function zs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Pr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bs=/[\n"\\]/g;function In(e){return e.replace(Bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Xe(i)):e.value!==""+Xe(i)&&(e.value=""+Xe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Jo(e,_,Xe(i)):a!=null?Jo(e,_,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Xe(T):e.removeAttribute("name")}function Uu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Zt(e);return}a=a!=null?""+Xe(a):"",i=i!=null?""+Xe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Zt(e)}function Jo(e,i,a){i==="number"&&zi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ku(e,i,a){if(i!=null&&(i=""+Xe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Xe(a):""}function Br(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Zt(e)}function Dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Wo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Zo(e,d,i[d])}function Ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return jr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _i(){}var tl=null;function si(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,Bi=null;function js(e){var i=ri(e);if(i&&(e=i.stateNode)){var a=e[Qe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Qe]||null;if(!h)throw Error(s(90));Oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&zs(l)}break t;case"textarea":ku(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zr(e,!!a.multiple,i,!1)}}}var Va=!1;function Hr(e,i,a){if(Va)return e(i,a);Va=!0;try{var l=e(i);return l}finally{if(Va=!1,(qr!==null||Bi!==null)&&(Mc(),qr&&(i=qr,e=Bi,Bi=qr=null,js(i),e)))for(i=0;i<e.length;i++)js(e[i])}}function vi(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Qe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(ai)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){qs=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{qs=!1}var ji=null,el=null,Hs=null;function nl(){if(Hs)return Hs;var e,i=el,a=i.length,l,h="value"in ji?ji.value:ji.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Hs=h.slice(e,1<l?1-l:void 0)}function Fs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Ei(){return!1}function en(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Ei,this.isPropagationStopped=Ei,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=en(lr),Fr=b({},lr,{view:0,detail:0}),il=en(Fr),Gr,La,Hi,Ua=b({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(Gr=e.screenX-Hi.screenX,La=e.screenY-Hi.screenY):La=Gr=0,Hi=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:La}}),rl=en(Ua),Gs=b({},Ua,{dataTransfer:0}),Bu=en(Gs),ju=b({},Fr,{relatedTarget:0}),Ys=en(ju),sl=b({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=en(sl),ka=b({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=en(ka),Fu=b({},lr,{data:0}),Fi=en(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ku[e])?!!i[e]:!1}function Yr(){return Qu}var Sn=b({},Fr,{key:function(e){if(e.key){var i=Gu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xu=en(Sn),$u=b({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=en($u),c=b({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),g=en(c),v=b({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=en(v),k=b({},Ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=en(k),at=b({},lr,{newState:0,oldState:0}),Dt=en(at),Ae=[9,13,27,32],Xt=ai&&"CompositionEvent"in window,pe=null;ai&&"documentMode"in document&&(pe=document.documentMode);var oi=ai&&"TextEvent"in window&&!pe,Gi=ai&&(!Xt||pe&&8<pe&&11>=pe),Ti=" ",bi=!1;function Ks(e,i){switch(e){case"keyup":return Ae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function xS(e,i){switch(e){case"compositionend":return Pa(i);case"keypress":return i.which!==32?null:(bi=!0,Ti);case"textInput":return e=i.data,e===Ti&&bi?null:e;default:return null}}function VS(e,i){if(za)return e==="compositionend"||!Xt&&Ks(e,i)?(e=nl(),Hs=el=ji=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gi&&i.locale!=="ko"?null:i.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!LS[e.type]:i==="textarea"}function mp(e,i,a,l){qr?Bi?Bi.push(l):Bi=[l]:qr=l,i=zc(i,"onChange"),0<i.length&&(a=new qi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var al=null,ol=null;function US(e){$_(e,0)}function Ju(e){var i=Fn(e);if(zs(i))return e}function gp(e,i){if(e==="change")return i}var pp=!1;if(ai){var bf;if(ai){var Sf="oninput"in document;if(!Sf){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Sf=typeof yp.oninput=="function"}bf=Sf}else bf=!1;pp=bf&&(!document.documentMode||9<document.documentMode)}function _p(){al&&(al.detachEvent("onpropertychange",vp),ol=al=null)}function vp(e){if(e.propertyName==="value"&&Ju(ol)){var i=[];mp(i,ol,e,si(e)),Hr(US,i)}}function kS(e,i,a){e==="focusin"?(_p(),al=i,ol=a,al.attachEvent("onpropertychange",vp)):e==="focusout"&&_p()}function PS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(ol)}function zS(e,i){if(e==="click")return Ju(i)}function BS(e,i){if(e==="input"||e==="change")return Ju(i)}function jS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Yn=typeof Object.is=="function"?Object.is:jS;function ll(e,i){if(Yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fe.call(i,h)||!Yn(e[h],i[h]))return!1}return!0}function Ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tp(e,i){var a=Ep(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ep(a)}}function bp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=zi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=zi(e.document)}return i}function Af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var qS=ai&&"documentMode"in document&&11>=document.documentMode,Ba=null,wf=null,ul=null,Rf=!1;function Ap(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Ba==null||Ba!==zi(l)||(l=Ba,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=zc(wf,"onSelect"),0<l.length&&(i=new qi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ba)))}function Qs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ja={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Cf={},wp={};ai&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Xs(e){if(Cf[e])return Cf[e];if(!ja[e])return e;var i=ja[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in wp)return Cf[e]=i[a];return e}var Rp=Xs("animationend"),Cp=Xs("animationiteration"),Ip=Xs("animationstart"),HS=Xs("transitionrun"),FS=Xs("transitionstart"),GS=Xs("transitioncancel"),Dp=Xs("transitionend"),Np=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Si(e,i){Np.set(e,i),ki(i,[e])}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},li=[],qa=0,Df=0;function Wu(){for(var e=qa,i=Df=qa=0;i<e;){var a=li[i];li[i++]=null;var l=li[i];li[i++]=null;var h=li[i];li[i++]=null;var d=li[i];if(li[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Op(a,h,d)}}function tc(e,i,a,l){li[qa++]=e,li[qa++]=i,li[qa++]=a,li[qa++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return tc(e,i,a,l),ec(e)}function $s(e,i){return tc(e,null,null,i),ec(e)}function Op(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(e){if(50<Ol)throw Ol=0,zd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ha={};function YS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,i,a,l){return new YS(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cr(e,i){var a=e.alternate;return a===null?(a=Kn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function nc(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=JA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Kn(31,a,i,h),e.elementType=I,e.lanes=d,e;case Y:return Js(a.children,h,d,i);case K:_=8,h|=24;break;case nt:return e=Kn(12,a,i,h|2),e.elementType=nt,e.lanes=d,e;case pt:return e=Kn(13,a,i,h),e.elementType=pt,e.lanes=d,e;case ct:return e=Kn(19,a,i,h),e.elementType=ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case st:_=9;break t;case ht:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Kn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Js(e,i,a,l){return e=Kn(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=Kn(6,e,null,i),e.lanes=a,e}function xp(e){var i=Kn(18,null,null,0);return i.stateNode=e,i}function xf(e,i,a){return i=Kn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Vp=new WeakMap;function ui(e,i){if(typeof e=="object"&&e!==null){var a=Vp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ur(i)},Vp.set(e,i),i)}return{value:e,source:i,stack:Ur(i)}}var Fa=[],Ga=0,ic=null,cl=0,ci=[],hi=0,Kr=null,Yi=1,Ki="";function hr(e,i){Fa[Ga++]=cl,Fa[Ga++]=ic,ic=e,cl=i}function Lp(e,i,a){ci[hi++]=Yi,ci[hi++]=Ki,ci[hi++]=Kr,Kr=e;var l=Yi;e=Ki;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Yi=1<<32-de(i)+h|a<<h|l,Ki=d+e}else Yi=1<<d|a<<h|l,Ki=e}function Vf(e){e.return!==null&&(hr(e,1),Lp(e,1,0))}function Lf(e){for(;e===ic;)ic=Fa[--Ga],Fa[Ga]=null,cl=Fa[--Ga],Fa[Ga]=null;for(;e===Kr;)Kr=ci[--hi],ci[hi]=null,Ki=ci[--hi],ci[hi]=null,Yi=ci[--hi],ci[hi]=null}function Up(e,i){ci[hi++]=Yi,ci[hi++]=Ki,ci[hi++]=Kr,Yi=i.id,Ki=i.overflow,Kr=e}var nn=null,ue=null,Ht=!1,Qr=null,fi=!1,Uf=Error(s(519));function Xr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ui(i,e)),Uf}function kp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Qe]=l,a){case"dialog":Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":case"embed":Ut("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ut(xl[a],i);break;case"source":Ut("error",i);break;case"img":case"image":case"link":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"input":Ut("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ut("invalid",i);break;case"textarea":Ut("invalid",i),Br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",i),Ut("toggle",i)),l.onScroll!=null&&Ut("scroll",i),l.onScrollEnd!=null&&Ut("scrollend",i),l.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||Xr(e,!0)}function Pp(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:nn=nn.return}}function Ya(e){if(e!==nn)return!1;if(!Ht)return Pp(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tm(e.type,e.memoizedProps)),a=!a),a&&ue&&Xr(e),Pp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ue=uv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ue=uv(e)}else i===27?(i=ue,us(e.type)?(e=sm,sm=null,ue=e):ue=i):ue=nn?mi(e.stateNode.nextSibling):null;return!0}function Zs(){ue=nn=null,Ht=!1}function kf(){var e=Qr;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Qr=null),e}function hl(e){Qr===null?Qr=[e]:Qr.push(e)}var Pf=M(null),Ws=null,fr=null;function $r(e,i,a){rt(Pf,i._currentValue),i._currentValue=a}function dr(e){e._currentValue=Pf.current,G(Pf)}function zf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),zf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ka(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Yn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===xt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}h=h.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function rc(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){Ws=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return zp(Ws,e)}function sc(e,i){return Ws===null&&ta(e),zp(e,i)}function zp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(s(308));fr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else fr=fr.next=i;return a}var KS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},QS=r.unstable_scheduleCallback,XS=r.unstable_NormalPriority,xe={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new KS,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&QS(XS,function(){e.controller.abort()})}var dl=null,qf=0,Qa=0,Xa=null;function $S(e,i){if(dl===null){var a=dl=[];qf=0,Qa=Gd(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(Bp,Bp),i}function Bp(){if(--qf===0&&dl!==null){Xa!==null&&(Xa.status="fulfilled");var e=dl;dl=null,Qa=0,Xa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function JS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jp=q.S;q.S=function(e,i){A_=Ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$S(e,i),jp!==null&&jp(e,i)};var ea=M(null);function Hf(){var e=ea.current;return e!==null?e:oe.pooledCache}function ac(e,i){i===null?rt(ea,ea.current):rt(ea,i.pool)}function qp(){var e=Hf();return e===null?null:{parent:xe._currentValue,pool:e}}var $a=Error(s(460)),Ff=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function Hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e;default:if(typeof i.status=="string")i.then(_i,_i);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e}throw ia=i,$a}}function na(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,$a):a}}var ia=null;function Gp(){if(ia===null)throw Error(s(459));var e=ia;return ia=null,e}function Yp(e){if(e===$a||e===oc)throw Error(s(483))}var Ja=null,ml=0;function uc(e){var i=ml;return ml+=1,Ja===null&&(Ja=[]),Fp(Ja,e,i)}function gl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function cc(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Kp(e){function i(U,x){if(e){var P=U.deletions;P===null?(U.deletions=[x],U.flags|=16):P.push(x)}}function a(U,x){if(!e)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=cr(U,x),U.index=0,U.sibling=null,U}function d(U,x,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<x?(U.flags|=67108866,x):P):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,P,$){return x===null||x.tag!==6?(x=Mf(P,U.mode,$),x.return=U,x):(x=h(x,P),x.return=U,x)}function N(U,x,P,$){var _t=P.type;return _t===Y?Q(U,x,P.props.children,$,P.key):x!==null&&(x.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&na(_t)===x.type)?(x=h(x,P.props),gl(x,P),x.return=U,x):(x=nc(P.type,P.key,P.props,null,U.mode,$),gl(x,P),x.return=U,x)}function z(U,x,P,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=xf(P,U.mode,$),x.return=U,x):(x=h(x,P.children||[]),x.return=U,x)}function Q(U,x,P,$,_t){return x===null||x.tag!==7?(x=Js(P,U.mode,$,_t),x.return=U,x):(x=h(x,P),x.return=U,x)}function Z(U,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Mf(""+x,U.mode,P),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case V:return P=nc(x.type,x.key,x.props,null,U.mode,P),gl(P,x),P.return=U,P;case X:return x=xf(x,U.mode,P),x.return=U,x;case w:return x=na(x),Z(U,x,P)}if(Rt(x)||L(x))return x=Js(x,U.mode,P,null),x.return=U,x;if(typeof x.then=="function")return Z(U,uc(x),P);if(x.$$typeof===it)return Z(U,sc(U,x),P);cc(U,x)}return null}function B(U,x,P,$){var _t=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _t!==null?null:T(U,x,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===_t?N(U,x,P,$):null;case X:return P.key===_t?z(U,x,P,$):null;case w:return P=na(P),B(U,x,P,$)}if(Rt(P)||L(P))return _t!==null?null:Q(U,x,P,$,null);if(typeof P.then=="function")return B(U,x,uc(P),$);if(P.$$typeof===it)return B(U,x,sc(U,P),$);cc(U,P)}return null}function H(U,x,P,$,_t){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(P)||null,T(x,U,""+$,_t);if(typeof $=="object"&&$!==null){switch($.$$typeof){case V:return U=U.get($.key===null?P:$.key)||null,N(x,U,$,_t);case X:return U=U.get($.key===null?P:$.key)||null,z(x,U,$,_t);case w:return $=na($),H(U,x,P,$,_t)}if(Rt($)||L($))return U=U.get(P)||null,Q(x,U,$,_t,null);if(typeof $.then=="function")return H(U,x,P,uc($),_t);if($.$$typeof===it)return H(U,x,P,sc(x,$),_t);cc(x,$)}return null}function ft(U,x,P,$){for(var _t=null,Kt=null,gt=x,Mt=x=0,zt=null;gt!==null&&Mt<P.length;Mt++){gt.index>Mt?(zt=gt,gt=null):zt=gt.sibling;var Qt=B(U,gt,P[Mt],$);if(Qt===null){gt===null&&(gt=zt);break}e&&gt&&Qt.alternate===null&&i(U,gt),x=d(Qt,x,Mt),Kt===null?_t=Qt:Kt.sibling=Qt,Kt=Qt,gt=zt}if(Mt===P.length)return a(U,gt),Ht&&hr(U,Mt),_t;if(gt===null){for(;Mt<P.length;Mt++)gt=Z(U,P[Mt],$),gt!==null&&(x=d(gt,x,Mt),Kt===null?_t=gt:Kt.sibling=gt,Kt=gt);return Ht&&hr(U,Mt),_t}for(gt=l(gt);Mt<P.length;Mt++)zt=H(gt,U,Mt,P[Mt],$),zt!==null&&(e&&zt.alternate!==null&&gt.delete(zt.key===null?Mt:zt.key),x=d(zt,x,Mt),Kt===null?_t=zt:Kt.sibling=zt,Kt=zt);return e&&gt.forEach(function(ms){return i(U,ms)}),Ht&&hr(U,Mt),_t}function bt(U,x,P,$){if(P==null)throw Error(s(151));for(var _t=null,Kt=null,gt=x,Mt=x=0,zt=null,Qt=P.next();gt!==null&&!Qt.done;Mt++,Qt=P.next()){gt.index>Mt?(zt=gt,gt=null):zt=gt.sibling;var ms=B(U,gt,Qt.value,$);if(ms===null){gt===null&&(gt=zt);break}e&&gt&&ms.alternate===null&&i(U,gt),x=d(ms,x,Mt),Kt===null?_t=ms:Kt.sibling=ms,Kt=ms,gt=zt}if(Qt.done)return a(U,gt),Ht&&hr(U,Mt),_t;if(gt===null){for(;!Qt.done;Mt++,Qt=P.next())Qt=Z(U,Qt.value,$),Qt!==null&&(x=d(Qt,x,Mt),Kt===null?_t=Qt:Kt.sibling=Qt,Kt=Qt);return Ht&&hr(U,Mt),_t}for(gt=l(gt);!Qt.done;Mt++,Qt=P.next())Qt=H(gt,U,Mt,Qt.value,$),Qt!==null&&(e&&Qt.alternate!==null&&gt.delete(Qt.key===null?Mt:Qt.key),x=d(Qt,x,Mt),Kt===null?_t=Qt:Kt.sibling=Qt,Kt=Qt);return e&&gt.forEach(function(l1){return i(U,l1)}),Ht&&hr(U,Mt),_t}function ae(U,x,P,$){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:t:{for(var _t=P.key;x!==null;){if(x.key===_t){if(_t=P.type,_t===Y){if(x.tag===7){a(U,x.sibling),$=h(x,P.props.children),$.return=U,U=$;break t}}else if(x.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&na(_t)===x.type){a(U,x.sibling),$=h(x,P.props),gl($,P),$.return=U,U=$;break t}a(U,x);break}else i(U,x);x=x.sibling}P.type===Y?($=Js(P.props.children,U.mode,$,P.key),$.return=U,U=$):($=nc(P.type,P.key,P.props,null,U.mode,$),gl($,P),$.return=U,U=$)}return _(U);case X:t:{for(_t=P.key;x!==null;){if(x.key===_t)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(U,x.sibling),$=h(x,P.children||[]),$.return=U,U=$;break t}else{a(U,x);break}else i(U,x);x=x.sibling}$=xf(P,U.mode,$),$.return=U,U=$}return _(U);case w:return P=na(P),ae(U,x,P,$)}if(Rt(P))return ft(U,x,P,$);if(L(P)){if(_t=L(P),typeof _t!="function")throw Error(s(150));return P=_t.call(P),bt(U,x,P,$)}if(typeof P.then=="function")return ae(U,x,uc(P),$);if(P.$$typeof===it)return ae(U,x,sc(U,P),$);cc(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(U,x.sibling),$=h(x,P),$.return=U,U=$):(a(U,x),$=Mf(P,U.mode,$),$.return=U,U=$),_(U)):a(U,x)}return function(U,x,P,$){try{ml=0;var _t=ae(U,x,P,$);return Ja=null,_t}catch(gt){if(gt===$a||gt===oc)throw gt;var Kt=Kn(29,gt,null,U.mode);return Kt.lanes=$,Kt.return=U,Kt}}}var ra=Kp(!0),Qp=Kp(!1),Jr=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(e),Op(e,null,a),i}return tc(e,l,i,a),ec(e)}function pl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,dn(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Qf=!1;function yl(){if(Qf){var e=Xa;if(e!==null)throw e}}function _l(e,i,a,l){Qf=!1;var h=e.updateQueue;Jr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,Q=z=N=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Pt&B)===B:(l&B)===B){B!==0&&B===Qa&&(Qf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ft=e,bt=T;B=i;var ae=a;switch(bt.tag){case 1:if(ft=bt.payload,typeof ft=="function"){Z=ft.call(ae,Z,B);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=bt.payload,B=typeof ft=="function"?ft.call(ae,Z,B):ft,B==null)break t;Z=b({},Z,B);break t;case 2:Jr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=H,N=Z):Q=Q.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),rs|=_,e.lanes=_,e.memoizedState=Z}}function Xp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function $p(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xp(a[e],i)}var Za=M(null),hc=M(0);function Jp(e,i){e=br,rt(hc,e),rt(Za,i),br=e|i.baseLanes}function Xf(){rt(hc,br),rt(Za,Za.current)}function $f(){br=hc.current,G(Za),G(hc)}var Qn=M(null),di=null;function ts(e){var i=e.alternate;rt(we,we.current&1),rt(Qn,e),di===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(di=e)}function Jf(e){rt(we,we.current),rt(Qn,e),di===null&&(di=e)}function Zp(e){e.tag===22?(rt(we,we.current),rt(Qn,e),di===null&&(di=e)):es()}function es(){rt(we,we.current),rt(Qn,Qn.current)}function Xn(e){G(Qn),di===e&&(di=null),G(we)}var we=M(0);function fc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mr=0,Nt=null,re=null,Ve=null,dc=!1,Wa=!1,sa=!1,mc=0,vl=0,to=null,ZS=0;function Ee(){throw Error(s(321))}function Zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Yn(e[a],i[a]))return!1;return!0}function Wf(e,i,a,l,h,d){return mr=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?Ly:md,sa=!1,d=a(l,h),sa=!1,Wa&&(d=ty(i,a,l,h)),Wp(e),d}function Wp(e){q.H=bl;var i=re!==null&&re.next!==null;if(mr=0,Ve=re=Nt=null,dc=!1,vl=0,to=null,i)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&rc(e)&&(Le=!0))}function ty(e,i,a,l){Nt=e;var h=0;do{if(Wa&&(to=null),vl=0,Wa=!1,25<=h)throw Error(s(301));if(h+=1,Ve=re=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Uy,d=i(a,l)}while(Wa);return d}function WS(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?El(i):i,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Nt.flags|=1024),i}function td(){var e=mc!==0;return mc=0,e}function ed(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function nd(e){if(dc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}dc=!1}mr=0,Ve=re=Nt=null,Wa=!1,vl=mc=0,to=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Nt.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Re(){if(re===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var i=Ve===null?Nt.memoizedState:Ve.next;if(i!==null)Ve=i,re=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Ve===null?Nt.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var i=vl;return vl+=1,to===null&&(to=[]),e=Fp(to,e,i),i=Nt,(Ve===null?i.memoizedState:Ve.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Ly:md),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===it)return rn(e)}throw Error(s(438,String(e)))}function id(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=gc(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function gr(e,i){return typeof i=="function"?i(e):i}function yc(e){var i=Re();return rd(i,re,e)}function rd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,N=null,z=i,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Pt&Z)===Z:(mr&Z)===Z){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Qa&&(Q=!0);else if((mr&B)===B){z=z.next,B===Qa&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=Z,_=d):N=N.next=Z,Nt.lanes|=B,rs|=B;Z=z.action,sa&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=B,_=d):N=N.next=B,Nt.lanes|=Z,rs|=Z;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=T,!Yn(d,e.memoizedState)&&(Le=!0,Q&&(a=Xa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sd(e){var i=Re(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Yn(d,i.memoizedState)||(Le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(e,i,a){var l=Nt,h=Re(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Yn((re||h).memoizedState,a);if(_&&(h.memoizedState=a,Le=!0),h=h.queue,ld(ry.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},iy.bind(null,l,h,a,i),null),oe===null)throw Error(s(349));d||(mr&127)!==0||ny(l,i,a)}return a}function ny(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=gc(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function iy(e,i,a,l){i.value=a,i.getSnapshot=l,sy(i)&&ay(e)}function ry(e,i,a){return a(function(){sy(i)&&ay(e)})}function sy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Yn(e,a)}catch{return!0}}function ay(e){var i=$s(e,2);i!==null&&Vn(i,e,2)}function ad(e){var i=An();if(typeof e=="function"){var a=e;if(e=a(),sa){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},i}function oy(e,i,a,l){return e.baseState=a,rd(e,re,typeof l=="function"?l:gr)}function tA(e,i,a,l,h){if(Ec(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=q.T,_={};q.T=_;try{var T=a(h,l),N=q.S;N!==null&&N(_,T),uy(e,i,T)}catch(z){od(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),q.T=d}}else try{d=a(h,l),uy(e,i,d)}catch(z){od(e,i,z)}}function uy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(e,i,l)},function(l){return od(e,i,l)}):cy(e,i,a)}function cy(e,i,a){i.status="fulfilled",i.value=a,hy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ly(e,a)))}function od(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}e.action=null}function hy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fy(e,i){return i}function dy(e,i){if(Ht){var a=oe.formState;if(a!==null){t:{var l=Nt;if(Ht){if(ue){e:{for(var h=ue,d=fi;h.nodeType!==8;){if(!d){h=null;break e}if(h=mi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=mi(h.nextSibling),l=h.data==="F!";break t}}Xr(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=My.bind(null,Nt,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Nt,!1,l.queue),l=An(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=tA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function my(e){var i=Re();return gy(i,re,e)}function gy(e,i,a){if(i=rd(e,i,fy)[0],e=yc(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(_){throw _===$a?oc:_}else l=i;i=Re();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,eo(9,{destroy:void 0},eA.bind(null,h,a),null)),[l,d,e]}function eA(e,i){e.action=i}function py(e){var i=Re(),a=re;if(a!==null)return gy(i,a,e);Re(),i=i.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function eo(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=gc(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function yy(){return Re().memoizedState}function _c(e,i,a,l){var h=An();Nt.flags|=e,h.memoizedState=eo(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(e,i,a,l){var h=Re();l=l===void 0?null:l;var d=h.memoizedState.inst;re!==null&&l!==null&&Zf(l,re.memoizedState.deps)?h.memoizedState=eo(i,d,a,l):(Nt.flags|=e,h.memoizedState=eo(1|i,d,a,l))}function _y(e,i){_c(8390656,8,e,i)}function ld(e,i){vc(2048,8,e,i)}function nA(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=gc(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function vy(e){var i=Re().memoizedState;return nA({ref:i,nextImpl:e}),function(){if(($t&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ey(e,i){return vc(4,2,e,i)}function Ty(e,i){return vc(4,4,e,i)}function by(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Sy(e,i,a){a=a!=null?a.concat([e]):null,vc(4,4,by.bind(null,i,e),a)}function ud(){}function Ay(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function wy(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=e(),sa){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function cd(e,i,a){return a===void 0||(mr&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=R_(),Nt.lanes|=e,rs|=e,a)}function Ry(e,i,a,l){return Yn(a,i)?a:Za.current!==null?(e=cd(e,a,l),Yn(e,i)||(Le=!0),e):(mr&42)===0||(mr&1073741824)!==0&&(Pt&261930)===0?(Le=!0,e.memoizedState=a):(e=R_(),Nt.lanes|=e,rs|=e,i)}function Cy(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var _=q.T,T={};q.T=T,dd(e,!1,i,a);try{var N=h(),z=q.S;if(z!==null&&z(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=JS(N,l);Tl(e,i,Q,Zn(e))}else Tl(e,i,l,Zn(e))}catch(Z){Tl(e,i,{then:function(){},status:"rejected",reason:Z},Zn())}finally{et.p=d,_!==null&&T.types!==null&&(_.types=T.types),q.T=_}}function iA(){}function hd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Iy(e).queue;Cy(e,h,i,mt,a===null?iA:function(){return Dy(e),a(l)})}function Iy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dy(e){var i=Iy(e);i.next===null&&(i=e.alternate.memoizedState),Tl(e,i.next.queue,{},Zn())}function fd(){return rn(Pl)}function Ny(){return Re().memoizedState}function Oy(){return Re().memoizedState}function rA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Zn();e=Zr(a);var l=Wr(i,e,a);l!==null&&(Vn(l,i,a),pl(l,i,a)),i={cache:jf()},e.payload=i;return}i=i.return}}function sA(e,i,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(e)?xy(i,a):(a=Nf(e,i,a,l),a!==null&&(Vn(a,e,l),Vy(a,i,l)))}function My(e,i,a){var l=Zn();Tl(e,i,a,l)}function Tl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))xy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Yn(T,_))return tc(e,i,h,0),oe===null&&Wu(),!1}catch{}if(a=Nf(e,i,h,l),a!==null)return Vn(a,e,l),Vy(a,i,l),!0}return!1}function dd(e,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Vn(i,e,2)}function Ec(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function xy(e,i){Wa=dc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Vy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,dn(e,a)}}var bl={readContext:rn,use:pc,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};bl.useEffectEvent=Ee;var Ly={readContext:rn,use:pc,useCallback:function(e,i){return An().memoizedState=[e,i===void 0?null:i],e},useContext:rn,useEffect:_y,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,_c(4194308,4,by.bind(null,i,e),a)},useLayoutEffect:function(e,i){return _c(4194308,4,e,i)},useInsertionEffect:function(e,i){_c(4,2,e,i)},useMemo:function(e,i){var a=An();i=i===void 0?null:i;var l=e();if(sa){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=An();if(a!==void 0){var h=a(i);if(sa){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=sA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=An();return e={current:e},i.memoizedState=e},useState:function(e){e=ad(e);var i=e.queue,a=My.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(e,i){var a=An();return cd(a,e,i)},useTransition:function(){var e=ad(!1);return e=Cy.bind(null,Nt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=An();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),oe===null)throw Error(s(349));(Pt&127)!==0||ny(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_y(ry.bind(null,l,d,e),[e]),l.flags|=2048,eo(9,{destroy:void 0},iy.bind(null,l,d,a,i),null),a},useId:function(){var e=An(),i=oe.identifierPrefix;if(Ht){var a=Ki,l=Yi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ZS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:fd,useFormState:dy,useActionState:dy,useOptimistic:function(e){var i=An();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:id,useCacheRefresh:function(){return An().memoizedState=rA.bind(null,Nt)},useEffectEvent:function(e){var i=An(),a={impl:e};return i.memoizedState=a,function(){if(($t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:rn,use:pc,useCallback:Ay,useContext:rn,useEffect:ld,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:yc,useRef:yy,useState:function(){return yc(gr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=Re();return Ry(a,re.memoizedState,e,i)},useTransition:function(){var e=yc(gr)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:El(e),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:fd,useFormState:my,useActionState:my,useOptimistic:function(e,i){var a=Re();return oy(a,re,e,i)},useMemoCache:id,useCacheRefresh:Oy};md.useEffectEvent=vy;var Uy={readContext:rn,use:pc,useCallback:Ay,useContext:rn,useEffect:ld,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:sd,useRef:yy,useState:function(){return sd(gr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=Re();return re===null?cd(a,e,i):Ry(a,re.memoizedState,e,i)},useTransition:function(){var e=sd(gr)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:El(e),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:fd,useFormState:py,useActionState:py,useOptimistic:function(e,i){var a=Re();return re!==null?oy(a,re,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Oy};Uy.useEffectEvent=vy;function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Zn(),h=Zr(l);h.payload=i,a!=null&&(h.callback=a),i=Wr(e,h,l),i!==null&&(Vn(i,e,l),pl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Zn(),h=Zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Wr(e,h,l),i!==null&&(Vn(i,e,l),pl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Zn(),l=Zr(a);l.tag=2,i!=null&&(l.callback=i),i=Wr(e,l,a),i!==null&&(Vn(i,e,a),pl(i,e,a))}};function ky(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function Py(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&pd.enqueueReplaceState(i,i.state,null)}function aa(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function zy(e){Zu(e)}function By(e){console.error(e)}function jy(e){Zu(e)}function Tc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(e,i,a){return a=Zr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,i)},a}function Hy(e){return e=Zr(e),e.tag=3,e}function Fy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){qy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){qy(i,a,l),typeof h!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function aA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ka(i,a,h,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return di===null?xc():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(e,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(e,l,h)),!1}throw Error(s(435,a.tag))}return qd(e,l,h),xc(),!1}if(Ht)return i=Qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(e=Error(s(422),{cause:l}),hl(ui(e,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),hl(ui(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ui(l,a),h=yd(e.stateNode,l,h),Kf(e,h),Te!==4&&(Te=2)),!1;var d=Error(s(520),{cause:l});if(d=ui(d,a),Nl===null?Nl=[d]:Nl.push(d),Te!==4&&(Te=2),i===null)return!0;l=ui(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=yd(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Fy(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Le=!1;function sn(e,i,a,l){i.child=e===null?Qp(i,null,a,l):ra(i,e.child,a,l)}function Gy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ta(i),l=Wf(e,i,a,_,d,h),T=td(),e!==null&&!Le?(ed(e,i,h),pr(e,i,h)):(Ht&&T&&Vf(i),i.flags|=1,sn(e,i,l,h),i.child)}function Yy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ky(e,i,d,l,h)):(e=nc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Rd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&e.ref===i.ref)return pr(e,i,h)}return i.flags|=1,e=cr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ky(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ll(d,l)&&e.ref===i.ref)if(Le=!1,i.pendingProps=l=d,Rd(e,h))(e.flags&131072)!==0&&(Le=!0);else return i.lanes=e.lanes,pr(e,i,h)}return vd(e,i,a,l,h)}function Qy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Jp(i,d):Xf(),Zp(i);else return l=i.lanes=536870912,Xy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),Jp(i,d),es(),i.memoizedState=null):(e!==null&&ac(i,null),Xf(),es());return sn(e,i,h,a),i.child}function Sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(e,i,a,l,h){var d=Hf();return d=d===null?null:{parent:xe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ac(i,null),Xf(),Zp(i),e!==null&&Ka(e,i,l,!0),i.childLanes=h,null}function bc(e,i){return i=Ac({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function $y(e,i,a){return ra(i,e.child,null,a),e=bc(i,i.pendingProps),e.flags|=2,Xn(i),i.memoizedState=null,e}function oA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ht){if(l.mode==="hidden")return e=bc(i,l),i.lanes=536870912,Sl(null,e);if(Jf(i),(e=ue)?(e=lv(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Kr!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=xp(e),a.return=i,i.child=a,nn=i,ue=null)):e=null,e===null)throw Xr(i);return i.lanes=536870912,null}return bc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),h)if(i.flags&256)i.flags&=-257,i=$y(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Le||Ka(e,i,a,!1),h=(a&e.childLanes)!==0,Le||h){if(l=oe,l!==null&&(_=En(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,$s(e,_),Vn(l,e,_),_d;xc(),i=$y(e,i,a)}else e=d.treeContext,ue=mi(_.nextSibling),nn=i,Ht=!0,Qr=null,fi=!1,e!==null&&Up(i,e),i=bc(i,l),i.flags|=4096;return i}return e=cr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Sc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function vd(e,i,a,l,h){return ta(i),a=Wf(e,i,a,l,void 0,h),l=td(),e!==null&&!Le?(ed(e,i,h),pr(e,i,h)):(Ht&&l&&Vf(i),i.flags|=1,sn(e,i,a,h),i.child)}function Jy(e,i,a,l,h,d){return ta(i),i.updateQueue=null,a=ty(i,l,a,h),Wp(e),l=td(),e!==null&&!Le?(ed(e,i,d),pr(e,i,d)):(Ht&&l&&Vf(i),i.flags|=1,sn(e,i,a,d),i.child)}function Zy(e,i,a,l,h){if(ta(i),i.stateNode===null){var d=Ha,_=a.contextType;typeof _=="object"&&_!==null&&(d=rn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?rn(_):Ha,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,N=aa(a,T);d.props=N;var z=d.context,Q=a.contextType;_=Ha,typeof Q=="object"&&Q!==null&&(_=rn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Py(i,d,l,_),Jr=!1;var B=i.memoizedState;d.state=B,_l(i,l,d,h),yl(),z=i.memoizedState,T||B!==z||Jr?(typeof Z=="function"&&(gd(i,a,Z,l),z=i.memoizedState),(N=Jr||ky(i,a,N,l,B,z,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(e,i),_=i.memoizedProps,Q=aa(a,_),d.props=Q,Z=i.pendingProps,B=d.context,z=a.contextType,N=Ha,typeof z=="object"&&z!==null&&(N=rn(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||B!==N)&&Py(i,d,l,N),Jr=!1,B=i.memoizedState,d.state=B,_l(i,l,d,h),yl();var H=i.memoizedState;_!==Z||B!==H||Jr||e!==null&&e.dependencies!==null&&rc(e.dependencies)?(typeof T=="function"&&(gd(i,a,T,l),H=i.memoizedState),(Q=Jr||ky(i,a,Q,l,B,H,N)||e!==null&&e.dependencies!==null&&rc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=N,l=Q):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ra(i,e.child,null,h),i.child=ra(i,null,a,h)):sn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=pr(e,i,h),e}function Wy(e,i,a,l){return Zs(),i.flags|=256,sn(e,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(e){return{baseLanes:e,cachePool:qp()}}function bd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Jn),e}function t_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?ts(i):es(),(e=ue)?(e=lv(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Kr!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=xp(e),a.return=i,i.child=a,nn=i,ue=null)):e=null,e===null)throw Xr(i);return rm(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(es(),h=i.mode,T=Ac({mode:"hidden",children:T},h),l=Js(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Td(a),l.childLanes=bd(e,_,a),i.memoizedState=Ed,Sl(null,l)):(ts(i),Sd(i,T))}var N=e.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(ts(i),i.flags&=-257,i=Ad(e,i,a)):i.memoizedState!==null?(es(),i.child=e.child,i.flags|=128,i=null):(es(),T=l.fallback,h=i.mode,l=Ac({mode:"visible",children:l.children},h),T=Js(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ra(i,e.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=bd(e,_,a),i.memoizedState=Ed,i=Sl(null,l));else if(ts(i),rm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=Ad(e,i,a)}else if(Le||Ka(e,i,a,!1),_=(a&e.childLanes)!==0,Le||_){if(_=oe,_!==null&&(l=En(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,$s(e,l),Vn(_,e,l),_d;im(T)||xc(),i=Ad(e,i,a)}else im(T)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,ue=mi(T.nextSibling),nn=i,Ht=!0,Qr=null,fi=!1,e!==null&&Up(i,e),i=Sd(i,l.children),i.flags|=4096);return i}return h?(es(),T=l.fallback,h=i.mode,N=e.child,z=N.sibling,l=cr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?T=cr(z,T):(T=Js(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Sl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Td(a):(h=T.cachePool,h!==null?(N=xe._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=qp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=bd(e,_,a),i.memoizedState=Ed,Sl(e.child,l)):(ts(i),a=e.child,e=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Sd(e,i){return i=Ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ac(e,i){return e=Kn(22,e,null,i),e.lanes=0,e}function Ad(e,i,a){return ra(i,e.child,null,a),e=Sd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function e_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),zf(e.return,i,a)}function wd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function n_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=we.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,rt(we,_),sn(e,i,l,a),l=Ht?cl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e_(e,a,i);else if(e.tag===19)e_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&fc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&fc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wd(i,!0,a,null,d,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function pr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),rs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=cr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=cr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&rc(e)))}function lA(e,i,a){switch(i.tag){case 3:ee(i,i.stateNode.containerInfo),$r(i,xe,e.memoizedState.cache),Zs();break;case 27:case 5:kt(i);break;case 4:ee(i,i.stateNode.containerInfo);break;case 10:$r(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(e,i,a):(ts(i),e=pr(e,i,a),e!==null?e.sibling:null);ts(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ka(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return n_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(we,we.current),l)break;return null;case 22:return i.lanes=0,Qy(e,i,a,i.pendingProps);case 24:$r(i,xe,e.memoizedState.cache)}return pr(e,i,a)}function i_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Le=!0;else{if(!Rd(e,a)&&(i.flags&128)===0)return Le=!1,lA(e,i,a);Le=(e.flags&131072)!==0}else Le=!1,Ht&&(i.flags&1048576)!==0&&Lp(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=na(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=aa(e,l),i.tag=1,i=Zy(null,i,e,l,a)):(i.tag=0,i=vd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===ht){i.tag=11,i=Gy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=Yy(null,i,e,l,a);break t}}throw i=dt(e)||e,Error(s(306,i,""))}}return i;case 0:return vd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=aa(l,i.pendingProps),Zy(e,i,l,h,a);case 3:t:{if(ee(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(e,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,$r(i,xe,l),l!==d.cache&&Bf(i,[xe],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Wy(e,i,l,a);break t}else if(l!==h){h=ui(Error(s(424)),i),hl(h),i=Wy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=mi(e.firstChild),nn=i,Ht=!0,Qr=null,fi=!0,a=Qp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),l===h){i=pr(e,i,a);break t}sn(e,i,l,a)}i=i.child}return i;case 26:return Sc(e,i),e===null?(a=mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=Bc(Et.current).createElement(a),l[Ne]=i,l[Qe]=e,an(l,a,e),Oe(l),i.stateNode=l):i.memoizedState=mv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return kt(i),e===null&&Ht&&(l=i.stateNode=hv(i.type,i.pendingProps,Et.current),nn=i,fi=!0,h=ue,us(i.type)?(sm=h,ue=mi(l.firstChild)):ue=h),sn(e,i,i.pendingProps.children,a),Sc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=l=ue)&&(l=PA(l,i.type,i.pendingProps,fi),l!==null?(i.stateNode=l,nn=i,ue=mi(l.firstChild),fi=!1,h=!0):h=!1),h||Xr(i)),kt(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,tm(h,d)?l=null:_!==null&&tm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Wf(e,i,WS,null,null,a),Pl._currentValue=h),Sc(e,i),sn(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=ue)&&(a=zA(a,i.pendingProps,fi),a!==null?(i.stateNode=a,nn=i,ue=null,e=!0):e=!1),e||Xr(i)),null;case 13:return t_(e,i,a);case 4:return ee(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ra(i,null,l,a):sn(e,i,l,a),i.child;case 11:return Gy(e,i,i.type,i.pendingProps,a);case 7:return sn(e,i,i.pendingProps,a),i.child;case 8:return sn(e,i,i.pendingProps.children,a),i.child;case 12:return sn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,$r(i,i.type,l.value),sn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ta(i),h=rn(h),l=l(h),i.flags|=1,sn(e,i,l,a),i.child;case 14:return Yy(e,i,i.type,i.pendingProps,a);case 15:return Ky(e,i,i.type,i.pendingProps,a);case 19:return n_(e,i,a);case 31:return oA(e,i,a);case 22:return Qy(e,i,a,i.pendingProps);case 24:return ta(i),l=rn(xe),e===null?(h=Hf(),h===null&&(h=oe,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Gf(i),$r(i,xe,h)):((e.lanes&a)!==0&&(Yf(e,i),_l(i,null,null,a),yl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),$r(i,xe,l)):(l=d.cache,$r(i,xe,l),l!==h.cache&&Bf(i,[xe],a,!0))),sn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yr(e){e.flags|=4}function Cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(N_())e.flags|=8192;else throw ia=lc,Ff}else e.flags&=-16777217}function r_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vv(i))if(N_())e.flags|=8192;else throw ia=lc,Ff}function wc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ke():536870912,e.lanes|=i,so|=i)}function Al(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function uA(e,i,a){var l=i.pendingProps;switch(Lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(i),null;case 1:return ce(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),dr(xe),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ya(i)?yr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),ce(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(yr(i),d!==null?(ce(i),r_(i,d)):(ce(i),Cd(i,h,null,l,a))):d?d!==e.memoizedState?(yr(i),ce(i),r_(i,d)):(ce(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&yr(i),ce(i),Cd(i,h,e,l,a)),null;case 27:if(ti(i),a=Et.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ce(i),null}e=ot.current,Ya(i)?kp(i):(e=hv(h,l,a),i.stateNode=e,yr(i))}return ce(i),null;case 5:if(ti(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ce(i),null}if(d=ot.current,Ya(i))kp(i);else{var _=Bc(Et.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ne]=i,d[Qe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(an(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&yr(i)}}return ce(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Ya(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(e.nodeValue,a)),e||Xr(i,!0)}else e=Bc(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return ce(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ya(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ne]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),e=!1}else a=kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Xn(i),i):(Xn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ce(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ya(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),h=!1}else h=kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Xn(i),i):(Xn(i),null)}return Xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),ce(i),null);case 4:return Gt(),e===null&&Xd(i.stateNode.containerInfo),ce(i),null;case 10:return dr(i.type),ce(i),null;case 19:if(G(we),l=i.memoizedState,l===null)return ce(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=fc(e),d!==null){for(i.flags|=128,Al(l,!1),e=d.updateQueue,i.updateQueue=e,wc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Mp(a,e),a=a.sibling;return rt(we,we.current&1|2),Ht&&hr(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Ye()>Nc&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304)}else{if(!h)if(e=fc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,wc(i,e),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ht)return ce(i),null}else 2*Ye()-l.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ye(),e.sibling=null,a=we.current,rt(we,h?a&1|2:a&1),Ht&&hr(i,l.treeForkCount),e):(ce(i),null);case 22:case 23:return Xn(i),$f(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ce(i),i.subtreeFlags&6&&(i.flags|=8192)):ce(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&G(ea),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),dr(xe),ce(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function cA(e,i){switch(Lf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return dr(xe),Gt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ti(i),null;case 31:if(i.memoizedState!==null){if(Xn(i),i.alternate===null)throw Error(s(340));Zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Xn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(we),null;case 4:return Gt(),null;case 10:return dr(i.type),null;case 22:case 23:return Xn(i),$f(),e!==null&&G(ea),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return dr(xe),null;case 25:return null;default:return null}}function s_(e,i){switch(Lf(i),i.tag){case 3:dr(xe),Gt();break;case 26:case 27:case 5:ti(i);break;case 4:Gt();break;case 31:i.memoizedState!==null&&Xn(i);break;case 13:Xn(i);break;case 19:G(we);break;case 10:dr(i.type);break;case 22:case 23:Xn(i),$f(),e!==null&&G(ea);break;case 24:dr(xe)}}function wl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){te(i,i.return,T)}}function ns(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,z=T;try{z()}catch(Q){te(h,N,Q)}}}l=l.next}while(l!==d)}}catch(Q){te(i,i.return,Q)}}function a_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{$p(i,a)}catch(l){te(e,e.return,l)}}}function o_(e,i,a){a.props=aa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){te(e,i,l)}}function Rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){te(e,i,h)}}function Qi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){te(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,i,h)}else a.current=null}function l_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function Id(e,i,a){try{var l=e.stateNode;MA(l,e.type,a,i),l[Qe]=i}catch(h){te(e,e.return,h)}}function u_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||u_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Rc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Rc(e,i,a),e=e.sibling;e!==null;)Rc(e,i,a),e=e.sibling}function c_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);an(i,l,a),i[Ne]=e,i[Qe]=a}catch(d){te(e,e.return,d)}}var _r=!1,Ue=!1,Od=!1,h_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function hA(e,i){if(e=e.containerInfo,Zd=Kc,e=Sp(e),Af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,N=-1,z=0,Q=0,Z=e,B=null;e:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++Q===l&&(N=_),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:e,selectionRange:a},Kc=!1,$e=i;$e!==null;)if(i=$e,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,$e=e;else for(;$e!==null;){switch(i=$e,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=aa(a.type,h);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){te(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,$e=e;break}$e=i.return}}function f_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),l&4&&wl(5,a);break;case 1:if(Er(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){te(a,a.return,_)}else{var h=aa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){te(a,a.return,_)}}l&64&&a_(a),l&512&&Rl(a,a.return);break;case 3:if(Er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$p(e,i)}catch(_){te(a,a.return,_)}}break;case 27:i===null&&l&4&&c_(a);case 26:case 5:Er(e,a),i===null&&l&4&&l_(a),l&512&&Rl(a,a.return);break;case 12:Er(e,a);break;case 31:Er(e,a),l&4&&g_(e,a);break;case 13:Er(e,a),l&4&&p_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=EA.bind(null,a),BA(e,a))));break;case 22:if(l=a.memoizedState!==null||_r,!l){i=i!==null&&i.memoizedState!==null||Ue,h=_r;var d=Ue;_r=l,(Ue=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),_r=h,Ue=d}break;case 30:break;default:Er(e,a)}}function d_(e){var i=e.alternate;i!==null&&(e.alternate=null,d_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Da(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,Nn=!1;function vr(e,i,a){for(a=a.child;a!==null;)m_(e,i,a),a=a.sibling}function m_(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ue||Qi(a,i),vr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Qi(a,i);var l=ye,h=Nn;us(a.type)&&(ye=a.stateNode,Nn=!1),vr(e,i,a),Ll(a.stateNode),ye=l,Nn=h;break;case 5:Ue||Qi(a,i);case 6:if(l=ye,h=Nn,ye=null,vr(e,i,a),ye=l,Nn=h,ye!==null)if(Nn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){te(a,i,d)}else try{ye.removeChild(a.stateNode)}catch(d){te(a,i,d)}break;case 18:ye!==null&&(Nn?(e=ye,av(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),mo(e)):av(ye,a.stateNode));break;case 4:l=ye,h=Nn,ye=a.stateNode.containerInfo,Nn=!0,vr(e,i,a),ye=l,Nn=h;break;case 0:case 11:case 14:case 15:ns(2,a,i),Ue||ns(4,a,i),vr(e,i,a);break;case 1:Ue||(Qi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,i,l)),vr(e,i,a);break;case 21:vr(e,i,a);break;case 22:Ue=(l=Ue)||a.memoizedState!==null,vr(e,i,a),Ue=l;break;default:vr(e,i,a)}}function g_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mo(e)}catch(a){te(i,i.return,a)}}}function p_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mo(e)}catch(a){te(i,i.return,a)}}function fA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new h_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new h_),i;default:throw Error(s(435,e.tag))}}function Cc(e,i){var a=fA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=TA.bind(null,e,l);l.then(h,h)}})}function On(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(us(T.type)){ye=T.stateNode,Nn=!1;break t}break;case 5:ye=T.stateNode,Nn=!1;break t;case 3:case 4:ye=T.stateNode.containerInfo,Nn=!0;break t}T=T.return}if(ye===null)throw Error(s(160));m_(d,_,h),ye=null,Nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)y_(i,e),i=i.sibling}var Ai=null;function y_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(i,e),Mn(e),l&4&&(ns(3,e,e.return),wl(3,e),ns(5,e,e.return));break;case 1:On(i,e),Mn(e),l&512&&(Ue||a===null||Qi(a,a.return)),l&64&&_r&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ai;if(On(i,e),Mn(e),l&512&&(Ue||a===null||Qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Vi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),an(d,l,a),d[Ne]=e,Oe(d),l=d;break t;case"link":var _=yv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;case"meta":if(_=yv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,Oe(d),l=d}e.stateNode=l}else _v(h,e.type,e.stateNode);else e.stateNode=pv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(h,e.type,e.stateNode):pv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Id(e,e.memoizedProps,a.memoizedProps)}break;case 27:On(i,e),Mn(e),l&512&&(Ue||a===null||Qi(a,a.return)),a!==null&&l&4&&Id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(On(i,e),Mn(e),l&512&&(Ue||a===null||Qi(a,a.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(ft){te(e,e.return,ft)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Id(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(On(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ft){te(e,e.return,ft)}}break;case 3:if(Hc=null,h=Ai,Ai=jc(i.containerInfo),On(i,e),Ai=h,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(i.containerInfo)}catch(ft){te(e,e.return,ft)}Od&&(Od=!1,__(e));break;case 4:l=Ai,Ai=jc(e.stateNode.containerInfo),On(i,e),Mn(e),Ai=l;break;case 12:On(i,e),Mn(e);break;case 31:On(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 13:On(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=Ye()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=_r,Q=Ue;if(_r=z||h,Ue=Q||N,On(i,e),Ue=Q,_r=z,Mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||_r||Ue||oa(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var Z=N.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ft){te(N,N.return,ft)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ft){te(N,N.return,ft)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?ov(H,!0):ov(N.stateNode,!1)}catch(ft){te(N,N.return,ft)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(e,a))));break;case 19:On(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 30:break;case 21:break;default:On(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(e);Rc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Dn(_,""),a.flags&=-33);var T=Dd(e);Rc(e,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Dd(e);Nd(e,z,N);break;default:throw Error(s(161))}}catch(Q){te(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function __(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;__(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f_(e,i.alternate,i),i=i.sibling}function oa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ns(4,i,i.return),oa(i);break;case 1:Qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&o_(i,i.return,a),oa(i);break;case 27:Ll(i.stateNode);case 26:case 5:Qi(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),wl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Xp(N[h],T)}catch(z){te(l,l.return,z)}}a&&_&64&&a_(d),Rl(d,d.return);break;case 27:c_(d);case 26:case 5:Tr(h,d,a),a&&l===null&&_&4&&l_(d),Rl(d,d.return);break;case 12:Tr(h,d,a);break;case 31:Tr(h,d,a),a&&_&4&&g_(h,d);break;case 13:Tr(h,d,a),a&&_&4&&p_(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),Rl(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function Md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function xd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&fl(e))}function wi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(e,i,a,l),i=i.sibling}function v_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:wi(e,i,a,l),h&2048&&wl(9,i);break;case 1:wi(e,i,a,l);break;case 3:wi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&fl(e)));break;case 12:if(h&2048){wi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){te(i,i.return,N)}}else wi(e,i,a,l);break;case 31:wi(e,i,a,l);break;case 13:wi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?wi(e,i,a,l):Cl(e,i):d._visibility&2?wi(e,i,a,l):(d._visibility|=2,no(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:wi(e,i,a,l),h&2048&&xd(i.alternate,i);break;default:wi(e,i,a,l)}}function no(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:no(d,_,T,N,h),wl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?no(d,_,T,N,h):Cl(d,_):(Q._visibility|=2,no(d,_,T,N,h)),h&&z&2048&&Md(_.alternate,_);break;case 24:no(d,_,T,N,h),h&&z&2048&&xd(_.alternate,_);break;default:no(d,_,T,N,h)}i=i.sibling}}function Cl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Cl(a,l),h&2048&&Md(l.alternate,l);break;case 24:Cl(a,l),h&2048&&xd(l.alternate,l);break;default:Cl(a,l)}i=i.sibling}}var Il=8192;function io(e,i,a){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)E_(e,i,a),e=e.sibling}function E_(e,i,a){switch(e.tag){case 26:io(e,i,a),e.flags&Il&&e.memoizedState!==null&&ZA(a,Ai,e.memoizedState,e.memoizedProps);break;case 5:io(e,i,a);break;case 3:case 4:var l=Ai;Ai=jc(e.stateNode.containerInfo),io(e,i,a),Ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,io(e,i,a),Il=l):io(e,i,a));break;default:io(e,i,a)}}function T_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,S_(l,e)}T_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b_(e),e=e.sibling}function b_(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&ns(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ic(e)):Dl(e);break;default:Dl(e)}}function Ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,S_(l,e)}T_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ns(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}e=e.sibling}}function S_(e,i){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=e;$e!==null;){l=$e;var h=l.sibling,d=l.return;if(d_(l),l===a){$e=null;break t}if(h!==null){h.return=d,$e=h;break t}$e=d}}}var dA={getCacheForType:function(e){var i=rn(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return rn(xe).controller.signal}},mA=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,Lt=null,Pt=0,Wt=0,$n=null,is=!1,ro=!1,Vd=!1,br=0,Te=0,rs=0,la=0,Ld=0,Jn=0,so=0,Nl=null,xn=null,Ud=!1,Dc=0,A_=0,Nc=1/0,Oc=null,ss=null,He=0,as=null,ao=null,Sr=0,kd=0,Pd=null,w_=null,Ol=0,zd=null;function Zn(){return($t&2)!==0&&Pt!==0?Pt&-Pt:q.T!==null?Gd():Hn()}function R_(){if(Jn===0)if((Pt&536870912)===0||Ht){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Jn=e}else Jn=536870912;return e=Qn.current,e!==null&&(e.flags|=32),Jn}function Vn(e,i,a){(e===oe&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(oo(e,0),os(e,Pt,Jn,!1)),Cn(e,a),(($t&2)===0||e!==oe)&&(e===oe&&(($t&2)===0&&(la|=a),Te===4&&os(e,Pt,Jn,!1)),Xi(e))}function C_(e,i,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||De(e,i),h=l?yA(e,i):jd(e,i,!0),d=l;do{if(h===0){ro&&!l&&os(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!gA(a)){h=jd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=Nl;var N=T.current.memoizedState.isDehydrated;if(N&&(oo(T,_).flags|=256),_=jd(T,_,!1),_!==2){if(Vd&&!N){T.errorRecoveryDisabledLanes|=d,la|=d,h=4;break t}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){oo(e,0),os(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:os(l,i,Jn,!is);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Dc+300-Ye(),10<h)){if(os(l,i,Jn,!is),ge(l,0,!0)!==0)break t;Sr=i,l.timeoutHandle=rv(I_.bind(null,l,a,xn,Oc,Ud,i,Jn,la,so,is,d,"Throttled",-0,0),h);break t}I_(l,a,xn,Oc,Ud,i,Jn,la,so,is,d,null,-0,0)}}break}while(!0);Xi(e)}function I_(e,i,a,l,h,d,_,T,N,z,Q,Z,B,H){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},E_(i,d,Z);var ft=(d&62914560)===d?Dc-Ye():(d&4194048)===d?A_-Ye():0;if(ft=WA(Z,ft),ft!==null){Sr=d,e.cancelPendingCommit=ft(U_.bind(null,e,i,d,a,l,h,_,T,N,Q,Z,null,B,H)),os(e,d,_,!z);return}}U_(e,i,d,a,l,h,_,T,N)}function gA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function os(e,i,a,l){i&=~Ld,i&=~la,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fn(e,a,i)}function Mc(){return($t&6)===0?(Ml(0),!1):!0}function Bd(){if(Lt!==null){if(Wt===0)var e=Lt.return;else e=Lt,fr=Ws=null,nd(e),Ja=null,ml=0,e=Lt;for(;e!==null;)s_(e.alternate,e),e=e.return;Lt=null}}function oo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,LA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sr=0,Bd(),oe=e,Lt=a=cr(e.current,null),Pt=i,Wt=0,$n=null,is=!1,ro=De(e,i),Vd=!1,so=Jn=Ld=la=rs=Te=0,xn=Nl=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return br=i,Wu(),a}function D_(e,i){Nt=null,q.H=bl,i===$a||i===oc?(i=Gp(),Wt=3):i===Ff?(i=Gp(),Wt=4):Wt=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,Lt===null&&(Te=1,Tc(e,ui(i,e.current)))}function N_(){var e=Qn.current;return e===null?!0:(Pt&4194048)===Pt?di===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===di:!1}function O_(){var e=q.H;return q.H=bl,e===null?bl:e}function M_(){var e=q.A;return q.A=dA,e}function xc(){Te=4,is||(Pt&4194048)!==Pt&&Qn.current!==null||(ro=!0),(rs&134217727)===0&&(la&134217727)===0||oe===null||os(oe,Pt,Jn,!1)}function jd(e,i,a){var l=$t;$t|=2;var h=O_(),d=M_();(oe!==e||Pt!==i)&&(Oc=null,oo(e,i)),i=!1;var _=Te;t:do try{if(Wt!==0&&Lt!==null){var T=Lt,N=$n;switch(Wt){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(i=!0);var z=Wt;if(Wt=0,$n=null,lo(e,T,N,z),a&&ro){_=0;break t}break;default:z=Wt,Wt=0,$n=null,lo(e,T,N,z)}}pA(),_=Te;break}catch(Q){D_(e,Q)}while(!0);return i&&e.shellSuspendCounter++,fr=Ws=null,$t=l,q.H=h,q.A=d,Lt===null&&(oe=null,Pt=0,Wu()),_}function pA(){for(;Lt!==null;)x_(Lt)}function yA(e,i){var a=$t;$t|=2;var l=O_(),h=M_();oe!==e||Pt!==i?(Oc=null,Nc=Ye()+500,oo(e,i)):ro=De(e,i);t:do try{if(Wt!==0&&Lt!==null){i=Lt;var d=$n;e:switch(Wt){case 1:Wt=0,$n=null,lo(e,i,d,1);break;case 2:case 9:if(Hp(d)){Wt=0,$n=null,V_(i);break}i=function(){Wt!==2&&Wt!==9||oe!==e||(Wt=7),Xi(e)},d.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Hp(d)?(Wt=0,$n=null,V_(i)):(Wt=0,$n=null,lo(e,i,d,7));break;case 5:var _=null;switch(Lt.tag){case 26:_=Lt.memoizedState;case 5:case 27:var T=Lt;if(_?vv(_):T.stateNode.complete){Wt=0,$n=null;var N=T.sibling;if(N!==null)Lt=N;else{var z=T.return;z!==null?(Lt=z,Vc(z)):Lt=null}break e}}Wt=0,$n=null,lo(e,i,d,5);break;case 6:Wt=0,$n=null,lo(e,i,d,6);break;case 8:Bd(),Te=6;break t;default:throw Error(s(462))}}_A();break}catch(Q){D_(e,Q)}while(!0);return fr=Ws=null,q.H=l,q.A=h,$t=a,Lt!==null?0:(oe=null,Pt=0,Wu(),Te)}function _A(){for(;Lt!==null&&!kr();)x_(Lt)}function x_(e){var i=i_(e.alternate,e,br);e.memoizedProps=e.pendingProps,i===null?Vc(e):Lt=i}function V_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:nd(i);default:s_(a,i),i=Lt=Mp(i,br),i=i_(a,i,br)}e.memoizedProps=e.pendingProps,i===null?Vc(e):Lt=i}function lo(e,i,a,l){fr=Ws=null,nd(i),Ja=null,ml=0;var h=i.return;try{if(aA(e,h,i,a,Pt)){Te=1,Tc(e,ui(a,e.current)),Lt=null;return}}catch(d){if(h!==null)throw Lt=h,d;Te=1,Tc(e,ui(a,e.current)),Lt=null;return}i.flags&32768?(Ht||l===1?e=!0:ro||(Pt&536870912)!==0?e=!1:(is=e=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L_(i,e)):Vc(i)}function Vc(e){var i=e;do{if((i.flags&32768)!==0){L_(i,is);return}e=i.return;var a=uA(i.alternate,i,br);if(a!==null){Lt=a;return}if(i=i.sibling,i!==null){Lt=i;return}Lt=i=e}while(i!==null);Te===0&&(Te=5)}function L_(e,i){do{var a=cA(e.alternate,e);if(a!==null){a.flags&=32767,Lt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=a}while(e!==null);Te=6,Lt=null}function U_(e,i,a,l,h,d,_,T,N){e.cancelPendingCommit=null;do Lc();while(He!==0);if(($t&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Se(e,a,d,_,T,N),e===oe&&(Lt=oe=null,Pt=0),ao=i,as=e,Sr=a,kd=d,Pd=h,w_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(vn,function(){return j_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=et.p,et.p=2,_=$t,$t|=4;try{hA(e,i,a)}finally{$t=_,et.p=h,q.T=l}}He=1,k_(),P_(),z_()}}function k_(){if(He===1){He=0;var e=as,i=ao,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var h=$t;$t|=4;try{y_(i,e);var d=Wd,_=Sp(e.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&bp(T.ownerDocument.documentElement,T)){if(N!==null&&Af(T)){var z=N.start,Q=N.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),ft=T.textContent.length,bt=Math.min(N.start,ft),ae=N.end===void 0?bt:Math.min(N.end,ft);!H.extend&&bt>ae&&(_=ae,ae=bt,bt=_);var U=Tp(T,bt),x=Tp(T,ae);if(U&&x&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var P=Z.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),bt>ae?(H.addRange(P),H.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),H.addRange(P))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Kc=!!Zd,Wd=Zd=null}finally{$t=h,et.p=l,q.T=a}}e.current=i,He=2}}function P_(){if(He===2){He=0;var e=as,i=ao,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var h=$t;$t|=4;try{f_(e,i.alternate,i)}finally{$t=h,et.p=l,q.T=a}}He=3}}function z_(){if(He===4||He===3){He=0,Ls();var e=as,i=ao,a=Sr,l=w_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,ao=as=null,B_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ss=null),Tn(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,h=et.p,et.p=2,q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{q.T=i,et.p=h}}(Sr&3)!==0&&Lc(),Xi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===zd?Ol++:(Ol=0,zd=e):Ol=0,Ml(0)}}function B_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,fl(i)))}function Lc(){return k_(),P_(),z_(),j_()}function j_(){if(He!==5)return!1;var e=as,i=kd;kd=0;var a=Tn(Sr),l=q.T,h=et.p;try{et.p=32>a?32:a,q.T=null,a=Pd,Pd=null;var d=as,_=Sr;if(He=0,ao=as=null,Sr=0,($t&6)!==0)throw Error(s(331));var T=$t;if($t|=4,b_(d.current),v_(d,d.current,_,a),$t=T,Ml(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{et.p=h,q.T=l,B_(e,i)}}function q_(e,i,a){i=ui(a,i),i=yd(e.stateNode,i,2),e=Wr(e,i,2),e!==null&&(Cn(e,2),Xi(e))}function te(e,i,a){if(e.tag===3)q_(e,e,a);else for(;i!==null;){if(i.tag===3){q_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){e=ui(a,e),a=Hy(2),l=Wr(i,a,2),l!==null&&(Fy(a,l,i,e),Cn(l,2),Xi(l));break}}i=i.return}}function qd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new mA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Vd=!0,h.add(a),e=vA.bind(null,e,i,a),i.then(e,e))}function vA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(Pt&a)===a&&(Te===4||Te===3&&(Pt&62914560)===Pt&&300>Ye()-Dc?($t&2)===0&&oo(e,0):Ld|=a,so===Pt&&(so=0)),Xi(e)}function H_(e,i){i===0&&(i=Ke()),e=$s(e,i),e!==null&&(Cn(e,i),Xi(e))}function EA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),H_(e,a)}function TA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),H_(e,a)}function bA(e,i){return ne(e,i)}var Uc=null,uo=null,Hd=!1,kc=!1,Fd=!1,ls=0;function Xi(e){e!==uo&&e.next===null&&(uo===null?Uc=uo=e:uo=uo.next=e),kc=!0,Hd||(Hd=!0,AA())}function Ml(e,i){if(!Fd&&kc){Fd=!0;do for(var a=!1,l=Uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=Pt,d=ge(l,l===oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||De(l,d)||(a=!0,K_(l,d));l=l.next}while(a);Fd=!1}}function SA(){F_()}function F_(){kc=Hd=!1;var e=0;ls!==0&&VA()&&(e=ls);for(var i=Ye(),a=null,l=Uc;l!==null;){var h=l.next,d=G_(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(uo=a)):(a=l,(e!==0||(d&3)!==0)&&(kc=!0)),l=h}He!==0&&He!==5||Ml(e),ls!==0&&(ls=0)}function G_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=hn(T,i)):N<=i&&(e.expiredLanes|=T),d&=~T}if(i=oe,a=Pt,a=ge(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||De(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&zn(l),Tn(a)){case 2:case 8:a=ni;break;case 32:a=vn;break;case 268435456:a=ks;break;default:a=vn}return l=Y_.bind(null,e),a=ne(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&zn(l),e.callbackPriority=2,e.callbackNode=null,2}function Y_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Lc()&&e.callbackNode!==a)return null;var l=Pt;return l=ge(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(C_(e,l,i),G_(e,Ye()),e.callbackNode!=null&&e.callbackNode===a?Y_.bind(null,e):null)}function K_(e,i){if(Lc())return null;C_(e,i,!0)}function AA(){UA(function(){($t&6)!==0?ne(Us,SA):F_()})}function Gd(){if(ls===0){var e=Qa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),ls=e}return ls}function Q_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function X_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function wA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Q_((h[Qe]||null).action),_=l.submitter;_&&(i=(i=_[Qe]||null)?Q_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new qi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var N=_?X_(h,_):new FormData(h);hd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?X_(h,_):new FormData(h),hd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Yd=0;Yd<If.length;Yd++){var Kd=If[Yd],RA=Kd.toLowerCase(),CA=Kd[0].toUpperCase()+Kd.slice(1);Si(RA,"on"+CA)}Si(Rp,"onAnimationEnd"),Si(Cp,"onAnimationIteration"),Si(Ip,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(HS,"onTransitionRun"),Si(FS,"onTransitionStart"),Si(GS,"onTransitionCancel"),Si(Dp,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function $_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,z=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,z=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=N}}}}function Ut(e,i){var a=i[Ia];a===void 0&&(a=i[Ia]=new Set);var l=e+"__bubble";a.has(l)||(J_(i,e,2,!1),a.add(l))}function Qd(e,i,a){var l=0;i&&(l|=4),J_(a,e,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[Pc]){e[Pc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(IA.has(a)||Qd(a,!1,e),Qd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Qd("selectionchange",!1,i))}}function J_(e,i,a,l){switch(Rv(i)){case 2:var h=n1;break;case 8:h=i1;break;default:h=cm}a=h.bind(null,i,a,e),h=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function $d(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Li(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}T=T.parentNode}}l=l.return}Hr(function(){var z=d,Q=si(a),Z=[];t:{var B=Np.get(e);if(B!==void 0){var H=qi,ft=e;switch(e){case"keypress":if(Fs(a)===0)break t;case"keydown":case"keyup":H=Xu;break;case"focusin":ft="focus",H=Ys;break;case"focusout":ft="blur",H=Ys;break;case"beforeblur":case"afterblur":H=Ys;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Rp:case Cp:case Ip:H=qu;break;case Dp:H=S;break;case"scroll":case"scrollend":H=il;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ur;break;case"toggle":case"beforetoggle":H=Dt}var bt=(i&4)!==0,ae=!bt&&(e==="scroll"||e==="scrollend"),U=bt?B!==null?B+"Capture":null:B;bt=[];for(var x=z,P;x!==null;){var $=x;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||U===null||($=vi(x,U),$!=null&&bt.push(Vl(x,$,P))),ae)break;x=x.return}0<bt.length&&(B=new H(B,ft,null,a,Q),Z.push({event:B,listeners:bt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==tl&&(ft=a.relatedTarget||a.fromElement)&&(Li(ft)||ft[xi]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ft=a.relatedTarget||a.toElement,H=z,ft=ft?Li(ft):null,ft!==null&&(ae=u(ft),bt=ft.tag,ft!==ae||bt!==5&&bt!==27&&bt!==6)&&(ft=null)):(H=null,ft=z),H!==ft)){if(bt=rl,$="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(bt=ur,$="onPointerLeave",U="onPointerEnter",x="pointer"),ae=H==null?B:Fn(H),P=ft==null?B:Fn(ft),B=new bt($,x+"leave",H,a,Q),B.target=ae,B.relatedTarget=P,$=null,Li(Q)===z&&(bt=new bt(U,x+"enter",ft,a,Q),bt.target=P,bt.relatedTarget=ae,$=bt),ae=$,H&&ft)e:{for(bt=DA,U=H,x=ft,P=0,$=U;$;$=bt($))P++;$=0;for(var _t=x;_t;_t=bt(_t))$++;for(;0<P-$;)U=bt(U),P--;for(;0<$-P;)x=bt(x),$--;for(;P--;){if(U===x||x!==null&&U===x.alternate){bt=U;break e}U=bt(U),x=bt(x)}bt=null}else bt=null;H!==null&&Z_(Z,B,H,bt,!1),ft!==null&&ae!==null&&Z_(Z,ae,ft,bt,!0)}}t:{if(B=z?Fn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Kt=gp;else if(dp(B))if(pp)Kt=BS;else{Kt=PS;var gt=kS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ma(z.elementType)&&(Kt=gp):Kt=zS;if(Kt&&(Kt=Kt(e,z))){mp(Z,Kt,a,Q);break t}gt&&gt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Jo(B,"number",B.value)}switch(gt=z?Fn(z):window,e){case"focusin":(dp(gt)||gt.contentEditable==="true")&&(Ba=gt,wf=z,ul=null);break;case"focusout":ul=wf=Ba=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Ap(Z,a,Q);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":Ap(Z,a,Q)}var Mt;if(Xt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else za?Ks(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Gi&&a.locale!=="ko"&&(za||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&za&&(Mt=nl()):(ji=Q,el="value"in ji?ji.value:ji.textContent,za=!0)),gt=zc(z,zt),0<gt.length&&(zt=new Fi(zt,e,null,a,Q),Z.push({event:zt,listeners:gt}),Mt?zt.data=Mt:(Mt=Pa(a),Mt!==null&&(zt.data=Mt)))),(Mt=oi?xS(e,a):VS(e,a))&&(zt=zc(z,"onBeforeInput"),0<zt.length&&(gt=new Fi("onBeforeInput","beforeinput",null,a,Q),Z.push({event:gt,listeners:zt}),gt.data=Mt)),wA(Z,e,z,a,Q)}$_(Z,i)})}function Vl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function zc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vi(e,a),h!=null&&l.unshift(Vl(e,h,d)),h=vi(e,i),h!=null&&l.push(Vl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function DA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Z_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,z=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||z===null||(N=z,h?(z=vi(a,d),z!=null&&_.unshift(Vl(a,z,N))):h||(z=vi(a,d),z!=null&&_.push(Vl(a,z,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var NA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function W_(e){return(typeof e=="string"?e:""+e).replace(NA,`
`).replace(OA,"")}function tv(e,i){return i=W_(i),W_(e)===i}function se(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":Wo(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=xa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&se(e,i,"name",h.name,h,null),se(e,i,"formEncType",h.formEncType,h,null),se(e,i,"formMethod",h.formMethod,h,null),se(e,i,"formTarget",h.formTarget,h,null)):(se(e,i,"encType",h.encType,h,null),se(e,i,"method",h.method,h,null),se(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=xa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=_i);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=xa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),Na(e,"popover",l);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,Na(e,a,l))}}function Jd(e,i,a,l,h,d){switch(a){case"style":Wo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&Dn(e,""+l);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Qe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Na(e,a,l)}}}function an(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:se(e,i,d,_,a,null)}}h&&se(e,i,"srcSet",a.srcSet,a,null),l&&se(e,i,"src",a.src,a,null);return;case"input":Ut("invalid",e);var T=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":N=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:se(e,i,l,Q,a,null)}}Uu(e,d,T,N,z,_,h,!1);return;case"select":Ut("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:se(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?zr(e,!!l,i,!1):a!=null&&zr(e,!!l,a,!0);return;case"textarea":Ut("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:se(e,i,_,T,a,null)}Br(e,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":se(e,i,N,l,a,null));return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ut(xl[l],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:se(e,i,z,l,a,null)}return;default:if(Ma(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Jd(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&se(e,i,T,l,a,null))}function MA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,z=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(H)||se(e,i,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&se(e,i,B,H,l,Z)}}Oa(e,_,T,N,z,Q,d,h);return;case"select":H=_=T=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(d)||se(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&se(e,i,h,d,l,N)}i=T,a=_,l=H,B!=null?zr(e,!!a,B,!1):!!l!=!!a&&(i!=null?zr(e,!!a,i,!0):zr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:se(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&se(e,i,_,h,l,d)}ku(e,B,H);return;case"option":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&(ft==="selected"?e.selected=!1:se(e,i,ft,null,l,B));for(N in l)B=l[N],H=a[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":se(e,i,N,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)B=a[bt],a.hasOwnProperty(bt)&&B!=null&&!l.hasOwnProperty(bt)&&se(e,i,bt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:se(e,i,z,B,l,H)}return;default:if(Ma(i)){for(var ae in a)B=a[ae],a.hasOwnProperty(ae)&&B!==void 0&&!l.hasOwnProperty(ae)&&Jd(e,i,ae,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Jd(e,i,Q,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&se(e,i,U,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||se(e,i,Z,B,l,H)}function ev(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&ev(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>T)break;var Q=N.transferSize,Z=N.initiatorType;Q&&ev(Z)&&(N=N.responseEnd,_+=Q*(N<T?1:(T-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Wd=null;function Bc(e){return e.nodeType===9?e:e.ownerDocument}function nv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function tm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function VA(){var e=window.event;return e&&e.type==="popstate"?e===em?!1:(em=e,!0):(em=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(kA)}:rv;function kA(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function av(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),mo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(e.ownerDocument.body);a=h}while(a);mo(i)}function ov(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function nm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function PA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=mi(e.nextSibling),e===null)break}return null}function zA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=mi(e.nextSibling),e===null))return null;return e}function lv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=mi(e.nextSibling),e===null))return null;return e}function im(e){return e.data==="$?"||e.data==="$~"}function rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function BA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function mi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var sm=null;function uv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return mi(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function cv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function hv(e,i,a){switch(i=Bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ll(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Da(e)}var gi=new Map,fv=new Set;function jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ar=et.d;et.d={f:jA,r:qA,D:HA,C:FA,L:GA,m:YA,X:QA,S:KA,M:XA};function jA(){var e=Ar.f(),i=Mc();return e||i}function qA(e){var i=ri(e);i!==null&&i.tag===5&&i.type==="form"?Dy(i):Ar.r(e)}var co=typeof document>"u"?null:document;function dv(e,i,a){var l=co;if(l&&typeof i=="string"&&i){var h=In(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fv.has(h)||(fv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),an(i,"link",e),Oe(i),l.head.appendChild(i)))}}function HA(e){Ar.D(e),dv("dns-prefetch",e,null)}function FA(e,i){Ar.C(e,i),dv("preconnect",e,i)}function GA(e,i,a){Ar.L(e,i,a);var l=co;if(l&&e&&i){var h='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+In(a.imageSizes)+'"]')):h+='[href="'+In(e)+'"]';var d=h;switch(i){case"style":d=ho(e);break;case"script":d=fo(e)}gi.has(d)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),gi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),an(i,"link",e),Oe(i),l.head.appendChild(i)))}}function YA(e,i){Ar.m(e,i);var a=co;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(e)}if(!gi.has(d)&&(e=b({rel:"modulepreload",href:e},i),gi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),an(l,"link",e),Oe(l),a.head.appendChild(l)}}}function KA(e,i,a){Ar.S(e,i,a);var l=co;if(l&&e){var h=Ui(l).hoistableStyles,d=ho(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ul(d)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=gi.get(d))&&am(e,a);var N=_=l.createElement("link");Oe(N),an(N,"link",e),N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function QA(e,i){Ar.X(e,i);var a=co;if(a&&e){var l=Ui(a).hoistableScripts,h=fo(e),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(e=b({src:e,async:!0},i),(i=gi.get(h))&&om(e,i),d=a.createElement("script"),Oe(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(e,i){Ar.M(e,i);var a=co;if(a&&e){var l=Ui(a).hoistableScripts,h=fo(e),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(e=b({src:e,async:!0,type:"module"},i),(i=gi.get(h))&&om(e,i),d=a.createElement("script"),Oe(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(e,i,a,l){var h=(h=Et.current)?jc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ho(a.href),a=Ui(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ho(a.href);var d=Ui(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Ul(e)))&&!d._p&&(_.instance=d,_.state.loading=5),gi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(e,a),d||$A(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(a),a=Ui(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ho(e){return'href="'+In(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function gv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),an(i,"link",a),Oe(i),e.head.appendChild(i))}function fo(e){return'[src="'+In(e)+'"]'}function kl(e){return"script[async]"+e}function pv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+In(a.href)+'"]');if(l)return i.instance=l,Oe(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Oe(l),an(l,"style",h),qc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ho(a.href);var d=e.querySelector(Ul(h));if(d)return i.state.loading|=4,i.instance=d,Oe(d),d;l=gv(a),(h=gi.get(h))&&am(l,h),d=(e.ownerDocument||e).createElement("link"),Oe(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),an(d,"link",l),i.state.loading|=4,qc(d,a.precedence,e),i.instance=d;case"script":return d=fo(a.src),(h=e.querySelector(kl(d)))?(i.instance=h,Oe(h),h):(l=a,(h=gi.get(d))&&(l=b({},a),om(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),an(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,e));return i.instance}function qc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Hc=null;function yv(e,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Vi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function _v(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function JA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ho(l.href),d=i.querySelector(Ul(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Fc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Oe(d);return}d=i.ownerDocument||i,l=gv(l),(h=gi.get(h))&&am(l,h),d=d.createElement("link"),Oe(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),an(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Fc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function WA(e,i){return e.stylesheets&&e.count===0&&Yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&lm===0&&(lm=62500*xA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>lm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gc=null;function Yc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gc=new Map,i.forEach(t1,e),Gc=null,Fc.call(e))}function t1(e,i){if(!(i.state.loading&4)){var a=Gc.get(e);if(a)var l=a.get(null);else{a=new Map,Gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Pl={$$typeof:it,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function e1(e,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ev(e,i,a,l,h,d,_,T,N,z,Q,Z){return e=new e1(e,i,a,_,N,z,Q,Z,T),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),e.current=d,d.stateNode=e,i=jf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),e}function Tv(e){return e?(e=Ha,e):Ha}function bv(e,i,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Wr(e,l,i),a!==null&&(Vn(a,e,i),pl(a,e,i))}function Sv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function um(e,i){Sv(e,i),(e=e.alternate)&&Sv(e,i)}function Av(e){if(e.tag===13||e.tag===31){var i=$s(e,67108864);i!==null&&Vn(i,e,67108864),um(e,67108864)}}function wv(e){if(e.tag===13||e.tag===31){var i=Zn();i=qn(i);var a=$s(e,i);a!==null&&Vn(a,e,i),um(e,i)}}var Kc=!0;function n1(e,i,a,l){var h=q.T;q.T=null;var d=et.p;try{et.p=2,cm(e,i,a,l)}finally{et.p=d,q.T=h}}function i1(e,i,a,l){var h=q.T;q.T=null;var d=et.p;try{et.p=8,cm(e,i,a,l)}finally{et.p=d,q.T=h}}function cm(e,i,a,l){if(Kc){var h=hm(l);if(h===null)$d(e,i,l,Qc,a),Cv(e,l);else if(s1(h,e,i,a,l))l.stopPropagation();else if(Cv(e,l),i&4&&-1<r1.indexOf(e)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=me(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-de(_);T.entanglements[1]|=N,_&=~N}Xi(d),($t&6)===0&&(Nc=Ye()+500,Ml(0))}}break;case 31:case 13:T=$s(d,2),T!==null&&Vn(T,d,2),Mc(),um(d,2)}if(d=hm(l),d===null&&$d(e,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $d(e,i,l,null,a)}}function hm(e){return e=si(e),fm(e)}var Qc=null;function fm(e){if(Qc=null,e=Li(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Qc=e,null}function Rv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case Us:return 2;case ni:return 8;case vn:case rr:return 32;case ks:return 268435456;default:return 32}default:return 32}}var dm=!1,cs=null,hs=null,fs=null,zl=new Map,Bl=new Map,ds=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(e,i){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function jl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ri(i),i!==null&&Av(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function s1(e,i,a,l,h){switch(i){case"focusin":return cs=jl(cs,e,i,a,l,h),!0;case"dragenter":return hs=jl(hs,e,i,a,l,h),!0;case"mouseover":return fs=jl(fs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,jl(zl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,jl(Bl.get(d)||null,e,i,a,l,h)),!0}return!1}function Iv(e){var i=Li(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,tn(e.priority,function(){wv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,tn(e.priority,function(){wv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=hm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return i=ri(a),i!==null&&Av(i),e.blockedOn=a,!1;i.shift()}return!0}function Dv(e,i,a){Xc(e)&&a.delete(i)}function a1(){dm=!1,cs!==null&&Xc(cs)&&(cs=null),hs!==null&&Xc(hs)&&(hs=null),fs!==null&&Xc(fs)&&(fs=null),zl.forEach(Dv),Bl.forEach(Dv)}function $c(e,i){e.blockedOn===i&&(e.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,a1)))}var Jc=null;function Nv(e){Jc!==e&&(Jc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===e&&(Jc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=ri(a);d!==null&&(e.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function mo(e){function i(N){return $c(N,e)}cs!==null&&$c(cs,e),hs!==null&&$c(hs,e),fs!==null&&$c(fs,e),zl.forEach(i),Bl.forEach(i);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&ds.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Qe]||null;if(typeof d=="function")_||Nv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Qe]||null)T=_.formAction;else if(fm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Nv(a)}}}function Ov(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function mm(e){this._internalRoot=e}Zc.prototype.render=mm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Zn();bv(a,l,e,i,null,null)},Zc.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;bv(e.current,2,null,e,null,null),Mc(),i[xi]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ds.length&&i!==0&&i<ds[a].priority;a++);ds.splice(a,0,e),a===0&&Iv(e)}};var Mv=t.version;if(Mv!=="19.2.4")throw Error(s(527,Mv,"19.2.4"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var o1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{jn=Wc.inject(o1),qe=Wc}catch{}}return Hl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=zy,d=By,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ev(e,1,!1,null,null,a,l,null,h,d,_,Ov),e[xi]=i.current,Xd(e),new mm(i)},Hl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=zy,_=By,T=jy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Ev(e,1,!0,i,a??null,l,h,N,d,_,T,Ov),i.context=Tv(null),a=i.current,l=Zn(),l=qn(l),h=Zr(l),h.callback=null,Wr(a,h,l),a=l,i.current.lanes=a,Cn(i,a),Xi(i),e[xi]=i.current,Xd(e),new Zc(i)},Hl.version="19.2.4",Hl}var qv;function y1(){if(qv)return ym.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ym.exports=p1(),ym.exports}var _1=y1(),vo=VT();function v1(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return F.useMemo(()=>s=>{t.forEach(o=>o(s))},t)}const Fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vo(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function mg(r){return"nodeType"in r}function wn(r){var t,n;return r?Vo(r)?r:mg(r)&&(t=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function gg(r){const{Document:t}=wn(r);return r instanceof t}function _u(r){return Vo(r)?!1:r instanceof wn(r).HTMLElement}function LT(r){return r instanceof wn(r).SVGElement}function Lo(r){return r?Vo(r)?r.document:mg(r)?gg(r)?r:_u(r)||LT(r)?r.ownerDocument:document:document:document}const Ni=Fh?F.useLayoutEffect:F.useEffect;function Gh(r){const t=F.useRef(r);return Ni(()=>{t.current=r}),F.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}function E1(){const r=F.useRef(null),t=F.useCallback((s,o)=>{r.current=setInterval(s,o)},[]),n=F.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,n]}function su(r,t){t===void 0&&(t=[r]);const n=F.useRef(r);return Ni(()=>{n.current!==r&&(n.current=r)},t),n}function vu(r,t){const n=F.useRef();return F.useMemo(()=>{const s=r(n.current);return n.current=s,s},[...t])}function Eh(r){const t=Gh(r),n=F.useRef(null),s=F.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,s]}function Th(r){const t=F.useRef();return F.useEffect(()=>{t.current=r},[r]),t.current}let Tm={};function Eu(r,t){return F.useMemo(()=>{if(t)return t;const n=Tm[r]==null?0:Tm[r]+1;return Tm[r]=n,r+"-"+n},[r,t])}function UT(r){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[p,y]of m){const E=u[p];E!=null&&(u[p]=E+r*y)}return u},{...t})}}const Eo=UT(1),au=UT(-1);function T1(r){return"clientX"in r&&"clientY"in r}function Yh(r){if(!r)return!1;const{KeyboardEvent:t}=wn(r.target);return t&&r instanceof t}function b1(r){if(!r)return!1;const{TouchEvent:t}=wn(r.target);return t&&r instanceof t}function bh(r){if(b1(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:n}=r.touches[0];return{x:t,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:n}=r.changedTouches[0];return{x:t,y:n}}}return T1(r)?{x:r.clientX,y:r.clientY}:null}const Rs=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:n}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:n}=r;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[Rs.Translate.toString(r),Rs.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:n,easing:s}=r;return t+" "+n+"ms "+s}}}),Hv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function S1(r){return r.matches(Hv)?r:r.querySelector(Hv)}const A1={display:"none"};function w1(r){let{id:t,value:n}=r;return _e.createElement("div",{id:t,style:A1},n)}function R1(r){let{id:t,announcement:n,ariaLiveType:s="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _e.createElement("div",{id:t,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function C1(){const[r,t]=F.useState("");return{announce:F.useCallback(s=>{s!=null&&t(s)},[]),announcement:r}}const kT=F.createContext(null);function I1(r){const t=F.useContext(kT);F.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function D1(){const[r]=F.useState(()=>new Set),t=F.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[F.useCallback(s=>{let{type:o,event:u}=s;r.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[r]),t]}const N1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O1={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:n}=r;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:n}=r;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function M1(r){let{announcements:t=O1,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=N1}=r;const{announce:u,announcement:f}=C1(),m=Eu("DndLiveRegion"),[p,y]=F.useState(!1);if(F.useEffect(()=>{y(!0)},[]),I1(F.useMemo(()=>({onDragStart(b){let{active:R}=b;u(t.onDragStart({active:R}))},onDragMove(b){let{active:R,over:V}=b;t.onDragMove&&u(t.onDragMove({active:R,over:V}))},onDragOver(b){let{active:R,over:V}=b;u(t.onDragOver({active:R,over:V}))},onDragEnd(b){let{active:R,over:V}=b;u(t.onDragEnd({active:R,over:V}))},onDragCancel(b){let{active:R,over:V}=b;u(t.onDragCancel({active:R,over:V}))}}),[u,t])),!p)return null;const E=_e.createElement(_e.Fragment,null,_e.createElement(w1,{id:s,value:o.draggable}),_e.createElement(R1,{id:m,announcement:f}));return n?vo.createPortal(E,n):E}var Fe;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function Sh(){}function Fv(r,t){return F.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function x1(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return F.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Oi=Object.freeze({x:0,y:0});function V1(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function L1(r,t){const n=bh(r);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function U1(r,t){let{data:{value:n}}=r,{data:{value:s}}=t;return n-s}function k1(r,t){let{data:{value:n}}=r,{data:{value:s}}=t;return s-n}function Gv(r){let{left:t,top:n,height:s,width:o}=r;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+s},{x:t+o,y:n+s}]}function PT(r,t){if(!r||r.length===0)return null;const[n]=r;return n[t]}const zT=r=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=r;const o=Gv(t),u=[];for(const f of s){const{id:m}=f,p=n.get(m);if(p){const y=Gv(p),E=o.reduce((R,V,X)=>R+V1(y[X],V),0),b=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:b}})}}return u.sort(U1)};function P1(r,t){const n=Math.max(t.top,r.top),s=Math.max(t.left,r.left),o=Math.min(t.left+t.width,r.left+r.width),u=Math.min(t.top+t.height,r.top+r.height),f=o-s,m=u-n;if(s<o&&n<u){const p=t.width*t.height,y=r.width*r.height,E=f*m,b=E/(p+y-E);return Number(b.toFixed(4))}return 0}const z1=r=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=r;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const p=P1(m,t);p>0&&o.push({id:f,data:{droppableContainer:u,value:p}})}}return o.sort(k1)};function B1(r,t,n){return{...r,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function BT(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:Oi}function j1(r){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...n})}}const q1=j1(1);function jT(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function H1(r,t,n){const s=jT(t);if(!s)return r;const{scaleX:o,scaleY:u,x:f,y:m}=s,p=r.left-f-(1-o)*parseFloat(n),y=r.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),E=o?r.width/o:r.width,b=u?r.height/u:r.height;return{width:E,height:b,top:y,right:p+E,bottom:y+b,left:p}}const F1={ignoreTransform:!1};function Uo(r,t){t===void 0&&(t=F1);let n=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=wn(r).getComputedStyle(r);y&&(n=H1(n,y,E))}const{top:s,left:o,width:u,height:f,bottom:m,right:p}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:p}}function Yv(r){return Uo(r,{ignoreTransform:!0})}function G1(r){const t=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Y1(r,t){return t===void 0&&(t=wn(r).getComputedStyle(r)),t.position==="fixed"}function K1(r,t){t===void 0&&(t=wn(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=t[o];return typeof u=="string"?n.test(u):!1})}function Kh(r,t){const n=[];function s(o){if(t!=null&&n.length>=t||!o)return n;if(gg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!_u(o)||LT(o)||n.includes(o))return n;const u=wn(r).getComputedStyle(o);return o!==r&&K1(o,u)&&n.push(o),Y1(o,u)?n:s(o.parentNode)}return r?s(r):n}function qT(r){const[t]=Kh(r,1);return t??null}function bm(r){return!Fh||!r?null:Vo(r)?r:mg(r)?gg(r)||r===Lo(r).scrollingElement?window:_u(r)?r:null:null}function HT(r){return Vo(r)?r.scrollX:r.scrollLeft}function FT(r){return Vo(r)?r.scrollY:r.scrollTop}function Pm(r){return{x:HT(r),y:FT(r)}}var Ze;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Ze||(Ze={}));function GT(r){return!Fh||!r?!1:r===document.scrollingElement}function YT(r){const t={x:0,y:0},n=GT(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=t.y,u=r.scrollLeft<=t.x,f=r.scrollTop>=s.y,m=r.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:t}}const Q1={x:.2,y:.2};function X1(r,t,n,s,o){let{top:u,left:f,right:m,bottom:p}=n;s===void 0&&(s=10),o===void 0&&(o=Q1);const{isTop:y,isBottom:E,isLeft:b,isRight:R}=YT(r),V={x:0,y:0},X={x:0,y:0},Y={height:t.height*o.y,width:t.width*o.x};return!y&&u<=t.top+Y.height?(V.y=Ze.Backward,X.y=s*Math.abs((t.top+Y.height-u)/Y.height)):!E&&p>=t.bottom-Y.height&&(V.y=Ze.Forward,X.y=s*Math.abs((t.bottom-Y.height-p)/Y.height)),!R&&m>=t.right-Y.width?(V.x=Ze.Forward,X.x=s*Math.abs((t.right-Y.width-m)/Y.width)):!b&&f<=t.left+Y.width&&(V.x=Ze.Backward,X.x=s*Math.abs((t.left+Y.width-f)/Y.width)),{direction:V,speed:X}}function $1(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:t,left:n,right:s,bottom:o}=r.getBoundingClientRect();return{top:t,left:n,right:s,bottom:o,width:r.clientWidth,height:r.clientHeight}}function KT(r){return r.reduce((t,n)=>Eo(t,Pm(n)),Oi)}function J1(r){return r.reduce((t,n)=>t+HT(n),0)}function Z1(r){return r.reduce((t,n)=>t+FT(n),0)}function QT(r,t){if(t===void 0&&(t=Uo),!r)return;const{top:n,left:s,bottom:o,right:u}=t(r);qT(r)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const W1=[["x",["left","right"],J1],["y",["top","bottom"],Z1]];class pg{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Kh(n),o=KT(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,f,m]of W1)for(const p of f)Object.defineProperty(this,p,{get:()=>{const y=m(s),E=o[u]-y;return this.rect[p]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $l{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var o;(o=this.target)==null||o.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function tw(r){const{EventTarget:t}=wn(r);return r instanceof t?r:Lo(r)}function Sm(r,t){const n=Math.abs(r.x),s=Math.abs(r.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var pi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(pi||(pi={}));function Kv(r){r.preventDefault()}function ew(r){r.stopPropagation()}var Ft;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ft||(Ft={}));const XT={start:[Ft.Space,Ft.Enter],cancel:[Ft.Esc],end:[Ft.Space,Ft.Enter,Ft.Tab]},nw=(r,t)=>{let{currentCoordinates:n}=t;switch(r.code){case Ft.Right:return{...n,x:n.x+25};case Ft.Left:return{...n,x:n.x-25};case Ft.Down:return{...n,y:n.y+25};case Ft.Up:return{...n,y:n.y-25}}};class yg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $l(Lo(n)),this.windowListeners=new $l(wn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&QT(s),n(Oi)}handleKeyDown(t){if(Yh(t)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=XT,coordinateGetter:f=nw,scrollBehavior:m="smooth"}=o,{code:p}=t;if(u.end.includes(p)){this.handleEnd(t);return}if(u.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:y}=s.current,E=y?{x:y.left,y:y.top}:Oi;this.referenceCoordinates||(this.referenceCoordinates=E);const b=f(t,{active:n,context:s.current,currentCoordinates:E});if(b){const R=au(b,E),V={x:0,y:0},{scrollableAncestors:X}=s.current;for(const Y of X){const K=t.code,{isTop:nt,isRight:st,isLeft:it,isBottom:ht,maxScroll:pt,minScroll:ct}=YT(Y),C=$1(Y),w={x:Math.min(K===Ft.Right?C.right-C.width/2:C.right,Math.max(K===Ft.Right?C.left:C.left+C.width/2,b.x)),y:Math.min(K===Ft.Down?C.bottom-C.height/2:C.bottom,Math.max(K===Ft.Down?C.top:C.top+C.height/2,b.y))},I=K===Ft.Right&&!st||K===Ft.Left&&!it,O=K===Ft.Down&&!ht||K===Ft.Up&&!nt;if(I&&w.x!==b.x){const D=Y.scrollLeft+R.x,L=K===Ft.Right&&D<=pt.x||K===Ft.Left&&D>=ct.x;if(L&&!R.y){Y.scrollTo({left:D,behavior:m});return}L?V.x=Y.scrollLeft-D:V.x=K===Ft.Right?Y.scrollLeft-pt.x:Y.scrollLeft-ct.x,V.x&&Y.scrollBy({left:-V.x,behavior:m});break}else if(O&&w.y!==b.y){const D=Y.scrollTop+R.y,L=K===Ft.Down&&D<=pt.y||K===Ft.Up&&D>=ct.y;if(L&&!R.x){Y.scrollTo({top:D,behavior:m});return}L?V.y=Y.scrollTop-D:V.y=K===Ft.Down?Y.scrollTop-pt.y:Y.scrollTop-ct.y,V.y&&Y.scrollBy({top:-V.y,behavior:m});break}}this.handleMove(t,Eo(au(b,this.referenceCoordinates),V))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yg.activators=[{eventName:"onKeyDown",handler:(r,t,n)=>{let{keyboardCodes:s=XT,onActivation:o}=t,{active:u}=n;const{code:f}=r.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o?.({event:r.nativeEvent}),!0)}return!1}}];function Qv(r){return!!(r&&"distance"in r)}function Xv(r){return!!(r&&"delay"in r)}class _g{constructor(t,n,s){var o;s===void 0&&(s=tw(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:f}=u;this.props=t,this.events=n,this.document=Lo(f),this.documentListeners=new $l(this.document),this.listeners=new $l(s),this.windowListeners=new $l(wn(f)),this.initialCoordinates=(o=bh(u))!=null?o:Oi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,Kv),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,Kv),this.documentListeners.add(pi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xv(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Qv(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:o}=this.props;o(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(pi.Click,ew,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const p=(n=bh(t))!=null?n:Oi,y=au(o,p);if(!s&&m){if(Qv(m)){if(m.tolerance!=null&&Sm(y,m.tolerance))return this.handleCancel();if(Sm(y,m.distance))return this.handleStart()}if(Xv(m)&&Sm(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),f(p)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ft.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const iw={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vg extends _g{constructor(t){const{event:n}=t,s=Lo(n.target);super(t,iw,s)}}vg.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const rw={move:{name:"mousemove"},end:{name:"mouseup"}};var zm;(function(r){r[r.RightClick=2]="RightClick"})(zm||(zm={}));class sw extends _g{constructor(t){super(t,rw,Lo(t.event.target))}}sw.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;return n.button===zm.RightClick?!1:(s?.({event:n}),!0)}}];const Am={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class aw extends _g{constructor(t){super(t,Am)}static setup(){return window.addEventListener(Am.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Am.move.name,t)};function t(){}}}aw.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:n}=r,{onActivation:s}=t;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var Jl;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Jl||(Jl={}));var Ah;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ah||(Ah={}));function ow(r){let{acceleration:t,activator:n=Jl.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=Ah.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:E,delta:b,threshold:R}=r;const V=uw({delta:b,disabled:!u}),[X,Y]=E1(),K=F.useRef({x:0,y:0}),nt=F.useRef({x:0,y:0}),st=F.useMemo(()=>{switch(n){case Jl.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Jl.DraggableRect:return o}},[n,o,p]),it=F.useRef(null),ht=F.useCallback(()=>{const ct=it.current;if(!ct)return;const C=K.current.x*nt.current.x,w=K.current.y*nt.current.y;ct.scrollBy(C,w)},[]),pt=F.useMemo(()=>m===Ah.TreeOrder?[...y].reverse():y,[m,y]);F.useEffect(()=>{if(!u||!y.length||!st){Y();return}for(const ct of pt){if(s?.(ct)===!1)continue;const C=y.indexOf(ct),w=E[C];if(!w)continue;const{direction:I,speed:O}=X1(ct,w,st,t,R);for(const D of["x","y"])V[D][I[D]]||(O[D]=0,I[D]=0);if(O.x>0||O.y>0){Y(),it.current=ct,X(ht,f),K.current=O,nt.current=I;return}}K.current={x:0,y:0},nt.current={x:0,y:0},Y()},[t,ht,s,Y,u,f,JSON.stringify(st),JSON.stringify(V),X,y,pt,E,JSON.stringify(R)])}const lw={x:{[Ze.Backward]:!1,[Ze.Forward]:!1},y:{[Ze.Backward]:!1,[Ze.Forward]:!1}};function uw(r){let{delta:t,disabled:n}=r;const s=Th(t);return vu(o=>{if(n||!s||!o)return lw;const u={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Ze.Backward]:o.x[Ze.Backward]||u.x===-1,[Ze.Forward]:o.x[Ze.Forward]||u.x===1},y:{[Ze.Backward]:o.y[Ze.Backward]||u.y===-1,[Ze.Forward]:o.y[Ze.Forward]||u.y===1}}},[n,t,s])}function cw(r,t){const n=t!=null?r.get(t):void 0,s=n?n.node.current:null;return vu(o=>{var u;return t==null?null:(u=s??o)!=null?u:null},[s,t])}function hw(r,t){return F.useMemo(()=>r.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:t(f.handler,s)}));return[...n,...u]},[]),[r,t])}var ou;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(ou||(ou={}));var Bm;(function(r){r.Optimized="optimized"})(Bm||(Bm={}));const $v=new Map;function fw(r,t){let{dragging:n,dependencies:s,config:o}=t;const[u,f]=F.useState(null),{frequency:m,measure:p,strategy:y}=o,E=F.useRef(r),b=K(),R=su(b),V=F.useCallback(function(nt){nt===void 0&&(nt=[]),!R.current&&f(st=>st===null?nt:st.concat(nt.filter(it=>!st.includes(it))))},[R]),X=F.useRef(null),Y=vu(nt=>{if(b&&!n)return $v;if(!nt||nt===$v||E.current!==r||u!=null){const st=new Map;for(let it of r){if(!it)continue;if(u&&u.length>0&&!u.includes(it.id)&&it.rect.current){st.set(it.id,it.rect.current);continue}const ht=it.node.current,pt=ht?new pg(p(ht),ht):null;it.rect.current=pt,pt&&st.set(it.id,pt)}return st}return nt},[r,u,n,b,p]);return F.useEffect(()=>{E.current=r},[r]),F.useEffect(()=>{b||V()},[n,b]),F.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),F.useEffect(()=>{b||typeof m!="number"||X.current!==null||(X.current=setTimeout(()=>{V(),X.current=null},m))},[m,b,V,...s]),{droppableRects:Y,measureDroppableContainers:V,measuringScheduled:u!=null};function K(){switch(y){case ou.Always:return!1;case ou.BeforeDragging:return n;default:return!n}}}function Eg(r,t){return vu(n=>r?n||(typeof t=="function"?t(r):r):null,[t,r])}function dw(r,t){return Eg(r,t)}function mw(r){let{callback:t,disabled:n}=r;const s=Gh(t),o=F.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return F.useEffect(()=>()=>o?.disconnect(),[o]),o}function Qh(r){let{callback:t,disabled:n}=r;const s=Gh(t),o=F.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return F.useEffect(()=>()=>o?.disconnect(),[o]),o}function gw(r){return new pg(Uo(r),r)}function Jv(r,t,n){t===void 0&&(t=gw);const[s,o]=F.useState(null);function u(){o(p=>{if(!r)return null;if(r.isConnected===!1){var y;return(y=p??n)!=null?y:null}const E=t(r);return JSON.stringify(p)===JSON.stringify(E)?p:E})}const f=mw({callback(p){if(r)for(const y of p){const{type:E,target:b}=y;if(E==="childList"&&b instanceof HTMLElement&&b.contains(r)){u();break}}}}),m=Qh({callback:u});return Ni(()=>{u(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),s}function pw(r){const t=Eg(r);return BT(r,t)}const Zv=[];function yw(r){const t=F.useRef(r),n=vu(s=>r?s&&s!==Zv&&r&&t.current&&r.parentNode===t.current.parentNode?s:Kh(r):Zv,[r]);return F.useEffect(()=>{t.current=r},[r]),n}function _w(r){const[t,n]=F.useState(null),s=F.useRef(r),o=F.useCallback(u=>{const f=bm(u.target);f&&n(m=>m?(m.set(f,Pm(f)),new Map(m)):null)},[]);return F.useEffect(()=>{const u=s.current;if(r!==u){f(u);const m=r.map(p=>{const y=bm(p);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,Pm(y)]):null}).filter(p=>p!=null);n(m.length?new Map(m):null),s.current=r}return()=>{f(r),f(u)};function f(m){m.forEach(p=>{const y=bm(p);y?.removeEventListener("scroll",o)})}},[o,r]),F.useMemo(()=>r.length?t?Array.from(t.values()).reduce((u,f)=>Eo(u,f),Oi):KT(r):Oi,[r,t])}function Wv(r,t){t===void 0&&(t=[]);const n=F.useRef(null);return F.useEffect(()=>{n.current=null},t),F.useEffect(()=>{const s=r!==Oi;s&&!n.current&&(n.current=r),!s&&n.current&&(n.current=null)},[r]),n.current?au(r,n.current):Oi}function vw(r){F.useEffect(()=>{if(!Fh)return;const t=r.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},r.map(t=>{let{sensor:n}=t;return n}))}function Ew(r,t){return F.useMemo(()=>r.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,t)},n},{}),[r,t])}function $T(r){return F.useMemo(()=>r?G1(r):null,[r])}const tE=[];function Tw(r,t){t===void 0&&(t=Uo);const[n]=r,s=$T(n?wn(n):null),[o,u]=F.useState(tE);function f(){u(()=>r.length?r.map(p=>GT(p)?s:new pg(t(p),p)):tE)}const m=Qh({callback:f});return Ni(()=>{m?.disconnect(),f(),r.forEach(p=>m?.observe(p))},[r]),o}function JT(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return _u(t)?t:r}function bw(r){let{measure:t}=r;const[n,s]=F.useState(null),o=F.useCallback(y=>{for(const{target:E}of y)if(_u(E)){s(b=>{const R=t(E);return b?{...b,width:R.width,height:R.height}:R});break}},[t]),u=Qh({callback:o}),f=F.useCallback(y=>{const E=JT(y);u?.disconnect(),E&&u?.observe(E),s(E?t(E):null)},[t,u]),[m,p]=Eh(f);return F.useMemo(()=>({nodeRef:m,rect:n,setRef:p}),[n,m,p])}const Sw=[{sensor:vg,options:{}},{sensor:yg,options:{}}],Aw={current:{}},lh={draggable:{measure:Yv},droppable:{measure:Yv,strategy:ou.WhileDragging,frequency:Bm.Optimized},dragOverlay:{measure:Uo}};class Zl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const ww={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Sh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:lh,measureDroppableContainers:Sh,windowRect:null,measuringScheduled:!1},ZT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Sh,draggableNodes:new Map,over:null,measureDroppableContainers:Sh},Tu=F.createContext(ZT),WT=F.createContext(ww);function Rw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zl}}}function Cw(r,t){switch(t.type){case Fe.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fe.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case Fe.DragEnd:case Fe.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:n}=t,{id:s}=n,o=new Zl(r.droppable.containers);return o.set(s,n),{...r,droppable:{...r.droppable,containers:o}}}case Fe.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=t,u=r.droppable.containers.get(n);if(!u||s!==u.key)return r;const f=new Zl(r.droppable.containers);return f.set(n,{...u,disabled:o}),{...r,droppable:{...r.droppable,containers:f}}}case Fe.UnregisterDroppable:{const{id:n,key:s}=t,o=r.droppable.containers.get(n);if(!o||s!==o.key)return r;const u=new Zl(r.droppable.containers);return u.delete(n),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function Iw(r){let{disabled:t}=r;const{active:n,activatorEvent:s,draggableNodes:o}=F.useContext(Tu),u=Th(s),f=Th(n?.id);return F.useEffect(()=>{if(!t&&!s&&u&&f!=null){if(!Yh(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:p,node:y}=m;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[p.current,y.current]){if(!E)continue;const b=S1(E);if(b){b.focus();break}}})}},[s,t,o,f,u]),null}function t0(r,t){let{transform:n,...s}=t;return r!=null&&r.length?r.reduce((o,u)=>u({transform:o,...s}),n):n}function Dw(r){return F.useMemo(()=>({draggable:{...lh.draggable,...r?.draggable},droppable:{...lh.droppable,...r?.droppable},dragOverlay:{...lh.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function Nw(r){let{activeNode:t,measure:n,initialRect:s,config:o=!0}=r;const u=F.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;Ni(()=>{if(!f&&!m||!t){u.current=!1;return}if(u.current||!s)return;const y=t?.node.current;if(!y||y.isConnected===!1)return;const E=n(y),b=BT(E,s);if(f||(b.x=0),m||(b.y=0),u.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const R=qT(y);R&&R.scrollBy({top:b.y,left:b.x})}},[t,f,m,s,n])}const Xh=F.createContext({...Oi,scaleX:1,scaleY:1});var ps;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(ps||(ps={}));const Ow=F.memo(function(t){var n,s,o,u;let{id:f,accessibility:m,autoScroll:p=!0,children:y,sensors:E=Sw,collisionDetection:b=z1,measuring:R,modifiers:V,...X}=t;const Y=F.useReducer(Cw,void 0,Rw),[K,nt]=Y,[st,it]=D1(),[ht,pt]=F.useState(ps.Uninitialized),ct=ht===ps.Initialized,{draggable:{active:C,nodes:w,translate:I},droppable:{containers:O}}=K,D=C!=null?w.get(C):null,L=F.useRef({initial:null,translated:null}),A=F.useMemo(()=>{var Vt;return C!=null?{id:C,data:(Vt=D?.data)!=null?Vt:Aw,rect:L}:null},[C,D]),dt=F.useRef(null),[Rt,q]=F.useState(null),[et,mt]=F.useState(null),yt=su(X,Object.values(X)),Ot=Eu("DndDescribedBy",f),M=F.useMemo(()=>O.getEnabled(),[O]),G=Dw(R),{droppableRects:rt,measureDroppableContainers:ot,measuringScheduled:Tt}=fw(M,{dragging:ct,dependencies:[I.x,I.y],config:G.droppable}),Et=cw(w,C),xt=F.useMemo(()=>et?bh(et):null,[et]),ee=ar(),Gt=dw(Et,G.draggable.measure);Nw({activeNode:C!=null?w.get(C):null,config:ee.layoutShiftCompensation,initialRect:Gt,measure:G.draggable.measure});const kt=Jv(Et,G.draggable.measure,Gt),ti=Jv(Et?Et.parentElement:null),We=F.useRef({activatorEvent:null,active:null,activeNode:Et,collisionRect:null,collisions:null,droppableRects:rt,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pn=O.getNodeFor((n=We.current.over)==null?void 0:n.id),Ie=bw({measure:G.dragOverlay.measure}),ei=(s=Ie.nodeRef.current)!=null?s:Et,Rn=ct?(o=Ie.rect)!=null?o:kt:null,Lr=!!(Ie.nodeRef.current&&Ie.rect),Ur=pw(Lr?null:kt),fe=$T(ei?wn(ei):null),ne=yw(ct?Pn??Et:null),zn=Tw(ne),kr=t0(V,{transform:{x:I.x-Ur.x,y:I.y-Ur.y,scaleX:1,scaleY:1},activatorEvent:et,active:A,activeNodeRect:kt,containerNodeRect:ti,draggingNodeRect:Rn,over:We.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:ne,scrollableAncestorRects:zn,windowRect:fe}),Ls=xt?Eo(xt,I):null,Ye=_w(ne),ir=Wv(Ye),Us=Wv(Ye,[kt]),ni=Eo(kr,ir),vn=Rn?q1(Rn,kr):null,rr=A&&vn?b({active:A,collisionRect:vn,droppableRects:rt,droppableContainers:M,pointerCoordinates:Ls}):null,ks=PT(rr,"id"),[Bn,Ps]=F.useState(null),jn=Lr?kr:Eo(kr,Us),qe=B1(jn,(u=Bn?.rect)!=null?u:null,kt),cn=F.useRef(null),de=F.useCallback((Vt,me)=>{let{sensor:ge,options:De}=me;if(dt.current==null)return;const hn=w.get(dt.current);if(!hn)return;const Ke=Vt.nativeEvent,be=new ge({active:dt.current,activeNode:hn,event:Ke,options:De,context:We,onAbort(Se){if(!w.get(Se))return;const{onDragAbort:dn}=yt.current,En={id:Se};dn?.(En),st({type:"onDragAbort",event:En})},onPending(Se,fn,dn,En){if(!w.get(Se))return;const{onDragPending:Tn}=yt.current,Hn={id:Se,constraint:fn,initialCoordinates:dn,offset:En};Tn?.(Hn),st({type:"onDragPending",event:Hn})},onStart(Se){const fn=dt.current;if(fn==null)return;const dn=w.get(fn);if(!dn)return;const{onDragStart:En}=yt.current,qn={activatorEvent:Ke,active:{id:fn,data:dn.data,rect:L}};vo.unstable_batchedUpdates(()=>{En?.(qn),pt(ps.Initializing),nt({type:Fe.DragStart,initialCoordinates:Se,active:fn}),st({type:"onDragStart",event:qn}),q(cn.current),mt(Ke)})},onMove(Se){nt({type:Fe.DragMove,coordinates:Se})},onEnd:Cn(Fe.DragEnd),onCancel:Cn(Fe.DragCancel)});cn.current=be;function Cn(Se){return async function(){const{active:dn,collisions:En,over:qn,scrollAdjustedTranslate:Tn}=We.current;let Hn=null;if(dn&&Tn){const{cancelDrop:tn}=yt.current;Hn={activatorEvent:Ke,active:dn,collisions:En,delta:Tn,over:qn},Se===Fe.DragEnd&&typeof tn=="function"&&await Promise.resolve(tn(Hn))&&(Se=Fe.DragCancel)}dt.current=null,vo.unstable_batchedUpdates(()=>{nt({type:Se}),pt(ps.Uninitialized),Ps(null),q(null),mt(null),cn.current=null;const tn=Se===Fe.DragEnd?"onDragEnd":"onDragCancel";if(Hn){const bn=yt.current[tn];bn?.(Hn),st({type:tn,event:Hn})}})}}},[w]),Ra=F.useCallback((Vt,me)=>(ge,De)=>{const hn=ge.nativeEvent,Ke=w.get(De);if(dt.current!==null||!Ke||hn.dndKit||hn.defaultPrevented)return;const be={active:Ke};Vt(ge,me.options,be)===!0&&(hn.dndKit={capturedBy:me.sensor},dt.current=De,de(ge,me))},[w,de]),sr=hw(E,Ra);vw(E),Ni(()=>{kt&&ht===ps.Initializing&&pt(ps.Initialized)},[kt,ht]),F.useEffect(()=>{const{onDragMove:Vt}=yt.current,{active:me,activatorEvent:ge,collisions:De,over:hn}=We.current;if(!me||!ge)return;const Ke={active:me,activatorEvent:ge,collisions:De,delta:{x:ni.x,y:ni.y},over:hn};vo.unstable_batchedUpdates(()=>{Vt?.(Ke),st({type:"onDragMove",event:Ke})})},[ni.x,ni.y]),F.useEffect(()=>{const{active:Vt,activatorEvent:me,collisions:ge,droppableContainers:De,scrollAdjustedTranslate:hn}=We.current;if(!Vt||dt.current==null||!me||!hn)return;const{onDragOver:Ke}=yt.current,be=De.get(ks),Cn=be&&be.rect.current?{id:be.id,rect:be.rect.current,data:be.data,disabled:be.disabled}:null,Se={active:Vt,activatorEvent:me,collisions:ge,delta:{x:hn.x,y:hn.y},over:Cn};vo.unstable_batchedUpdates(()=>{Ps(Cn),Ke?.(Se),st({type:"onDragOver",event:Se})})},[ks]),Ni(()=>{We.current={activatorEvent:et,active:A,activeNode:Et,collisionRect:vn,collisions:rr,droppableRects:rt,draggableNodes:w,draggingNode:ei,draggingNodeRect:Rn,droppableContainers:O,over:Bn,scrollableAncestors:ne,scrollAdjustedTranslate:ni},L.current={initial:Rn,translated:vn}},[A,Et,rr,vn,w,ei,Rn,rt,O,Bn,ne,ni]),ow({...ee,delta:I,draggingRect:vn,pointerCoordinates:Ls,scrollableAncestors:ne,scrollableAncestorRects:zn});const Ca=F.useMemo(()=>({active:A,activeNode:Et,activeNodeRect:kt,activatorEvent:et,collisions:rr,containerNodeRect:ti,dragOverlay:Ie,draggableNodes:w,droppableContainers:O,droppableRects:rt,over:Bn,measureDroppableContainers:ot,scrollableAncestors:ne,scrollableAncestorRects:zn,measuringConfiguration:G,measuringScheduled:Tt,windowRect:fe}),[A,Et,kt,et,rr,ti,Ie,w,O,rt,Bn,ot,ne,zn,G,Tt,fe]),ii=F.useMemo(()=>({activatorEvent:et,activators:sr,active:A,activeNodeRect:kt,ariaDescribedById:{draggable:Ot},dispatch:nt,draggableNodes:w,over:Bn,measureDroppableContainers:ot}),[et,sr,A,kt,nt,Ot,w,Bn,ot]);return _e.createElement(kT.Provider,{value:it},_e.createElement(Tu.Provider,{value:ii},_e.createElement(WT.Provider,{value:Ca},_e.createElement(Xh.Provider,{value:qe},y)),_e.createElement(Iw,{disabled:m?.restoreFocus===!1})),_e.createElement(M1,{...m,hiddenTextDescribedById:Ot}));function ar(){const Vt=Rt?.autoScrollEnabled===!1,me=typeof p=="object"?p.enabled===!1:p===!1,ge=ct&&!Vt&&!me;return typeof p=="object"?{...p,enabled:ge}:{enabled:ge}}}),Mw=F.createContext(null),eE="button",xw="Draggable";function Vw(r){let{id:t,data:n,disabled:s=!1,attributes:o}=r;const u=Eu(xw),{activators:f,activatorEvent:m,active:p,activeNodeRect:y,ariaDescribedById:E,draggableNodes:b,over:R}=F.useContext(Tu),{role:V=eE,roleDescription:X="draggable",tabIndex:Y=0}=o??{},K=p?.id===t,nt=F.useContext(K?Xh:Mw),[st,it]=Eh(),[ht,pt]=Eh(),ct=Ew(f,t),C=su(n);Ni(()=>(b.set(t,{id:t,key:u,node:st,activatorNode:ht,data:C}),()=>{const I=b.get(t);I&&I.key===u&&b.delete(t)}),[b,t]);const w=F.useMemo(()=>({role:V,tabIndex:Y,"aria-disabled":s,"aria-pressed":K&&V===eE?!0:void 0,"aria-roledescription":X,"aria-describedby":E.draggable}),[s,V,Y,K,X,E.draggable]);return{active:p,activatorEvent:m,activeNodeRect:y,attributes:w,isDragging:K,listeners:s?void 0:ct,node:st,over:R,setNodeRef:it,setActivatorNodeRef:pt,transform:nt}}function e0(){return F.useContext(WT)}const Lw="Droppable",Uw={timeout:25};function kw(r){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:o}=r;const u=Eu(Lw),{active:f,dispatch:m,over:p,measureDroppableContainers:y}=F.useContext(Tu),E=F.useRef({disabled:n}),b=F.useRef(!1),R=F.useRef(null),V=F.useRef(null),{disabled:X,updateMeasurementsFor:Y,timeout:K}={...Uw,...o},nt=su(Y??s),st=F.useCallback(()=>{if(!b.current){b.current=!0;return}V.current!=null&&clearTimeout(V.current),V.current=setTimeout(()=>{y(Array.isArray(nt.current)?nt.current:[nt.current]),V.current=null},K)},[K]),it=Qh({callback:st,disabled:X||!f}),ht=F.useCallback((w,I)=>{it&&(I&&(it.unobserve(I),b.current=!1),w&&it.observe(w))},[it]),[pt,ct]=Eh(ht),C=su(t);return F.useEffect(()=>{!it||!pt.current||(it.disconnect(),b.current=!1,it.observe(pt.current))},[pt,it]),F.useEffect(()=>(m({type:Fe.RegisterDroppable,element:{id:s,key:u,disabled:n,node:pt,rect:R,data:C}}),()=>m({type:Fe.UnregisterDroppable,key:u,id:s})),[s]),F.useEffect(()=>{n!==E.current.disabled&&(m({type:Fe.SetDroppableDisabled,id:s,key:u,disabled:n}),E.current.disabled=n)},[s,u,n,m]),{active:f,rect:R,isOver:p?.id===s,node:pt,over:p,setNodeRef:ct}}function Pw(r){let{animation:t,children:n}=r;const[s,o]=F.useState(null),[u,f]=F.useState(null),m=Th(n);return!n&&!s&&m&&o(m),Ni(()=>{if(!u)return;const p=s?.key,y=s?.props.id;if(p==null||y==null){o(null);return}Promise.resolve(t(y,u)).then(()=>{o(null)})},[t,s,u]),_e.createElement(_e.Fragment,null,n,s?F.cloneElement(s,{ref:f}):null)}const zw={x:0,y:0,scaleX:1,scaleY:1};function Bw(r){let{children:t}=r;return _e.createElement(Tu.Provider,{value:ZT},_e.createElement(Xh.Provider,{value:zw},t))}const jw={position:"fixed",touchAction:"none"},qw=r=>Yh(r)?"transform 250ms ease":void 0,Hw=F.forwardRef((r,t)=>{let{as:n,activatorEvent:s,adjustScale:o,children:u,className:f,rect:m,style:p,transform:y,transition:E=qw}=r;if(!m)return null;const b=o?y:{...y,scaleX:1,scaleY:1},R={...jw,width:m.width,height:m.height,top:m.top,left:m.left,transform:Rs.Transform.toString(b),transformOrigin:o&&s?L1(s,m):void 0,transition:typeof E=="function"?E(s):E,...p};return _e.createElement(n,{className:f,style:R,ref:t},u)}),n0=r=>t=>{let{active:n,dragOverlay:s}=t;const o={},{styles:u,className:f}=r;if(u!=null&&u.active)for(const[m,p]of Object.entries(u.active))p!==void 0&&(o[m]=n.node.style.getPropertyValue(m),n.node.style.setProperty(m,p));if(u!=null&&u.dragOverlay)for(const[m,p]of Object.entries(u.dragOverlay))p!==void 0&&s.node.style.setProperty(m,p);return f!=null&&f.active&&n.node.classList.add(f.active),f!=null&&f.dragOverlay&&s.node.classList.add(f.dragOverlay),function(){for(const[p,y]of Object.entries(o))n.node.style.setProperty(p,y);f!=null&&f.active&&n.node.classList.remove(f.active)}},Fw=r=>{let{transform:{initial:t,final:n}}=r;return[{transform:Rs.Transform.toString(t)},{transform:Rs.Transform.toString(n)}]},Gw={duration:250,easing:"ease",keyframes:Fw,sideEffects:n0({styles:{active:{opacity:"0"}}})};function Yw(r){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:o}=r;return Gh((u,f)=>{if(t===null)return;const m=n.get(u);if(!m)return;const p=m.node.current;if(!p)return;const y=JT(f);if(!y)return;const{transform:E}=wn(f).getComputedStyle(f),b=jT(E);if(!b)return;const R=typeof t=="function"?t:Kw(t);return QT(p,o.draggable.measure),R({active:{id:u,data:m.data,node:p,rect:o.draggable.measure(p)},draggableNodes:n,dragOverlay:{node:f,rect:o.dragOverlay.measure(y)},droppableContainers:s,measuringConfiguration:o,transform:b})})}function Kw(r){const{duration:t,easing:n,sideEffects:s,keyframes:o}={...Gw,...r};return u=>{let{active:f,dragOverlay:m,transform:p,...y}=u;if(!t)return;const E={x:m.rect.left-f.rect.left,y:m.rect.top-f.rect.top},b={scaleX:p.scaleX!==1?f.rect.width*p.scaleX/m.rect.width:1,scaleY:p.scaleY!==1?f.rect.height*p.scaleY/m.rect.height:1},R={x:p.x-E.x,y:p.y-E.y,...b},V=o({...y,active:f,dragOverlay:m,transform:{initial:p,final:R}}),[X]=V,Y=V[V.length-1];if(JSON.stringify(X)===JSON.stringify(Y))return;const K=s?.({active:f,dragOverlay:m,...y}),nt=m.node.animate(V,{duration:t,easing:n,fill:"forwards"});return new Promise(st=>{nt.onfinish=()=>{K?.(),st()}})}}let nE=0;function Qw(r){return F.useMemo(()=>{if(r!=null)return nE++,nE},[r])}const Xw=_e.memo(r=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:o,transition:u,modifiers:f,wrapperElement:m="div",className:p,zIndex:y=999}=r;const{activatorEvent:E,active:b,activeNodeRect:R,containerNodeRect:V,draggableNodes:X,droppableContainers:Y,dragOverlay:K,over:nt,measuringConfiguration:st,scrollableAncestors:it,scrollableAncestorRects:ht,windowRect:pt}=e0(),ct=F.useContext(Xh),C=Qw(b?.id),w=t0(f,{activatorEvent:E,active:b,activeNodeRect:R,containerNodeRect:V,draggingNodeRect:K.rect,over:nt,overlayNodeRect:K.rect,scrollableAncestors:it,scrollableAncestorRects:ht,transform:ct,windowRect:pt}),I=Eg(R),O=Yw({config:s,draggableNodes:X,droppableContainers:Y,measuringConfiguration:st}),D=I?K.setRef:void 0;return _e.createElement(Bw,null,_e.createElement(Pw,{animation:O},b&&C?_e.createElement(Hw,{key:C,id:b.id,ref:D,as:m,activatorEvent:E,adjustScale:t,className:p,transition:u,rect:I,style:{zIndex:y,...o},transform:w},n):null))});function Tg(r,t,n){const s=r.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function $w(r,t){return r.reduce((n,s,o)=>{const u=t.get(s);return u&&(n[o]=u),n},Array(r.length))}function th(r){return r!==null&&r>=0}function Jw(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==t[n])return!1;return!0}function Zw(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const i0=r=>{let{rects:t,activeIndex:n,overIndex:s,index:o}=r;const u=Tg(t,s,n),f=t[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},eh={scaleX:1,scaleY:1},Ww=r=>{var t;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=r;const m=(t=u[n])!=null?t:s;if(!m)return null;if(o===n){const y=u[f];return y?{x:0,y:n<f?y.top+y.height-(m.top+m.height):y.top-m.top,...eh}:null}const p=tR(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-p,...eh}:o<n&&o>=f?{x:0,y:m.height+p,...eh}:{x:0,y:0,...eh}};function tR(r,t,n){const s=r[t],o=r[t-1],u=r[t+1];return s?n<t?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const r0="Sortable",s0=_e.createContext({activeIndex:-1,containerId:r0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:i0,disabled:{draggable:!1,droppable:!1}});function eR(r){let{children:t,id:n,items:s,strategy:o=i0,disabled:u=!1}=r;const{active:f,dragOverlay:m,droppableRects:p,over:y,measureDroppableContainers:E}=e0(),b=Eu(r0,n),R=m.rect!==null,V=F.useMemo(()=>s.map(ct=>typeof ct=="object"&&"id"in ct?ct.id:ct),[s]),X=f!=null,Y=f?V.indexOf(f.id):-1,K=y?V.indexOf(y.id):-1,nt=F.useRef(V),st=!Jw(V,nt.current),it=K!==-1&&Y===-1||st,ht=Zw(u);Ni(()=>{st&&X&&E(V)},[st,V,X,E]),F.useEffect(()=>{nt.current=V},[V]);const pt=F.useMemo(()=>({activeIndex:Y,containerId:b,disabled:ht,disableTransforms:it,items:V,overIndex:K,useDragOverlay:R,sortedRects:$w(V,p),strategy:o}),[Y,b,ht.draggable,ht.droppable,it,V,K,p,R,o]);return _e.createElement(s0.Provider,{value:pt},t)}const nR=r=>{let{id:t,items:n,activeIndex:s,overIndex:o}=r;return Tg(n,s,o).indexOf(t)},iR=r=>{let{containerId:t,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:p,transition:y}=r;return!y||!s||m!==u&&o===f?!1:n?!0:f!==o&&t===p},rR={duration:200,easing:"ease"},a0="transform",sR=Rs.Transition.toString({property:a0,duration:0,easing:"linear"}),aR={roleDescription:"sortable"};function oR(r){let{disabled:t,index:n,node:s,rect:o}=r;const[u,f]=F.useState(null),m=F.useRef(n);return Ni(()=>{if(!t&&n!==m.current&&s.current){const p=o.current;if(p){const y=Uo(s.current,{ignoreTransform:!0}),E={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(E.x||E.y)&&f(E)}}n!==m.current&&(m.current=n)},[t,n,s,o]),F.useEffect(()=>{u&&f(null)},[u]),u}function lR(r){let{animateLayoutChanges:t=iR,attributes:n,disabled:s,data:o,getNewIndex:u=nR,id:f,strategy:m,resizeObserverConfig:p,transition:y=rR}=r;const{items:E,containerId:b,activeIndex:R,disabled:V,disableTransforms:X,sortedRects:Y,overIndex:K,useDragOverlay:nt,strategy:st}=F.useContext(s0),it=uR(s,V),ht=E.indexOf(f),pt=F.useMemo(()=>({sortable:{containerId:b,index:ht,items:E},...o}),[b,o,ht,E]),ct=F.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:C,node:w,isOver:I,setNodeRef:O}=kw({id:f,data:pt,disabled:it.droppable,resizeObserverConfig:{updateMeasurementsFor:ct,...p}}),{active:D,activatorEvent:L,activeNodeRect:A,attributes:dt,setNodeRef:Rt,listeners:q,isDragging:et,over:mt,setActivatorNodeRef:yt,transform:Ot}=Vw({id:f,data:pt,attributes:{...aR,...n},disabled:it.draggable}),M=v1(O,Rt),G=!!D,rt=G&&!X&&th(R)&&th(K),ot=!nt&&et,Tt=ot&&rt?Ot:null,xt=rt?Tt??(m??st)({rects:Y,activeNodeRect:A,activeIndex:R,overIndex:K,index:ht}):null,ee=th(R)&&th(K)?u({id:f,items:E,activeIndex:R,overIndex:K}):ht,Gt=D?.id,kt=F.useRef({activeId:Gt,items:E,newIndex:ee,containerId:b}),ti=E!==kt.current.items,We=t({active:D,containerId:b,isDragging:et,isSorting:G,id:f,index:ht,items:E,newIndex:kt.current.newIndex,previousItems:kt.current.items,previousContainerId:kt.current.containerId,transition:y,wasDragging:kt.current.activeId!=null}),Pn=oR({disabled:!We,index:ht,node:w,rect:C});return F.useEffect(()=>{G&&kt.current.newIndex!==ee&&(kt.current.newIndex=ee),b!==kt.current.containerId&&(kt.current.containerId=b),E!==kt.current.items&&(kt.current.items=E)},[G,ee,b,E]),F.useEffect(()=>{if(Gt===kt.current.activeId)return;if(Gt!=null&&kt.current.activeId==null){kt.current.activeId=Gt;return}const ei=setTimeout(()=>{kt.current.activeId=Gt},50);return()=>clearTimeout(ei)},[Gt]),{active:D,activeIndex:R,attributes:dt,data:pt,rect:C,index:ht,newIndex:ee,items:E,isOver:I,isSorting:G,isDragging:et,listeners:q,node:w,overIndex:K,over:mt,setNodeRef:M,setActivatorNodeRef:yt,setDroppableNodeRef:O,setDraggableNodeRef:Rt,transform:Pn??xt,transition:Ie()};function Ie(){if(Pn||ti&&kt.current.newIndex===ht)return sR;if(!(ot&&!Yh(L)||!y)&&(G||We))return Rs.Transition.toString({...y,property:a0})}}function uR(r,t){var n,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(n=r?.draggable)!=null?n:t.draggable,droppable:(s=r?.droppable)!=null?s:t.droppable}}function wh(r){if(!r)return!1;const t=r.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const cR=[Ft.Down,Ft.Right,Ft.Up,Ft.Left],hR=(r,t)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=t;if(cR.includes(r.code)){if(r.preventDefault(),!n||!s)return;const p=[];u.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const R=o.get(b.id);if(R)switch(r.code){case Ft.Down:s.top<R.top&&p.push(b);break;case Ft.Up:s.top>R.top&&p.push(b);break;case Ft.Left:s.left>R.left&&p.push(b);break;case Ft.Right:s.left<R.left&&p.push(b);break}});const y=zT({collisionRect:s,droppableRects:o,droppableContainers:p});let E=PT(y,"id");if(E===f?.id&&y.length>1&&(E=y[1].id),E!=null){const b=u.get(n.id),R=u.get(E),V=R?o.get(R.id):null,X=R?.node.current;if(X&&V&&b&&R){const K=Kh(X).some((ct,C)=>m[C]!==ct),nt=o0(b,R),st=fR(b,R),it=K||!nt?{x:0,y:0}:{x:st?s.width-V.width:0,y:st?s.height-V.height:0},ht={x:V.left,y:V.top};return it.x&&it.y?ht:au(ht,it)}}}};function o0(r,t){return!wh(r)||!wh(t)?!1:r.data.current.sortable.containerId===t.data.current.sortable.containerId}function fR(r,t){return!wh(r)||!wh(t)||!o0(r,t)?!1:r.data.current.sortable.index<t.data.current.sortable.index}const dR=()=>{};var iE={};const l0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},mR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(R=64)),s.push(n[E],n[b],n[R],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(l0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new gR;const R=u<<2|m>>4;if(s.push(R),y!==64){const V=m<<4&240|y>>2;if(s.push(V),b!==64){const X=y<<6&192|b;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pR=function(r){const t=l0(r);return u0.encodeByteArray(t,!0)},Rh=function(r){return pR(r).replace(/\./g,"")},c0=function(r){try{return u0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _R=()=>yR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof iE>"u")return;const r=iE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ER=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&c0(r[1]);return t&&JSON.parse(t)},$h=()=>{try{return dR()||_R()||vR()||ER()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},h0=r=>$h()?.emulatorHosts?.[r],TR=r=>{const t=h0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},f0=()=>$h()?.config,d0=r=>$h()?.[`_${r}`];class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m0(r){return(await fetch(r,{credentials:"include"})).ok}function SR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const Wl={};function AR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?r.emulator.push(t):r.prod.push(t);return r}function wR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let rE=!1;function g0(r,t){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||Wl[r]===t||Wl[r]||rE)return;Wl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=AR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{rE=!0,f()},R}function E(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=wR(s),V=n("text"),X=document.getElementById(V)||document.createElement("span"),Y=n("learnmore"),K=document.getElementById(Y)||document.createElement("a"),nt=n("preprendIcon"),st=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const it=R.element;m(it),E(K,Y);const ht=y();p(st,nt),it.append(st,X,K,ht),document.body.appendChild(it)}u?(X.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function CR(){const r=$h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OR(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const LR="FirebaseError";class Vr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=LR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?UR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vr(o,m,s)}}function UR(r,t){return r.replace(kR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const kR=/\{\$([^}]+)}/g;function PR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ga(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(sE(u)&&sE(f)){if(!ga(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function sE(r){return r!==null&&typeof r=="object"}function Su(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function zR(r,t){const n=new BR(r,t);return n.subscribe.bind(n)}class BR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}function je(r){return r&&r._delegate?r._delegate:r}class pa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ua="[DEFAULT]";class qR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new bR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FR(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(r){return r===ua?void 0:r}function FR(r){return r.instantiationMode==="EAGER"}class GR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const YR={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},KR=Bt.INFO,QR={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},XR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=QR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bg{constructor(t){this.name=t,this._logLevel=KR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const $R=(r,t)=>t.some(n=>r instanceof n);let aE,oE;function JR(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,jm=new WeakMap,y0=new WeakMap,Rm=new WeakMap,Sg=new WeakMap;function WR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&p0.set(n,r)}).catch(()=>{}),Sg.set(t,r),t}function tC(r){if(jm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,t)}let qm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return jm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||y0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function eC(r){qm=r(qm)}function nC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Cm(this),t,...n);return y0.set(s,t.sort?t.sort():[t]),Ts(s)}:ZR().includes(r)?function(...t){return r.apply(Cm(this),t),Ts(p0.get(this))}:function(...t){return Ts(r.apply(Cm(this),t))}}function iC(r){return typeof r=="function"?nC(r):(r instanceof IDBTransaction&&tC(r),$R(r,JR())?new Proxy(r,qm):r)}function Ts(r){if(r instanceof IDBRequest)return WR(r);if(Rm.has(r))return Rm.get(r);const t=iC(r);return t!==r&&(Rm.set(r,t),Sg.set(t,r)),t}const Cm=r=>Sg.get(r);function rC(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Ts(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ts(f.result),p.oldVersion,p.newVersion,Ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sC=["get","getKey","getAll","getAllKeys","count"],aC=["put","add","delete","clear"],Im=new Map;function lE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Im.get(t))return Im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=aC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sC.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Im.set(t,u),u}eC(r=>({...r,get:(t,n,s)=>lE(t,n)||r.get(t,n,s),has:(t,n)=>!!lE(t,n)||r.has(t,n)}));class oC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lC(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",uE="0.14.8";const Nr=new bg("@firebase/app"),uC="@firebase/app-compat",cC="@firebase/analytics-compat",hC="@firebase/analytics",fC="@firebase/app-check-compat",dC="@firebase/app-check",mC="@firebase/auth",gC="@firebase/auth-compat",pC="@firebase/database",yC="@firebase/data-connect",_C="@firebase/database-compat",vC="@firebase/functions",EC="@firebase/functions-compat",TC="@firebase/installations",bC="@firebase/installations-compat",SC="@firebase/messaging",AC="@firebase/messaging-compat",wC="@firebase/performance",RC="@firebase/performance-compat",CC="@firebase/remote-config",IC="@firebase/remote-config-compat",DC="@firebase/storage",NC="@firebase/storage-compat",OC="@firebase/firestore",MC="@firebase/ai",xC="@firebase/firestore-compat",VC="firebase",LC="12.9.0";const Fm="[DEFAULT]",UC={[Hm]:"fire-core",[uC]:"fire-core-compat",[hC]:"fire-analytics",[cC]:"fire-analytics-compat",[dC]:"fire-app-check",[fC]:"fire-app-check-compat",[mC]:"fire-auth",[gC]:"fire-auth-compat",[pC]:"fire-rtdb",[yC]:"fire-data-connect",[_C]:"fire-rtdb-compat",[vC]:"fire-fn",[EC]:"fire-fn-compat",[TC]:"fire-iid",[bC]:"fire-iid-compat",[SC]:"fire-fcm",[AC]:"fire-fcm-compat",[wC]:"fire-perf",[RC]:"fire-perf-compat",[CC]:"fire-rc",[IC]:"fire-rc-compat",[DC]:"fire-gcs",[NC]:"fire-gcs-compat",[OC]:"fire-fst",[xC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[VC]:"fire-js-all"};const Ch=new Map,kC=new Map,Gm=new Map;function cE(r,t){try{r.container.addComponent(t)}catch(n){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Co(r){const t=r.name;if(Gm.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;Gm.set(t,r);for(const n of Ch.values())cE(n,r);for(const n of kC.values())cE(n,r);return!0}function Ag(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ri(r){return r==null?!1:r.settings!==void 0}const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new bu("app","Firebase",PC);class zC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}const Po=LC;function _0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Fm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=f0()),!n)throw bs.create("no-options");const u=Ch.get(o);if(u){if(ga(n,u.options)&&ga(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const f=new GR(o);for(const p of Gm.values())f.addComponent(p);const m=new zC(n,s,f);return Ch.set(o,m),m}function v0(r=Fm){const t=Ch.get(r);if(!t&&r===Fm&&f0())return _0();if(!t)throw bs.create("no-app",{appName:r});return t}function Ss(r,t,n){let s=UC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}Co(new pa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const BC="firebase-heartbeat-database",jC=1,lu="firebase-heartbeat-store";let Dm=null;function E0(){return Dm||(Dm=rC(BC,jC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(r=>{throw bs.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function qC(r){try{const n=(await E0()).transaction(lu),s=await n.objectStore(lu).get(T0(r));return await n.done,s}catch(t){if(t instanceof Vr)Nr.warn(t.message);else{const n=bs.create("idb-get",{originalErrorMessage:t?.message});Nr.warn(n.message)}}}async function hE(r,t){try{const s=(await E0()).transaction(lu,"readwrite");await s.objectStore(lu).put(t,T0(r)),await s.done}catch(n){if(n instanceof Vr)Nr.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(s.message)}}}function T0(r){return`${r.name}!${r.options.appId}`}const HC=1024,FC=30;class GC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>FC){const o=QC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fE(),{heartbeatsToSend:n,unsentEntries:s}=YC(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Nr.warn(t),""}}}function fE(){return new Date().toISOString().substring(0,10)}function YC(r,t=HC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),dE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),dE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class KC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function dE(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function QC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function XC(r){Co(new pa("platform-logger",t=>new oC(t),"PRIVATE")),Co(new pa("heartbeat",t=>new GC(t),"PRIVATE")),Ss(Hm,uE,r),Ss(Hm,uE,"esm2020"),Ss("fire-js","")}XC("");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $C=b0,S0=new bu("auth","Firebase",b0());const Ih=new bg("@firebase/auth");function JC(r,...t){Ih.logLevel<=Bt.WARN&&Ih.warn(`Auth (${Po}): ${r}`,...t)}function uh(r,...t){Ih.logLevel<=Bt.ERROR&&Ih.error(`Auth (${Po}): ${r}`,...t)}function er(r,...t){throw Rg(r,...t)}function Ii(r,...t){return Rg(r,...t)}function wg(r,t,n){const s={...$C(),[t]:n};return new bu("auth","Firebase",s).create(t,{appName:r.name})}function fa(r){return wg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZC(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&er(r,"argument-error"),wg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return S0.create(r,...t)}function At(r,t,...n){if(!r)throw Rg(t,...n)}function Cr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw uh(t),new Error(t)}function Or(r,t){r||Cr(t)}function Ym(){return typeof self<"u"&&self.location?.href||""}function WC(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}function tI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WC()||DR()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Au{constructor(t,n){this.shortDelay=t,this.longDelay=n,Or(n>t,"Short delay should be less than long delay!"),this.isMobile=RR()||NR()}get(){return tI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cg(r,t){Or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rI=new Au(3e4,6e4);function Ig(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function zo(r,t,n,s,o={}){return w0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return IR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),A0.fetch()(await R0(r,r.config.apiHost,n,m),y)})}async function w0(r,t,n){r._canInitEmulator=!1;const s={...nI,...t};try{const o=new aI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw wg(r,E,y);er(r,E)}}catch(o){if(o instanceof Vr)throw o;er(r,"network-request-failed",{message:String(o)})}}async function sI(r,t,n,s,o={}){const u=await zo(r,t,n,s,o);return"mfaPendingCredential"in u&&er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function R0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Cg(r.config,o):`${r.config.apiScheme}://${o}`;return iI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class aI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),rI.get())})}}function nh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,t,s);return o.customData._tokenResponse=n,o}async function oI(r,t){return zo(r,"POST","/v1/accounts:delete",t)}async function Dh(r,t){return zo(r,"POST","/v1/accounts:lookup",t)}function tu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lI(r,t=!1){const n=je(r),s=await n.getIdToken(t),o=Dg(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:tu(Nm(o.auth_time)),issuedAtTime:tu(Nm(o.iat)),expirationTime:tu(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function Dg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=c0(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function gE(r){const t=Dg(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function uu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Vr&&uI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(r){const t=r.auth,n=await r.getIdToken(),s=await uu(r,Dh(t,{idToken:n}));At(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?C0(o.providerUserInfo):[],f=fI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function hI(r){const t=je(r);await Nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function C0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dI(r,t){const n=await w0(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await R0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(p.credentials="include"),A0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(r,t){return zo(r,"POST","/v2/accounts:revokeToken",Ig(r,t))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=gE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new To;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function gs(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ci{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await uu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lI(this,t)}reload(){return hI(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(fa(this.auth));const t=await this.getIdToken();return await uu(this,oI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:V,providerData:X,stsTokenManager:Y}=n;At(b&&Y,t,"internal-error");const K=To.fromJSON(this.name,Y);At(typeof b=="string",t,"internal-error"),gs(s,t.name),gs(o,t.name),At(typeof R=="boolean",t,"internal-error"),At(typeof V=="boolean",t,"internal-error"),gs(u,t.name),gs(f,t.name),gs(m,t.name),gs(p,t.name),gs(y,t.name),gs(E,t.name);const nt=new Ci({uid:b,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(nt.providerData=X.map(st=>({...st}))),p&&(nt._redirectEventId=p),nt}static async _fromIdTokenResponse(t,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new Ci({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?C0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(s);const p=new Ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const pE=new Map;function Ir(r){Or(r instanceof Function,"Expected a class definition");let t=pE.get(r);return t?(Or(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,pE.set(r,t),t)}class I0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}I0.type="NONE";const yE=I0;function ch(r,t,n){return`firebase:${r}:${t}:${n}`}class bo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,t):null}return Ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new bo(Ir(yE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ir(yE);const f=ch(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const R=await Dh(t,{idToken:E}).catch(()=>{});if(!R)break;b=await Ci._fromGetAccountInfoResponse(t,R,E)}else b=Ci._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new bo(u,t,s))}}function _E(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(M0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(D0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(V0(t))return"Blackberry";if(L0(t))return"Webos";if(N0(t))return"Safari";if((t.includes("chrome/")||O0(t))&&!t.includes("edge/"))return"Chrome";if(x0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function D0(r=_n()){return/firefox\//i.test(r)}function N0(r=_n()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function O0(r=_n()){return/crios\//i.test(r)}function M0(r=_n()){return/iemobile/i.test(r)}function x0(r=_n()){return/android/i.test(r)}function V0(r=_n()){return/blackberry/i.test(r)}function L0(r=_n()){return/webos/i.test(r)}function Ng(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gI(r=_n()){return Ng(r)&&!!window.navigator?.standalone}function pI(){return OR()&&document.documentMode===10}function U0(r=_n()){return Ng(r)||x0(r)||L0(r)||V0(r)||/windows phone/i.test(r)||M0(r)}function k0(r,t=[]){let n;switch(r){case"Browser":n=_E(_n());break;case"Worker":n=`${_E(_n())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}class yI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function _I(r,t={}){return zo(r,"GET","/v2/passwordPolicy",Ig(r,t))}const vI=6;class EI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class TI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await Ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(fa(this));const n=t?je(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _I(this),n=new EI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ir(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&JC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jh(r){return je(r)}class vE{constructor(t){this.auth=t,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bI(r){Og=r}function SI(r){return Og.loadJS(r)}function AI(){return Og.gapiScript}function wI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function RI(r,t){const n=Ag(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ga(u,t??{}))return o;er(o,"already-initialized")}return n.initialize({options:t})}function CI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ir);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function II(r,t,n){const s=Jh(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=P0(t),{host:f,port:m}=DI(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(ga(y,s.config.emulator)&&ga(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ko(f)?(m0(`${u}//${f}${p}`),g0("Auth",!0)):NI()}function P0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function DI(r){const t=P0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:EE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:EE(f)}}}function EE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function NI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class z0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(t){return Cr("not implemented")}_linkToIdToken(t,n){return Cr("not implemented")}_getReauthenticationResolver(t){return Cr("not implemented")}}async function So(r,t){return sI(r,"POST","/v1/accounts:signInWithIdp",Ig(r,t))}const OI="http://localhost";class ya extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ya(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return So(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,So(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,So(t,n)}buildRequest(){const t={requestUri:OI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Su(n)}return t}}class Mg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class wu extends Mg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ys extends wu{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";class Rr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";class _s extends wu{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";class vs extends wu{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";class Io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ci._fromIdTokenResponse(t,s,o),f=TE(s);return new Io({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=TE(s);return new Io({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function TE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Oh extends Vr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Oh(t,n,s,o)}}function B0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,t,s):u})}async function MI(r,t,n=!1){const s=await uu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Io._forOperation(r,"link",s)}async function xI(r,t,n=!1){const{auth:s}=r;if(Ri(s.app))return Promise.reject(fa(s));const o="reauthenticate";try{const u=await uu(r,B0(s,o,t,r),n);At(u.idToken,s,"internal-error");const f=Dg(u.idToken);At(f,s,"internal-error");const{sub:m}=f;return At(r.uid===m,s,"user-mismatch"),Io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&er(s,"user-mismatch"),u}}async function VI(r,t,n=!1){if(Ri(r.app))return Promise.reject(fa(r));const s="signIn",o=await B0(r,s,t),u=await Io._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function LI(r,t,n,s){return je(r).onIdTokenChanged(t,n,s)}function UI(r,t,n){return je(r).beforeAuthStateChanged(t,n)}function kI(r,t,n,s){return je(r).onAuthStateChanged(t,n,s)}function PI(r){return je(r).signOut()}const Mh="__sak";class j0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const zI=1e3,BI=10;class q0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);pI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,BI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}q0.type="LOCAL";const jI=q0;class H0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}H0.type="SESSION";const F0=H0;function qI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Zh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await qI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];function xg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class HI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=xg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ji(){return window}function FI(r){Ji().location.href=r}function G0(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function GI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YI(){return navigator?.serviceWorker?.controller||null}function KI(){return G0()?self:null}const Y0="firebaseLocalStorageDb",QI=1,xh="firebaseLocalStorage",K0="fbase_key";class Ru{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(r,t){return r.transaction([xh],t?"readwrite":"readonly").objectStore(xh)}function XI(){const r=indexedDB.deleteDatabase(Y0);return new Ru(r).toPromise()}function Qm(){const r=indexedDB.open(Y0,QI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:K0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?t(s):(s.close(),await XI(),t(await Qm()))})})}async function bE(r,t,n){const s=Wh(r,!0).put({[K0]:t,value:n});return new Ru(s).toPromise()}async function $I(r,t){const n=Wh(r,!1).get(t),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function SE(r,t){const n=Wh(r,!0).delete(t);return new Ru(n).toPromise()}const JI=800,ZI=3;class Q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>ZI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(KI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new HI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await bE(t,Mh,"1"),await SE(t,Mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$I(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Ru(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q0.type="LOCAL";const WI=Q0;new Au(3e4,6e4);function X0(r,t){return t?Ir(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vg extends z0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,n){return So(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function t2(r){return VI(r.auth,new Vg(r),r.bypassAuthState)}function e2(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),xI(n,new Vg(r),r.bypassAuthState)}async function n2(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),MI(n,new Vg(r),r.bypassAuthState)}class $0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:er(this.auth,"internal-error")}}resolve(t){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i2=new Au(2e3,1e4);async function r2(r,t,n){if(Ri(r.app))return Promise.reject(Ii(r,"operation-not-supported-in-this-environment"));const s=Jh(r);ZC(r,t,Mg);const o=X0(s,n);return new ca(s,"signInViaPopup",t,o).executeNotNull()}class ca extends $0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const t=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,i2.get())};t()}}ca.currentPopupAction=null;const s2="pendingRedirect",hh=new Map;class a2 extends $0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=hh.get(this.auth._key());if(!t){try{const s=await o2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}hh.set(this.auth._key(),t)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(r,t){const n=c2(t),s=u2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function l2(r,t){hh.set(r._key(),t)}function u2(r){return Ir(r._redirectPersistence)}function c2(r){return ch(s2,r.config.apiKey,r.name)}async function h2(r,t,n=!1){if(Ri(r.app))return Promise.reject(fa(r));const s=Jh(r),o=X0(s,t),f=await new a2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const f2=600*1e3;class d2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!m2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!J0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(t))}saveEventToCache(t){this.cachedEventUids.add(AE(t)),this.lastProcessedEventTime=Date.now()}}function AE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function J0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function m2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J0(r);default:return!1}}async function g2(r,t={}){return zo(r,"GET","/v1/projects",t)}const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function _2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await g2(r);for(const n of t)try{if(v2(n))return}catch{}er(r,"unauthorized-domain")}function v2(r){const t=Ym(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!y2.test(n))return!1;if(p2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const E2=new Au(3e4,6e4);function wE(){const r=Ji().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function T2(r){return new Promise((t,n)=>{function s(){wE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(Ii(r,"network-request-failed"))},timeout:E2.get()})}if(Ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const o=wI("iframefcb");return Ji()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},SI(`${AI()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw fh=null,t})}let fh=null;function b2(r){return fh=fh||T2(r),fh}const S2=new Au(5e3,15e3),A2="__/auth/iframe",w2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Cg(t,w2):`https://${r.config.authDomain}/${A2}`,s={apiKey:t.apiKey,appName:r.name,v:Po},o=C2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Su(s).slice(1)}`}async function D2(r){const t=await b2(r),n=Ji().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:I2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=Ji().setTimeout(()=>{u(f)},S2.get());function p(){Ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const N2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,M2=600,x2="_blank",V2="http://localhost";class RE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(r,t,n,s=O2,o=M2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...N2,width:s.toString(),height:o.toString(),top:u,left:f},y=_n().toLowerCase();n&&(m=O0(y)?x2:n),D0(y)&&(t=t||V2,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[V,X])=>`${R}${V}=${X},`,"");if(gI(y)&&m!=="_self")return U2(t||"",m),new RE(null);const b=window.open(t||"",m,E);At(b,r,"popup-blocked");try{b.focus()}catch{}return new RE(b)}function U2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const k2="__/auth/handler",P2="emulator/auth/handler",z2=encodeURIComponent("fac");async function CE(r,t,n,s,o,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(t instanceof Mg){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",PR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof wu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${B2(r)}?${Su(m).slice(1)}${y}`}function B2({config:r}){return r.emulator?Cg(r,P2):`https://${r.authDomain}/${k2}`}const Om="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F0,this._completeRedirectFn=h2,this._overrideRedirectResult=l2}async _openPopup(t,n,s,o){Or(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await CE(t,n,s,Ym(),o);return L2(t,u,xg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await CE(t,n,s,Ym(),o);return FI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await D2(t),s=new d2(t);return n.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return U0()||N0()||Ng()}}const q2=j2;var IE="@firebase/auth",DE="1.12.0";class H2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function F2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(r){Co(new pa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(r)},y=new TI(s,o,u,p);return CI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Co(new pa("auth-internal",t=>{const n=Jh(t.getProvider("auth").getImmediate());return(s=>new H2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(IE,DE,F2(r)),Ss(IE,DE,"esm2020")}const Y2=300,K2=d0("authIdTokenMaxAge")||Y2;let NE=null;const Q2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>K2)return;const o=n?.token;NE!==o&&(NE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function X2(r=v0()){const t=Ag(r,"auth");if(t.isInitialized())return t.getImmediate();const n=RI(r,{popupRedirectResolver:q2,persistence:[WI,jI,F0]}),s=d0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Q2(u.toString());UI(n,f,()=>f(n.currentUser)),LI(n,m=>f(m))}}const o=h0("auth");return o&&II(n,`http://${o}`),n}function $2(){return document.getElementsByTagName("head")?.[0]??document}bI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var As,Z0;(function(){var r;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,D,L){for(var A=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)A[dt-2]=arguments[dt];return w.prototype[D].apply(O,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)O[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],D=C.g[2];let L=C.g[3],A;A=w+(L^I&(D^L))+O[0]+3614090360&4294967295,w=I+(A<<7&4294967295|A>>>25),A=L+(D^w&(I^D))+O[1]+3905402710&4294967295,L=w+(A<<12&4294967295|A>>>20),A=D+(I^L&(w^I))+O[2]+606105819&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(w^D&(L^w))+O[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=w+(L^I&(D^L))+O[4]+4118548399&4294967295,w=I+(A<<7&4294967295|A>>>25),A=L+(D^w&(I^D))+O[5]+1200080426&4294967295,L=w+(A<<12&4294967295|A>>>20),A=D+(I^L&(w^I))+O[6]+2821735955&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(w^D&(L^w))+O[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=w+(L^I&(D^L))+O[8]+1770035416&4294967295,w=I+(A<<7&4294967295|A>>>25),A=L+(D^w&(I^D))+O[9]+2336552879&4294967295,L=w+(A<<12&4294967295|A>>>20),A=D+(I^L&(w^I))+O[10]+4294925233&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(w^D&(L^w))+O[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=w+(L^I&(D^L))+O[12]+1804603682&4294967295,w=I+(A<<7&4294967295|A>>>25),A=L+(D^w&(I^D))+O[13]+4254626195&4294967295,L=w+(A<<12&4294967295|A>>>20),A=D+(I^L&(w^I))+O[14]+2792965006&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(w^D&(L^w))+O[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=w+(D^L&(I^D))+O[1]+4129170786&4294967295,w=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(w^I))+O[6]+3225465664&4294967295,L=w+(A<<9&4294967295|A>>>23),A=D+(w^I&(L^w))+O[11]+643717713&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^w&(D^L))+O[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=w+(D^L&(I^D))+O[5]+3593408605&4294967295,w=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(w^I))+O[10]+38016083&4294967295,L=w+(A<<9&4294967295|A>>>23),A=D+(w^I&(L^w))+O[15]+3634488961&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^w&(D^L))+O[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=w+(D^L&(I^D))+O[9]+568446438&4294967295,w=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(w^I))+O[14]+3275163606&4294967295,L=w+(A<<9&4294967295|A>>>23),A=D+(w^I&(L^w))+O[3]+4107603335&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^w&(D^L))+O[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=w+(D^L&(I^D))+O[13]+2850285829&4294967295,w=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(w^I))+O[2]+4243563512&4294967295,L=w+(A<<9&4294967295|A>>>23),A=D+(w^I&(L^w))+O[7]+1735328473&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^w&(D^L))+O[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=w+(I^D^L)+O[5]+4294588738&4294967295,w=I+(A<<4&4294967295|A>>>28),A=L+(w^I^D)+O[8]+2272392833&4294967295,L=w+(A<<11&4294967295|A>>>21),A=D+(L^w^I)+O[11]+1839030562&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^w)+O[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=w+(I^D^L)+O[1]+2763975236&4294967295,w=I+(A<<4&4294967295|A>>>28),A=L+(w^I^D)+O[4]+1272893353&4294967295,L=w+(A<<11&4294967295|A>>>21),A=D+(L^w^I)+O[7]+4139469664&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^w)+O[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=w+(I^D^L)+O[13]+681279174&4294967295,w=I+(A<<4&4294967295|A>>>28),A=L+(w^I^D)+O[0]+3936430074&4294967295,L=w+(A<<11&4294967295|A>>>21),A=D+(L^w^I)+O[3]+3572445317&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^w)+O[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=w+(I^D^L)+O[9]+3654602809&4294967295,w=I+(A<<4&4294967295|A>>>28),A=L+(w^I^D)+O[12]+3873151461&4294967295,L=w+(A<<11&4294967295|A>>>21),A=D+(L^w^I)+O[15]+530742520&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^w)+O[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=w+(D^(I|~L))+O[0]+4096336452&4294967295,w=I+(A<<6&4294967295|A>>>26),A=L+(I^(w|~D))+O[7]+1126891415&4294967295,L=w+(A<<10&4294967295|A>>>22),A=D+(w^(L|~I))+O[14]+2878612391&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~w))+O[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=w+(D^(I|~L))+O[12]+1700485571&4294967295,w=I+(A<<6&4294967295|A>>>26),A=L+(I^(w|~D))+O[3]+2399980690&4294967295,L=w+(A<<10&4294967295|A>>>22),A=D+(w^(L|~I))+O[10]+4293915773&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~w))+O[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=w+(D^(I|~L))+O[8]+1873313359&4294967295,w=I+(A<<6&4294967295|A>>>26),A=L+(I^(w|~D))+O[15]+4264355552&4294967295,L=w+(A<<10&4294967295|A>>>22),A=D+(w^(L|~I))+O[6]+2734768916&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~w))+O[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=w+(D^(I|~L))+O[4]+4149444226&4294967295,w=I+(A<<6&4294967295|A>>>26),A=L+(I^(w|~D))+O[11]+3174756917&4294967295,L=w+(A<<10&4294967295|A>>>22),A=D+(w^(L|~I))+O[2]+718787259&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(O[D++]=C.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<w;)if(O[D++]=C[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[w++]=this.g[I]>>>O&255;return C};function u(C,w){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function f(C,w){this.h=w;const I=[];let O=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;O&&L==w||(I[D]=L,O=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return K(y(-C));const w=[];let I=1;for(let O=0;C>=I;O++)w[O]=C/I|0,I*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return K(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let O=b;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const A=parseInt(C.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),O=O.j(D).add(y(A))):(O=O.j(I),O=O.add(y(A)))}return O}var b=p(0),R=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-K(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(Y(this))return"-"+K(this).toString(C);const w=y(Math.pow(C,6));var I=this;let O="";for(;;){const D=ht(I,w).g;I=nt(I,D.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,X(I))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Y(C){return C.h==-1}r.l=function(C){return C=nt(this,C),Y(C)?-1:X(C)?0:1};function K(C){const w=C.g.length,I=[];for(let O=0;O<w;O++)I[O]=~C.g[O];return new f(I,~C.h).add(R)}r.abs=function(){return Y(this)?K(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let D=0;D<=w;D++){let L=O+(this.i(D)&65535)+(C.i(D)&65535),A=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=A>>>16,L&=65535,A&=65535,I[D]=A<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function nt(C,w){return C.add(K(w))}r.j=function(C){if(X(this)||X(C))return b;if(Y(this))return Y(C)?K(this).j(K(C)):K(K(this).j(C));if(Y(C))return K(this.j(K(C)));if(this.l(V)<0&&C.l(V)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const L=this.i(O)>>>16,A=this.i(O)&65535,dt=C.i(D)>>>16,Rt=C.i(D)&65535;I[2*O+2*D]+=A*Rt,st(I,2*O+2*D),I[2*O+2*D+1]+=L*Rt,st(I,2*O+2*D+1),I[2*O+2*D+1]+=A*dt,st(I,2*O+2*D+1),I[2*O+2*D+2]+=L*dt,st(I,2*O+2*D+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new f(I,0)};function st(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function it(C,w){this.g=C,this.h=w}function ht(C,w){if(X(w))throw Error("division by zero");if(X(C))return new it(b,b);if(Y(C))return w=ht(K(C),w),new it(K(w.g),K(w.h));if(Y(w))return w=ht(C,K(w)),new it(K(w.g),w.h);if(C.g.length>30){if(Y(C)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,O=w;O.l(C)<=0;)I=pt(I),O=pt(O);var D=ct(I,1),L=ct(O,1);for(O=ct(O,2),I=ct(I,2);!X(O);){var A=L.add(O);A.l(C)<=0&&(D=D.add(I),L=A),O=ct(O,1),I=ct(I,1)}return w=nt(C,D.j(w)),new it(D,w)}for(D=b;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=y(I),A=L.j(w);Y(A)||A.l(C)>0;)I-=O,L=y(I),A=L.j(w);X(L)&&(L=R),D=D.add(L),C=nt(C,A)}return new it(D,C)}r.B=function(C){return ht(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)&C.i(O);return new f(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)|C.i(O);return new f(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)^C.i(O);return new f(I,this.h^C.h)};function pt(C){const w=C.g.length+1,I=[];for(let O=0;O<w;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(I,C.h)}function ct(C,w){const I=w>>5;w%=32;const O=C.g.length-I,D=[];for(let L=0;L<O;L++)D[L]=w>0?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new f(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Z0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,As=f}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W0,Gl,tb,dh,Xm,eb,nb,ib;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in v))break t;v=v[k]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,k,j){for(var at=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)at[Dt-2]=arguments[Dt];return g.prototype[k].apply(S,at)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function X(c,g){for(let S=1;S<arguments.length;S++){const k=arguments[S];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const j=k.length||0;c.length=v+j;for(let at=0;at<j;at++)c[v+at]=k[at]}else c.push(k)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function K(c){f.setTimeout(()=>{throw c},0)}function nt(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class st{constructor(){this.h=this.g=null}add(g,v){const S=it.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new Y(()=>new ht,c=>c.reset());class ht{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ct=!1,C=new st,w=()=>{const c=Promise.resolve(void 0);pt=()=>{c.then(I)}};function I(){for(var c;c=nt();){try{c.h.call(c.g)}catch(v){K(v)}var g=it;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ct=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function A(c){return/^[\s\xa0]*$/.test(c)}function dt(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(dt,D),dt.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(c,g,v,S,k){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=k,this.key=++q,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yt(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function Ot(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,g){let v,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(v in S)c[v]=S[v];for(let j=0;j<G.length;j++)v=G[j],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,g,v,S,k){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const at=Et(c,g,S,k);return at>-1?(g=c[at],v||(g.fa=!1)):(g=new et(g,this.src,j,!!S,k),g.fa=v,c.push(g)),g};function Tt(c,g){const v=g.type;if(v in c.g){var S=c.g[v],k=Array.prototype.indexOf.call(S,g,void 0),j;(j=k>=0)&&Array.prototype.splice.call(S,k,1),j&&(mt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Et(c,g,v,S){for(let k=0;k<c.length;++k){const j=c[k];if(!j.da&&j.listener==g&&j.capture==!!v&&j.ha==S)return k}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),ee={};function Gt(c,g,v,S,k){if(Array.isArray(g)){for(let j=0;j<g.length;j++)Gt(c,g[j],v,S,k);return null}return v=Ur(v),c&&c[Rt]?c.J(g,v,m(S)?!!S.capture:!1,k):kt(c,g,v,!1,S,k)}function kt(c,g,v,S,k,j){if(!g)throw Error("Invalid event type");const at=m(k)?!!k.capture:!!k;let Dt=Rn(c);if(Dt||(c[xt]=Dt=new ot(c)),v=Dt.add(g,v,S,at,j),v.proxy)return v;if(S=ti(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(k=at),k===void 0&&(k=!1),c.addEventListener(g.toString(),S,k);else if(c.attachEvent)c.attachEvent(Ie(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ti(){function c(v){return g.call(c.src,c.listener,v)}const g=ei;return c}function We(c,g,v,S,k){if(Array.isArray(g))for(var j=0;j<g.length;j++)We(c,g[j],v,S,k);else S=m(S)?!!S.capture:!!S,v=Ur(v),c&&c[Rt]?(c=c.i,j=String(g).toString(),j in c.g&&(g=c.g[j],v=Et(g,v,S,k),v>-1&&(mt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[j],c.h--)))):c&&(c=Rn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Et(g,v,S,k)),(v=c>-1?g[c]:null)&&Pn(v))}function Pn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Rt])Tt(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Ie(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Rn(g))?(Tt(v,c),v.h==0&&(v.src=null,g[xt]=null)):mt(c)}}}function Ie(c){return c in ee?ee[c]:ee[c]="on"+c}function ei(c,g){if(c.da)c=!0;else{g=new dt(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&Pn(c),c=v.call(S,g)}return c}function Rn(c){return c=c[xt],c instanceof ot?c:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(c){return typeof c=="function"?c:(c[Lr]||(c[Lr]=function(g){return c.handleEvent(g)}),c[Lr])}function fe(){O.call(this),this.i=new ot(this),this.M=this,this.G=null}b(fe,O),fe.prototype[Rt]=!0,fe.prototype.removeEventListener=function(c,g,v,S){We(this,c,g,v,S)};function ne(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var k=g;g=new D(S,c),rt(g,k)}k=!0;let j,at;if(v)for(at=v.length-1;at>=0;at--)j=g.g=v[at],k=zn(j,S,!0,g)&&k;if(j=g.g=c,k=zn(j,S,!0,g)&&k,k=zn(j,S,!1,g)&&k,v)for(at=0;at<v.length;at++)j=g.g=v[at],k=zn(j,S,!1,g)&&k}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)mt(v[S]);delete c.g[g],c.h--}}this.G=null},fe.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},fe.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function zn(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let k=!0;for(let j=0;j<g.length;++j){const at=g[j];if(at&&!at.da&&at.capture==v){const Dt=at.listener,Ae=at.ha||at.src;at.fa&&Tt(c.i,at),k=Dt.call(Ae,S)!==!1&&k}}return k&&!S.defaultPrevented}function kr(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Ls(c){c.g=kr(()=>{c.g=null,c.i&&(c.i=!1,Ls(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ye extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(c){O.call(this),this.h=c,this.g={}}b(ir,O);var Us=[];function ni(c){yt(c.g,function(g,v){this.g.hasOwnProperty(v)&&Pn(g)},c),c.g={}}ir.prototype.N=function(){ir.Z.N.call(this),ni(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,rr=f.JSON.parse,ks=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Bn(){}function Ps(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}b(qe,D);function cn(){D.call(this,"c")}b(cn,D);var de={},Ra=null;function sr(){return Ra=Ra||new fe}de.Ia="serverreachability";function Ca(c){D.call(this,de.Ia,c)}b(Ca,D);function ii(c){const g=sr();ne(g,new Ca(g))}de.STAT_EVENT="statevent";function ar(c,g){D.call(this,de.STAT_EVENT,c),this.stat=g}b(ar,D);function Vt(c){const g=sr();ne(g,new ar(g,c))}de.Ja="timingevent";function me(c,g){D.call(this,de.Ja,c),this.size=g}b(me,D);function ge(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function hn(c,g,v,S,k,j){c.info(function(){if(c.g)if(j){var at="",Dt=j.split("&");for(let Xt=0;Xt<Dt.length;Xt++){var Ae=Dt[Xt].split("=");if(Ae.length>1){const pe=Ae[0];Ae=Ae[1];const oi=pe.split("_");at=oi.length>=2&&oi[1]=="type"?at+(pe+"="+Ae+"&"):at+(pe+"=redacted&")}}}else at=null;else at=j;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+g+`
`+v+`
`+at})}function Ke(c,g,v,S,k,j,at){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+g+`
`+v+`
`+j+" "+at})}function be(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Se(c,v)+(S?" "+S:"")})}function Cn(c,g){c.info(function(){return"TIMEOUT: "+g})}De.prototype.info=function(){};function Se(c,g){if(!c.g)return g;if(!g)return null;try{const j=JSON.parse(g);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var k=S[0];if(k!="noop"&&k!="stop"&&k!="close")for(let at=1;at<S.length;at++)S[at]=""}}}}return vn(j)}catch{return g}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function qn(){}b(qn,Bn),qn.prototype.g=function(){return new XMLHttpRequest},En=new qn;function Tn(c){return encodeURIComponent(String(c))}function Hn(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function tn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Ne={},Qe={};function xi(c,g,v){c.M=1,c.A=zs(Me(g)),c.u=v,c.R=!0,Ia(c,null)}function Ia(c,g){c.F=Date.now(),Vi(c),c.B=Me(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new bn,c.g=Ku(c.j,v?g:null,!c.u),c.P>0&&(c.O=new Ye(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Us[0]=k.toString()),k=Us);for(let j=0;j<k.length;j++){const at=Gt(v,k[j],S||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ii(),hn(c.i,c.v,c.B,c.l,c.S,c.u)}tn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Ei(c)==3?g.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)t:{const Dt=Ei(this.g),Ae=this.g.ya(),Xt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Dt!=4||Ae==7||(Ae==8||Xt<=0?ii(3):ii(2)),Li(this);var g=this.g.ca();this.X=g;var v=Tf(this);if(this.o=g==200,Ke(this.i,this.v,this.B,this.l,this.S,Dt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var S,k=this.g;if((S=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(S)){var j=S;break e}}j=null}if(c=j)be(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,c);else{this.o=!1,this.m=3,Vt(12),Fn(this),ri(this);break t}}if(this.R){c=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=Vu(this,v),pe==Qe){Dt==4&&(this.m=4,Vt(14),c=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Ne){this.m=4,Vt(15),be(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else be(this.i,this.l,pe,null),Ui(this,pe);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,Vt(16),c=!1),this.o=this.o&&c,!c)be(this.i,this.l,v,"[Invalid Chunked Response]"),Fn(this),ri(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(at),at.P=!0,Vt(11))}}else be(this.i,this.l,v,null),Ui(this,v);Dt==4&&Fn(this),this.o&&!this.K&&(Dt==4?Hu(this.j,this):(this.o=!1,Vi(this)))}else lr(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Fn(this),ri(this)}}}catch{}};function Tf(c){if(!xu(c))return c.g.la();const g=en(c.g);if(g==="")return"";let v="";const S=g.length,k=Ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fn(c),ri(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<S;j++)c.h.h=!0,v+=c.h.i.decode(g[j],{stream:!(k&&j==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Qe:(v=Number(g.substring(v,S)),isNaN(v)?Ne:(S+=1,S+v>g.length?Qe:(g=g.slice(S,S+v),c.C=S+v,g)))}tn.prototype.cancel=function(){this.K=!0,Fn(this)};function Vi(c){c.T=Date.now()+c.H,Da(c,c.H)}function Da(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ge(y(c.aa,c),g)}function Li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}tn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cn(this.i,this.B),this.M!=2&&(ii(),Vt(17)),Fn(this),this.m=2,ri(this)):Da(this,this.T-c)};function ri(c){c.j.I==0||c.K||Hu(c.j,c)}function Fn(c){Li(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,ni(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ui(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Pi(v.h,c))){if(!c.L&&Pi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ka(v),Gr(v);else break t;Ys(v),Vt(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ge(y(v.Va,v),6e3));ki(v.h)<=1&&v.ta&&(v.ta=void 0)}else Fi(v,11)}else if((c.L||v.g==c)&&ka(v),!A(g))for(k=v.Ba.g.parse(g),g=0;g<k.length;g++){let Xt=k[g];const pe=Xt[0];if(!(pe<=v.K))if(v.K=pe,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const oi=Xt[3];oi!=null&&(v.ka=oi,v.j.info("VER="+v.ka));const Gi=Xt[4];Gi!=null&&(v.za=Gi,v.j.info("SVER="+v.za));const Ti=Xt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(S=1.5*Ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const bi=c.g;if(bi){const Ks=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var j=S.h;j.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ko(j,j.h),j.h=null))}if(S.G){const Pa=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(S.wa=Pa,Zt(S.J,S.G,Pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var at=c;if(S.na=Yu(S,S.L?S.ba:null,S.W),at.L){Qo(S.h,at);var Dt=at,Ae=S.O;Ae&&(Dt.H=Ae),Dt.D&&(Li(Dt),Vi(Dt)),S.g=at}else ju(S);v.i.length>0&&Hi(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Fi(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Fi(v,7):il(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}ii(4)}catch{}}var Oe=class{constructor(c,g){this.g=c,this.map=g}};function Go(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ki(c){return c.h?1:c.g?c.g.size:0}function Pi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ko(c,g){c.g?c.g.add(g):c.h=g}function Qo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return V(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let k,j=null;S>=0?(k=c[v].substring(0,S),j=c[v].substring(S+1)):k=c[v],g(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Gn?(this.l=c.l,Xe(this,c.j),this.o=c.o,this.g=c.g,Pr(this,c.u),this.h=c.h,$o(this,zu(c.i)),this.m=c.m):c&&(g=String(c).match(Lu))?(this.l=!1,Xe(this,g[1]||"",!0),this.o=zi(g[2]||""),this.g=zi(g[3]||"",!0),Pr(this,g[4]),this.h=zi(g[5]||"",!0),$o(this,g[6]||"",!0),this.m=zi(g[7]||"")):(this.l=!1,this.i=new Br(null,this.l))}Gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Bs(g,Oa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Bs(g,Oa,!0),"@"),c.push(Tn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bs(v,v.charAt(0)=="/"?Jo:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bs(v,ku)),c.join("")},Gn.prototype.resolve=function(c){const g=Me(this);let v=!!c.j;v?Xe(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)Pr(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var k=g.h.lastIndexOf("/");k!=-1&&(S=g.h.slice(0,k+1)+S)}if(k=S,k==".."||k==".")S="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){S=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let at=0;at<k.length;){const Dt=k[at++];Dt=="."?S&&at==k.length&&j.push(""):Dt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&at==k.length&&j.push("")):(j.push(Dt),S=!0)}S=j.join("/")}else S=k}return v?g.h=S:v=c.i.toString()!=="",v?$o(g,zu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Me(c){return new Gn(c)}function Xe(c,g,v){c.j=v?zi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Pr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function $o(c,g,v){g instanceof Br?(c.i=g,xa(c.i,c.l)):(v||(g=Bs(g,zr)),c.i=new Br(g,c.l))}function Zt(c,g,v){c.i.set(g,v)}function zs(c){return Zt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function zi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,In),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function In(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Uu=/[#\?:]/g,Jo=/[#\?]/g,zr=/[#\?@]/g,ku=/#/g;function Br(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Br.prototype,r.add=function(c,g){Dn(this),this.i=null,c=jr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Pu(c,g){Dn(c),g=jr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Zo(c,g){return Dn(c),g=jr(c,g),c.g.has(g)}r.forEach=function(c,g){Dn(this),this.g.forEach(function(v,S){v.forEach(function(k){c.call(g,k,S,this)},this)},this)};function Wo(c,g){Dn(c);let v=[];if(typeof g=="string")Zo(c,g)&&(v=v.concat(c.g.get(jr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return Dn(this),this.i=null,c=jr(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Wo(this,c),c.length>0?String(c[0]):g):g};function Ma(c,g,v){Pu(c,g),v.length>0&&(c.i=null,c.g.set(jr(c,g),V(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const k=Tn(v);v=Wo(this,v);for(let j=0;j<v.length;j++){let at=k;v[j]!==""&&(at+="="+Tn(v[j])),c.push(at)}}return this.i=c.join("&")};function zu(c){const g=new Br;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function jr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function xa(c,g){g&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,S){const k=S.toLowerCase();S!=k&&(Pu(this,S),Ma(this,k,v))},c)),c.j=g}function _i(c,g){const v=new De;if(f.Image){const S=new Image;S.onload=E(si,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(si,v,"TestLoadImage: error",!1,g,S),S.onabort=E(si,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(si,v,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function tl(c,g){const v=new De,S=new AbortController,k=setTimeout(()=>{S.abort(),si(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(j=>{clearTimeout(k),j.ok?si(v,"TestPingServer: ok",!0,g):si(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),si(v,"TestPingServer: error",!1,g)})}function si(c,g,v,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(v)}catch{}}function qr(){this.g=new ks}function Bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Bi,Bn),Bi.prototype.g=function(){return new js(this.i,this.h)};function js(c,g){fe.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(js,fe),r=js.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,vi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Hr(this):vi(this),this.readyState==3&&Va(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Hr(this))},r.Na=function(c){this.g&&(this.response=c,Hr(this))},r.ga=function(){this.g&&Hr(this)};function Hr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vi(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ai(c){let g="";return yt(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function qs(c,g,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=ai(v),typeof c=="string"?v!=null&&Tn(v):Zt(c,g,v))}function ie(c){fe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ie,fe);var ji=/^https?$/i,el=["POST","PUT"];r=ie.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){Hs(this,j);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)v.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())v.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(el,g,void 0)>=0)||S||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,at]of v)this.g.setRequestHeader(j,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){Hs(this,j)}};function Hs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,nl(c),or(c)}function nl(c){c.A||(c.A=!0,ne(c,"complete"),ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ne(this,"complete"),ne(this,"abort"),or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(c){if(c.h&&typeof u<"u"){if(c.v&&Ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(ne(c,"readystatechange"),Ei(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var S;if(S=j===0){let at=String(c.D).match(Lu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),S=!ji.test(at?at.toLowerCase():"")}v=S}if(v)ne(c,"complete"),ne(c,"success");else{c.o=6;try{var k=Ei(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",nl(c)}}finally{or(c)}}}}function or(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||ne(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ei(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),rr(g)}};function en(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(c){const g={};c=(c.g&&Ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(A(c[S]))continue;var v=Hn(c[S]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=g[k]||[];g[k]=j,j.push(v)}Ot(g,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Fr(c){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,c),this.Za=qi("retryDelaySeedMs",1e4,c),this.Ta=qi("forwardChannelMaxRetries",2,c),this.va=qi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(c&&c.concurrentRequestLimit),this.Ba=new qr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,S){Vt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Yu(this,null,this.W),Hi(this)};function il(c){if(La(c),c.I==3){var g=c.V++,v=Me(c.J);if(Zt(v,"SID",c.M),Zt(v,"RID",g),Zt(v,"TYPE","terminate"),Gs(c,v),g=new tn(c,c.j,g),g.M=2,g.A=zs(Me(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Ku(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Vi(g)}Gu(c)}function Gr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function La(c){Gr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Hi(c){if(!Yo(c.h)&&!c.m){c.m=!0;var g=c.Ea;pt||w(),ct||(pt(),ct=!0),C.add(g,c),c.D=0}}function Ua(c,g){return ki(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ge(y(c.Ea,c,g),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new tn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),rt(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Bu(this,k,g),v=Me(this.J),Zt(v,"RID",c),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),Gs(this,v),j&&(this.R?g="headers="+Tn(ai(j))+"&"+g:this.u&&qs(v,this.u,j)),Ko(this.h,k),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",g),Zt(v,"SID","null"),k.U=!0,xi(k,v,null)):xi(k,v,g),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||Yo(this.h)||rl(this))};function rl(c,g){var v;g?v=g.l:v=c.V++;const S=Me(c.J);Zt(S,"SID",c.M),Zt(S,"RID",v),Zt(S,"AID",c.K),Gs(c,S),c.u&&c.o&&qs(S,c.u,c.o),v=new tn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ko(c.h,v),xi(v,S,g)}function Gs(c,g){c.H&&yt(c.H,function(v,S){Zt(g,S,v)}),c.l&&yt({},function(v,S){Zt(g,S,v)})}function Bu(c,g,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var k=c.i;let Dt=-1;for(;;){const Ae=["count="+v];Dt==-1?v>0?(Dt=k[0].g,Ae.push("ofs="+Dt)):Dt=0:Ae.push("ofs="+Dt);let Xt=!0;for(let pe=0;pe<v;pe++){var j=k[pe].g;const oi=k[pe].map;if(j-=Dt,j<0)Dt=Math.max(0,k[pe].g-100),Xt=!1;else try{j="req"+j+"_"||"";try{var at=oi instanceof Map?oi:Object.entries(oi);for(const[Gi,Ti]of at){let bi=Ti;m(Ti)&&(bi=vn(Ti)),Ae.push(j+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw Ae.push(j+"type="+encodeURIComponent("_badmap")),Gi}}catch{S&&S(oi)}}if(Xt){at=Ae.join("&");break t}}at=void 0}return c=c.i.splice(0,v),g.G=c,at}function ju(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;pt||w(),ct||(pt(),ct=!0),C.add(g,c),c.A=0}}function Ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ge(y(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ge(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Gr(this),qu(this))};function sl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Me(c.na);Zt(g,"RID","rpc"),Zt(g,"SID",c.M),Zt(g,"AID",c.K),Zt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Zt(g,"TO",c.ia),Zt(g,"TYPE","xmlhttp"),Gs(c,g),c.u&&c.o&&qs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=zs(Me(g)),v.u=null,v.R=!0,Ia(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Gr(this),Ys(this),Vt(19))};function ka(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Hu(c,g){var v=null;if(c.g==g){ka(c),sl(c),c.g=null;var S=2}else if(Pi(c.h,g))v=g.G,Qo(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var k=c.D;S=sr(),ne(S,new me(S,v)),Hi(c)}else ju(c);else if(k=g.m,k==3||k==0&&g.X>0||!(S==1&&Ua(c,g)||S==2&&Ys(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),k){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function Fu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Fi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),S=c.Ua;const k=!S;S=new Gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xe(S,"https"),zs(S),k?_i(S.toString(),v):tl(S.toString(),v)}else Vt(2);c.I=0,c.l&&c.l.pa(g),Gu(c),La(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const g=Xo(c.h);(g.length!=0||c.i.length!=0)&&(X(c.ja,g),X(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Yu(c,g,v){var S=v instanceof Gn?Me(v):new Gn(v);if(S.g!="")g&&(S.g=g+"."+S.g),Pr(S,S.u);else{var k=f.location;S=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;const j=new Gn(null);S&&Xe(j,S),g&&(j.g=g),k&&Pr(j,k),v&&(j.h=v),S=j}return v=c.G,g=c.wa,v&&g&&Zt(S,v,g),Zt(S,"VER",c.ka),Gs(c,S),S}function Ku(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new ie(new Bi({ab:v})):new ie(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Yr(){}Yr.prototype.g=function(c,g){return new Sn(c,g)};function Sn(c,g){fe.call(this),this.g=new Fr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!A(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ur(this)}b(Sn,fe),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){il(this.g)},Sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vn(c),c=v);g.i.push(new Oe(g.Ya++,c)),g.I==3&&Hi(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Sn.Z.N.call(this)};function Xu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(Xu,qe);function $u(){cn.call(this),this.status=1}b($u,cn);function ur(c){this.g=c}b(ur,Qu),ur.prototype.ra=function(){ne(this.g,"a")},ur.prototype.qa=function(c){ne(this.g,new Xu(c))},ur.prototype.pa=function(c){ne(this.g,new $u)},ur.prototype.oa=function(){ne(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,ib=function(){return new Yr},nb=function(){return sr()},eb=de,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,dh=fn,dn.COMPLETE="complete",tb=dn,Ps.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",fe.prototype.listen=fe.prototype.J,Gl=Ps,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,W0=ie}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Bo="12.9.0";function J2(r){Bo=r}const _a=new bg("@firebase/firestore");function go(){return _a.logLevel}function ut(r,...t){if(_a.logLevel<=Bt.DEBUG){const n=t.map(Lg);_a.debug(`Firestore (${Bo}): ${r}`,...n)}}function Mr(r,...t){if(_a.logLevel<=Bt.ERROR){const n=t.map(Lg);_a.error(`Firestore (${Bo}): ${r}`,...n)}}function va(r,...t){if(_a.logLevel<=Bt.WARN){const n=t.map(Lg);_a.warn(`Firestore (${Bo}): ${r}`,...n)}}function Lg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function St(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,rb(r,s,n)}function rb(r,t,n){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mr(s),new Error(s)}function Jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||rb(t,o,s)}function It(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Vr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class da{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class sb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class W2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tD{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new da;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new da,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new da)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string",31837,{l:s}),new sb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class eD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new eD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ME{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ug{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function jt(r,t){return r<t?-1:r>t?1:0}function $m(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Mm(o)===Mm(u)?jt(o,u):Mm(o)?1:-1}return jt(r.length,t.length)}const sD=55296,aD=57343;function Mm(r){const t=r.charCodeAt(0);return t>=sD&&t<=aD}function Do(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const xE="__name__";class $i{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=$i.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return jt(t.length,n.length)}static compareSegments(t,n){const s=$i.isNumericId(t),o=$i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?$i.extractNumericId(t).compare($i.extractNumericId(n)):$m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return As.fromString(t.substring(4,t.length-2))}}class le extends $i{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new le(n)}static emptyPath(){return new le([])}}const oD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends $i{construct(t,n,s){return new ln(t,n,s)}static isValidIdentifier(t){return oD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new ln([xE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(le.fromString(t))}static fromName(t){return new vt(le.fromString(t).popFirst(5))}static empty(){return new vt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new le(t.slice()))}}function ab(r,t,n){if(!n)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function lD(r,t,n,s){if(t===!0&&s===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function VE(r){if(!vt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function LE(r){if(vt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ob(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function Dr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function ze(r,t){const n={typeString:r};return t&&(n.value=t),n}function Cu(r,t){if(!ob(r))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new lt(J.INVALID_ARGUMENT,n);return!0}const UE=-62135596800,kE=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*kE);return new he(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<UE)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Cu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-UE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:ze("string",he._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new he(0,0))}static max(){return new wt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function uD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new he(n+1,0):new he(n,s));return new Cs(o,vt.empty(),t)}function cD(r){return new Cs(r.readTime,r.key,cu)}class Cs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Cs(wt.min(),vt.empty(),cu)}static max(){return new Cs(wt.max(),vt.empty(),cu)}}function hD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:jt(r.largestBatchId,t.largestBatchId))}const fD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function jo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==fD)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function mD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(r){return r.name==="IndexedDbTransactionError"}class ef{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ef.ce=-1;const kg=-1;function nf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function gD(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const lb="";function pD(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=PE(t)),t=yD(r.get(n),t);return PE(t)}function yD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case lb:n+="";break;default:n+=u}}return n}function PE(r){return r+lb+""}function zE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function xs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ub(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,n){this.comparator=t,this.root=n||on.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rh(this.root,t,this.comparator,!0)}}class rh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new on(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new on(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(t){return new BE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class BE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Wn([])}unionWith(t){let n=new Ge(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Do(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cb("Invalid base64 string: "+u):u}})(t);return new un(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new un(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const _D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const n=_D.exec(r);if(Jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ds(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const hb="server_timestamp",fb="__type__",db="__previous_value__",mb="__local_write_time__";function Pg(r){return(r?.mapValue?.fields||{})[fb]?.stringValue===hb}function rf(r){const t=r.mapValue.fields[db];return Pg(t)?rf(t):t}function hu(r){const t=Is(r.mapValue.fields[mb].timestampValue);return new he(t.seconds,t.nanos)}class vD{constructor(t,n,s,o,u,f,m,p,y,E,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const Lh="(default)";class fu{constructor(t,n){this.projectId=t,this.database=n||Lh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}function ED(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(r.options.projectId,t)}const gb="__type__",TD="__max__",sh={mapValue:{}},pb="__vector__",Uh="value";function Ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pg(r)?4:SD(r)?9007199254740991:bD(r)?10:11:St(28295,{value:r})}function nr(r,t){if(r===t)return!0;const n=Ns(r);if(n!==Ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return hu(r).isEqual(hu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Is(o.timestampValue),m=Is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Ds(o.bytesValue).isEqual(Ds(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ce(o.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ce(o.integerValue)===Ce(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ce(o.doubleValue),m=Ce(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Do(r.arrayValue.values||[],t.arrayValue.values||[],nr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(zE(f)!==zE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!nr(f[p],m[p])))return!1;return!0})(r,t);default:return St(52216,{left:r})}}function du(r,t){return(r.values||[]).find((n=>nr(n,t)))!==void 0}function No(r,t){if(r===t)return 0;const n=Ns(r),s=Ns(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ce(u.integerValue||u.doubleValue),p=Ce(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return jE(r.timestampValue,t.timestampValue);case 4:return jE(hu(r),hu(t));case 5:return $m(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Ds(u),p=Ds(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=jt(m[y],p[y]);if(E!==0)return E}return jt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=jt(Ce(u.latitude),Ce(f.latitude));return m!==0?m:jt(Ce(u.longitude),Ce(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return qE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Uh]?.arrayValue,E=p[Uh]?.arrayValue,b=jt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:qE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const R=$m(p[b],E[b]);if(R!==0)return R;const V=No(m[p[b]],y[E[b]]);if(V!==0)return V}return jt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function jE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const n=Is(r),s=Is(t),o=jt(n.seconds,s.seconds);return o!==0?o:jt(n.nanos,s.nanos)}function qE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return jt(n.length,s.length)}function Oo(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Is(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return vt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Jm(n.fields[f])}`;return o+"}"})(r.mapValue):St(61005,{value:r})}function mh(r){switch(Ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rf(r);return t?16+mh(t):16;case 5:return 2*r.stringValue.length;case 6:return Ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return xs(s.fields,((u,f)=>{o+=u.length+mh(f)})),o})(r.mapValue);default:throw St(13486,{value:r})}}function HE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zm(r){return!!r&&"integerValue"in r}function zg(r){return!!r&&"arrayValue"in r}function FE(r){return!!r&&"nullValue"in r}function GE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function bD(r){return(r?.mapValue?.fields||{})[gb]?.stringValue===pb}function eu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return xs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=eu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=eu(r.arrayValue.values[n]);return t}return{...r}}function SD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TD}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=eu(n)}setAll(t){let n=ln.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=eu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return nr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){xs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Un(eu(this.value))}}function yb(r){const t=[];return xs(r.fields,((n,s)=>{const o=new ln([n]);if(gh(s)){const u=yb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Wn(t)}class yn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new yn(t,0,wt.min(),wt.min(),wt.min(),Un.empty(),0)}static newFoundDocument(t,n,s,o){return new yn(t,1,n,wt.min(),s,o,0)}static newNoDocument(t,n){return new yn(t,2,n,wt.min(),wt.min(),Un.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,wt.min(),wt.min(),Un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(t,n){this.position=t,this.inclusive=n}}function YE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),n.key):s=No(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function KE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!nr(r.position[n],t.position[n]))return!1;return!0}class mu{constructor(t,n="asc"){this.field=t,this.dir=n}}function AD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class _b{}class Pe extends _b{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new RD(t,n,s):n==="array-contains"?new DD(t,s):n==="in"?new ND(t,s):n==="not-in"?new OD(t,s):n==="array-contains-any"?new MD(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new CD(t,s):new ID(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends _b{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Mi(t,n)}matches(t){return vb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vb(r){return r.op==="and"}function Eb(r){return wD(r)&&vb(r)}function wD(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function Wm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(Eb(r))return r.filters.map((t=>Wm(t))).join(",");{const t=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${t})`}}function Tb(r,t){return r instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&nr(s.value,o.value)})(r,t):r instanceof Mi?(function(s,o){return o instanceof Mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Tb(f,o.filters[m])),!0):!1})(r,t):void St(19439)}function bb(r){return r instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(bb).join(" ,")+"}"})(r):"Filter"}class RD extends Pe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class CD extends Pe{constructor(t,n){super(t,"in",n),this.keys=Sb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ID extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=Sb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Sb(r,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class DD extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zg(n)&&du(n.arrayValue,this.value)}}class ND extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class OD extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class MD extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class xD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function QE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new xD(r,t,n,s,o,u,f)}function Bg(r){const t=It(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Wm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),nf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Oo(s))).join(",")),t.Te=n}return t.Te}function jg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!AD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Tb(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!KE(r.startAt,t.startAt)&&KE(r.endAt,t.endAt)}function tg(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ho{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VD(r,t,n,s,o,u,f,m){return new Ho(r,t,n,s,o,u,f,m)}function qg(r){return new Ho(r)}function XE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LD(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Ab(r){return r.collectionGroup!==null}function nu(r){const t=It(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ge(ln.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new mu(u,s))})),n.has(ln.keyField().canonicalString())||t.Ie.push(new mu(ln.keyField(),s))}return t.Ie}function Zi(r){const t=It(r);return t.Ee||(t.Ee=UD(t,nu(r))),t.Ee}function UD(r,t){if(r.limitType==="F")return QE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mu(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return QE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function eg(r,t){const n=r.filters.concat([t]);return new Ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function kD(r,t){const n=r.explicitOrderBy.concat([t]);return new Ho(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function ng(r,t,n){return new Ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sf(r,t){return jg(Zi(r),Zi(t))&&r.limitType===t.limitType}function wb(r){return`${Bg(Zi(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>bb(o))).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Zi(r))}; limitType=${r.limitType})`}function af(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=YE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,nu(s),o)||s.endAt&&!(function(f,m,p){const y=YE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,nu(s),o))})(r,t)}function PD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Rb(r){return(t,n)=>{let s=!1;for(const o of nu(r)){const u=zD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zD(r,t,n){const s=r.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?No(p,y):St(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}class Sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}const BD=new ve(vt.comparator);function xr(){return BD}const Cb=new ve(vt.comparator);function Yl(...r){let t=Cb;for(const n of r)t=t.insert(n.key,n);return t}function Ib(r){let t=Cb;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ha(){return iu()}function Db(){return iu()}function iu(){return new Sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const jD=new ve(vt.comparator),qD=new Ge(vt.comparator);function qt(...r){let t=qD;for(const n of r)t=t.add(n);return t}const HD=new Ge(jt);function FD(){return HD}function Hg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(t)?"-0":t}}function Nb(r){return{integerValue:""+r}}function GD(r,t){return gD(t)?Nb(t):Hg(r,t)}class of{constructor(){this._=void 0}}function YD(r,t,n){return r instanceof gu?(function(o,u){const f={fields:{[fb]:{stringValue:hb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pg(u)&&(u=rf(u)),u&&(f.fields[db]=u),{mapValue:f}})(n,t):r instanceof pu?Mb(r,t):r instanceof yu?xb(r,t):(function(o,u){const f=Ob(o,u),m=$E(f)+$E(o.Ae);return Zm(f)&&Zm(o.Ae)?Nb(m):Hg(o.serializer,m)})(r,t)}function KD(r,t,n){return r instanceof pu?Mb(r,t):r instanceof yu?xb(r,t):n}function Ob(r,t){return r instanceof Ph?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class gu extends of{}class pu extends of{constructor(t){super(),this.elements=t}}function Mb(r,t){const n=Vb(t);for(const s of r.elements)n.some((o=>nr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends of{constructor(t){super(),this.elements=t}}function xb(r,t){let n=Vb(t);for(const s of r.elements)n=n.filter((o=>!nr(o,s)));return{arrayValue:{values:n}}}class Ph extends of{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $E(r){return Ce(r.integerValue||r.doubleValue)}function Vb(r){return zg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class QD{constructor(t,n){this.field=t,this.transform=n}}function XD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof yu&&o instanceof yu?Do(s.elements,o.elements,nr):s instanceof Ph&&o instanceof Ph?nr(s.Ae,o.Ae):s instanceof gu&&o instanceof gu})(r.transform,t.transform)}class $D{constructor(t,n){this.version=t,this.transformResults=n}}class kn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new kn}static exists(t){return new kn(void 0,t)}static updateTime(t){return new kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ph(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lf{}function Lb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new uf(r.key,kn.none()):new Iu(r.key,r.data,kn.none());{const n=r.data,s=Un.empty();let o=new Ge(ln.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Vs(r.key,s,new Wn(o.toArray()),kn.none())}}function JD(r,t,n){r instanceof Iu?(function(o,u,f){const m=o.value.clone(),p=ZE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Vs?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=ZE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Ub(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function ru(r,t,n,s){return r instanceof Iu?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=u.value.clone(),E=WE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Vs?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=WE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Ub(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function ZD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Ob(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function JE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,((u,f)=>XD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Iu extends lf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends lf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function ZE(r,t,n){const s=new Map;Jt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,KD(f,m,n[o]))}return s}function WE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,YD(u,f,t))}return s}class uf extends lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WD extends lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tN{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&JD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ru(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ru(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Db();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Lb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&Do(this.mutations,t.mutations,((n,s)=>JE(n,s)))&&Do(this.baseMutations,t.baseMutations,((n,s)=>JE(n,s)))}}class Fg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return jD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fg(t,n,s,o)}}class eN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nN{constructor(t,n){this.count=t,this.unchangedNames=n}}var ke,Yt;function iN(r){switch(r){case J.OK:return St(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function kb(r){if(r===void 0)return Mr("GRPC error has no .code"),J.UNKNOWN;switch(r){case ke.OK:return J.OK;case ke.CANCELLED:return J.CANCELLED;case ke.UNKNOWN:return J.UNKNOWN;case ke.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ke.INTERNAL:return J.INTERNAL;case ke.UNAVAILABLE:return J.UNAVAILABLE;case ke.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ke.NOT_FOUND:return J.NOT_FOUND;case ke.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ke.ABORTED:return J.ABORTED;case ke.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ke.DATA_LOSS:return J.DATA_LOSS;default:return St(39323,{code:r})}}(Yt=ke||(ke={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function rN(){return new TextEncoder}const sN=new As([4294967295,4294967295],0);function tT(r){const t=rN().encode(r),n=new Z0;return n.update(t),new Uint8Array(n.digest())}function eT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new As([n,s],0),new As([o,u],0)]}class Gg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=As.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(As.fromNumber(s)));return o.compare(sN)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=tT(t),[s,o]=eT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=tT(t),[s,o]=eT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Du.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new cf(wt.min(),o,new ve(jt),xr(),qt())}}class Du{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Du(s,n,qt(),qt(),qt())}}class yh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Pb{constructor(t,n){this.targetId=t,this.Ce=n}}class zb{constructor(t,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nT{constructor(){this.ve=0,this.Fe=iT(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),s=qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}})),new Du(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=iT()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aN{constructor(t){this.Ge=t,this.ze=new Map,this.je=xr(),this.He=ah(),this.Je=ah(),this.Ze=new ve(jt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tg(u))if(s===0){const f=new vt(u.path);this.et(n,f,yn.newNoDocument(f,wt.min()))}else Jt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ds(s).toUint8Array()}catch(p){if(p instanceof cb)return va("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gg(f,o,u)}catch(p){return va(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tg(m.target)){const p=new vt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,yn.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=qt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new cf(t,n,this.Ze,this.je,s);return this.je=xr(),this.He=ah(),this.Je=ah(),this.Ze=new ve(jt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new nT,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ge(jt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ge(jt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ah(){return new ve(vt.comparator)}function iT(){return new ve(vt.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},lN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class cN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ig(r,t){return r.useProto3Json||nf(t)?t:{value:t}}function zh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function hN(r,t){return zh(r,t.toTimestamp())}function Wi(r){return Jt(!!r,49232),wt.fromTimestamp((function(n){const s=Is(n);return new he(s.seconds,s.nanos)})(r))}function Yg(r,t){return rg(r,t).canonicalString()}function rg(r,t){const n=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function jb(r){const t=le.fromString(r);return Jt(Yb(t),10190,{key:t.toString()}),t}function sg(r,t){return Yg(r.databaseId,t.path)}function xm(r,t){const n=jb(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(Hb(n))}function qb(r,t){return Yg(r.databaseId,t)}function fN(r){const t=jb(r);return t.length===4?le.emptyPath():Hb(t)}function ag(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hb(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rT(r,t,n){return{name:sg(r,t),fields:n.value.mapValue.fields}}function dN(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:kb(y.code);return new lt(E,y.message||"")})(f);n=new zb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(r,s.document.name),u=Wi(s.document.updateTime),f=s.document.createTime?Wi(s.document.createTime):wt.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new yh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=xm(r,s.document),u=s.readTime?Wi(s.readTime):wt.min(),f=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=xm(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new nN(o,u),m=s.targetId;n=new Pb(m,f)}}return n}function mN(r,t){let n;if(t instanceof Iu)n={update:rT(r,t.key,t.value)};else if(t instanceof uf)n={delete:sg(r,t.key)};else if(t instanceof Vs)n={update:rT(r,t.key,t.data),updateMask:SN(t.fieldMask)};else{if(!(t instanceof WD))return St(16599,{dt:t.type});n={verify:sg(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof gu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw St(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(r,t.precondition)),n}function gN(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Wi(o.updateTime):Wi(u);return f.isEqual(wt.min())&&(f=Wi(u)),new $D(f,o.transformResults||[])})(n,t)))):[]}function pN(r,t){return{documents:[qb(r,t.path)]}}function yN(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qb(r,o);const u=(function(y){if(y.length!==0)return Gb(Mi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:yo(R.field),direction:EN(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ig(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function _N(r){let t=fN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=Fb(b);return R instanceof Mi&&Eb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(X){return new mu(_o(X.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,nf(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(b){const R=!!b.before,V=b.values||[];return new kh(V,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const R=!b.before,V=b.values||[];return new kh(V,R)})(n.endAt)),VD(t,o,f,u,m,"F",p,y)}function vN(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Fb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_o(n.unaryFilter.field);return Pe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pe.create(_o(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((s=>Fb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(r):St(30097,{filter:r})}function EN(r){return oN[r]}function TN(r){return lN[r]}function bN(r){return uN[r]}function yo(r){return{fieldPath:r.canonicalString()}}function _o(r){return ln.fromServerFormat(r.fieldPath)}function Gb(r){return r instanceof Pe?(function(n){if(n.op==="=="){if(GE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:TN(n.op),value:n.value}}})(r):r instanceof Mi?(function(n){const s=n.getFilters().map((o=>Gb(o)));return s.length===1?s[0]:{compositeFilter:{op:bN(n.op),filters:s}}})(r):St(54877,{filter:r})}function SN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Yb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Kb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Es{constructor(t,n,s,o,u=wt.min(),f=wt.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class AN{constructor(t){this.yt=t}}function wN(r){const t=_N({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ng(t,t.limit,"L"):t}class RN{constructor(){this.Sn=new CN}addToCollectionParentIndex(t,n){return this.Sn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Cs.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Cs.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class CN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ge(le.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ge(le.comparator)).toArray()}}const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qb=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(Qb,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Mo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Mo(0)}static ar(){return new Mo(-1)}}const aT="LruGarbageCollector",IN=1048576;function oT([r,t],[n,s]){const o=jt(r,n);return o===0?jt(t,s):o}class DN{constructor(t){this.Pr=t,this.buffer=new Ge(oT),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ut(aT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?ut(aT,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Ar(3e5)}))}}class ON{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(ef.ce);const s=new DN(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(sT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(y=Date.now(),go()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function MN(r,t){return new ON(r,t)}class xN{constructor(){this.changes=new Sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class VN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class LN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&ru(s.mutation,o,Wn.empty(),he.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=qt()){const o=ha();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Yl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ha();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,qt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=xr();const f=iu(),m=(function(){return iu()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Vs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ru(E.mutation,y,E.mutation.getFieldMask(),he.now())):f.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new VN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=iu();let o=new ve(((f,m)=>f-m)),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Wn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||qt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=Db();E.forEach((R=>{if(!u.has(R)){const V=Lb(n.get(R),s.get(R));V!==null&&b.set(R,V),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return LD(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ab(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(ha());let m=cu,p=u;return f.next((y=>W.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,qt()))).next((E=>({batchId:m,changes:Ib(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(p=>{const y=(function(b,R){return new Ho(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=Yl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&ru(E.mutation,y,Wn.empty(),he.now()),af(n,y)&&(m=m.insert(p,y))})),m}))}}class UN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wi(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:wN(o.bundledQuery),readTime:Wi(o.readTime)}})(n)),W.resolve()}}class kN{constructor(){this.overlays=new ve(vt.comparator),this.Lr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ha();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=ha(),u=n.length+1,f=new vt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ha(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ha(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new eN(n,s));let u=this.Lr.get(n);u===void 0&&(u=qt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class PN{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class Kg{constructor(){this.kr=new Ge(Je.Kr),this.qr=new Ge(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Je(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Je(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new vt(new le([])),s=new Je(n,t),o=new Je(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new vt(new le([])),s=new Je(n,t),o=new Je(n,t+1);let u=qt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Je(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Je{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return vt.comparator(t.key,n.key)||jt(t.Hr,n.Hr)}static Ur(t,n){return jt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}class zN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ge(Je.Kr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?kg:this.Yn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Je(n,0),o=new Je(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ge(jt);return n.forEach((o=>{const u=new Je(o,0),f=new Je(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new Je(new vt(u),0);let m=new Ge(jt);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),W.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Jt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(n.mutations,(o=>{const u=new Je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Je(n,0),o=this.Jr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BN{constructor(t){this.ti=t,this.docs=(function(){return new ve(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let s=xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=xr();const f=n.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||hD(cD(E),s)<=0||(o.has(E.key)||af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ni(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new jN(this)}getSize(t){return W.resolve(this.size)}}class jN extends xN{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class qN{constructor(t){this.persistence=t,this.ri=new Sa((n=>Bg(n)),jg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new Kg,this.targetCount=0,this.oi=Mo._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),W.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Mo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.lr(n),W.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),W.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this.si.containsKey(n))}}class Xb{constructor(t,n){this._i={},this.overlays={},this.ai=new ef(0),this.ui=!1,this.ui=!0,this.ci=new PN,this.referenceDelegate=t(this),this.li=new qN(this),this.indexManager=new RN,this.remoteDocumentCache=(function(o){return new BN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new AN(n),this.Pi=new UN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new zN(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new HN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class HN extends dD{constructor(t){super(),this.currentSequenceNumber=t}}class Qg{constructor(t){this.persistence=t,this.Ri=new Kg,this.Ai=null}static Vi(t){return new Qg(t)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const o=vt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,wt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Bh{constructor(t,n){this.persistence=t,this.fi=new Sa((s=>pD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=MN(this,n)}static Vi(t,n){return new Bh(t,n)}Ti(){}Ii(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return W.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,wt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),W.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mh(t.data.value)),n}wr(t,n,s){return W.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=qt(),o=qt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xg(t,n.fromCache,s,o)}}class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class GN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return MR()?8:mD(_n())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FN;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(go()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(go()<=Bt.DEBUG&&ut("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(go()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(n))):W.resolve())}gs(t,n){if(XE(n))return W.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ng(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=qt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(t,ng(n,null,"F")):this.Ds(t,y,n,p)}))))})))))}ps(t,n,s,o){return XE(n)||o.isEqual(wt.min())?W.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?W.resolve(null):(go()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.Ds(t,f,n,uD(o,cu)).next((m=>m)))}))}bs(t,n){let s=new Ge(Rb(t));return n.forEach(((o,u)=>{af(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return go()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",po(n)),this.fs.getDocumentsMatchingQuery(t,n,Cs.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const $g="LocalStore",YN=3e8;class KN{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ve(jt),this.Fs=new Sa((u=>Bg(u)),jg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function QN(r,t,n,s){return new KN(r,t,n,s)}async function $b(r,t){const n=It(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=qt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function XN(r,t){const n=It(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const b=y.batch,R=b.keys();let V=W.resolve();return R.forEach((X=>{V=V.next((()=>E.getEntry(p,X))).next((Y=>{const K=y.docVersions.get(X);Jt(K!==null,48541),Y.version.compareTo(K)<0&&(b.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=qt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Jb(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function $N(r,t){const n=It(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let V=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?V=V.withResumeToken(un.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(b,V),(function(Y,K,nt){return Y.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=YN?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(R,V,E)&&m.push(n.li.updateTargetData(u,V))}));let p=xr(),y=qt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(JN(u,f,t.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(wt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function JN(r,t,n){let s=qt(),o=qt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=xr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut($g,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function ZN(r,t){const n=It(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=kg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function WN(r,t){const n=It(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Es(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function og(r,t,n){const s=It(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;ut($g,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function lT(r,t,n){const s=It(r);let o=wt.min(),u=qt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=It(p),R=b.Fs.get(E);return R!==void 0?W.resolve(b.vs.get(R)):b.li.getTargetData(y,E)})(s,f,Zi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:wt.min(),n?u:qt()))).next((m=>(tO(s,PD(t),m),{documents:m,ks:u})))))}function tO(r,t,n){let s=r.Ms.get(t)||wt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class uT{constructor(){this.activeTargetIds=FD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eO{constructor(){this.vo=new uT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new uT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class nO{Mo(t){}shutdown(){}}const cT="ConnectivityMonitor";class hT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(cT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ut(cT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function lg(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const Vm="RestConnection",iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rO{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=lg(),m=this.Qo(t,n.toUriEncodedString());ut(Vm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=ko(y);return this.zo(t,m,p,s,E).then((b=>(ut(Vm,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw va(Vm,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=iO[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class sO{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const gn="WebChannelConnection",Fl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ao extends rO{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ao.c_){const t=nb();Fl(t,eb.STAT_EVENT,(n=>{n.stat===Xm.PROXY?ut(gn,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&ut(gn,"STAT_EVENT: detected no buffering proxy")})),Ao.c_=!0}}zo(t,n,s,o,u){const f=lg();return new Promise(((m,p)=>{const y=new W0;y.setWithCredentials(!0),y.listenOnce(tb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case dh.NO_ERROR:const b=y.getResponseJson();ut(gn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case dh.TIMEOUT:ut(gn,`RPC '${t}' ${f} timed out`),p(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const R=y.getStatus();if(ut(gn,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const X=V?.error;if(X&&X.status&&X.message){const Y=(function(nt){const st=nt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN})(X.status);p(new lt(Y,X.message))}else p(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new lt(J.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(gn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ut(gn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=lg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");ut(gn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let b=!1,R=!1;const V=new sO({Ho:X=>{R?ut(gn,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(b||(ut(gn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),b=!0),ut(gn,`RPC '${t}' stream ${o} sending:`,X),E.send(X))},Jo:()=>E.close()});return Fl(E,Gl.EventType.OPEN,(()=>{R||(ut(gn,`RPC '${t}' stream ${o} transport opened.`),V.i_())})),Fl(E,Gl.EventType.CLOSE,(()=>{R||(R=!0,ut(gn,`RPC '${t}' stream ${o} transport closed`),V.o_(),this.E_(E))})),Fl(E,Gl.EventType.ERROR,(X=>{R||(R=!0,va(gn,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),V.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),Fl(E,Gl.EventType.MESSAGE,(X=>{if(!R){const Y=X.data[0];Jt(!!Y,16349);const K=Y,nt=K?.error||K[0]?.error;if(nt){ut(gn,`RPC '${t}' stream ${o} received error:`,nt);const st=nt.status;let it=(function(ct){const C=ke[ct];if(C!==void 0)return kb(C)})(st),ht=nt.message;st==="NOT_FOUND"&&ht.includes("database")&&ht.includes("does not exist")&&ht.includes(this.databaseId.database)&&va(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),it===void 0&&(it=J.INTERNAL,ht="Unknown error status: "+st+" with message "+nt.message),R=!0,V.o_(new lt(it,ht)),E.close()}else ut(gn,`RPC '${t}' stream ${o} received:`,Y),V.__(Y)}})),Ao.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ib()}}function aO(r){return new Ao(r)}function Lm(){return typeof document<"u"?document:null}function hf(r){return new cN(r,!0)}Ao.c_=!1;class Zb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fT="PersistentStream";class Wb{constructor(t,n,s,o,u,f,m,p){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(fT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ut(fT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oO extends Wb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=dN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?Wi(f.readTime):wt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=ag(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=tg(p)?{documents:pN(u,p)}:{query:yN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Bb(u,f.resumeToken);const y=ig(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(wt.min())>0){m.readTime=zh(u,f.snapshotVersion.toTimestamp());const y=ig(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=vN(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=ag(this.serializer),n.removeTarget=t,this.K_(n)}}class lO extends Wb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=gN(t.writeResults,t.commitTime),s=Wi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ag(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>mN(this.serializer,s)))};this.K_(n)}}class uO{}class cO extends uO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,rg(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(J.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,rg(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hO(r,t,n,s){return new cO(r,t,n,s)}class fO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class dO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Aa(this)&&(ut(Ea,"Restarting streams for network reachability change."),await(async function(p){const y=It(p);y.Ea.add(4),await Nu(y),y.Va.set("Unknown"),y.Ea.delete(4),await ff(y)})(this))}))})),this.Va=new fO(s,o)}}async function ff(r){if(Aa(r))for(const t of r.Ra)await t(!0)}async function Nu(r){for(const t of r.Ra)await t(!1)}function tS(r,t){const n=It(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),tp(n)?Wg(n):Fo(n).O_()&&Zg(n,t))}function Jg(r,t){const n=It(r),s=Fo(n);n.Ia.delete(t),s.O_()&&eS(n,t),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Va.set("Unknown"))}function Zg(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fo(r).Z_(t)}function eS(r,t){r.da.$e(t),Fo(r).X_(t)}function Wg(r){r.da=new aN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Fo(r).start(),r.Va.ua()}function tp(r){return Aa(r)&&!Fo(r).x_()&&r.Ia.size>0}function Aa(r){return It(r).Ea.size===0}function nS(r){r.da=void 0}async function mO(r){r.Va.set("Online")}async function gO(r){r.Ia.forEach(((t,n)=>{Zg(r,t)}))}async function pO(r,t){nS(r),tp(r)?(r.Va.ha(t),Wg(r)):r.Va.set("Unknown")}async function yO(r,t,n){if(r.Va.set("Online"),t instanceof zb&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,t)}catch(s){ut(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jh(r,s)}else if(t instanceof yh?r.da.Xe(t):t instanceof Pb?r.da.st(t):r.da.tt(t),!n.isEqual(wt.min()))try{const s=await Jb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),eS(u,p);const b=new Es(E.target,p,y,E.sequenceNumber);Zg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ut(Ea,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,t,n){if(!qo(t))throw t;r.Ea.add(1),await Nu(r),r.Va.set("Offline"),n||(n=()=>Jb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ff(r)}))}function iS(r,t){return t().catch((n=>jh(r,n,t)))}async function df(r){const t=It(r),n=Os(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:kg;for(;_O(t);)try{const o=await ZN(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,vO(t,o)}catch(o){await jh(t,o)}rS(t)&&sS(t)}function _O(r){return Aa(r)&&r.Ta.length<10}function vO(r,t){r.Ta.push(t);const n=Os(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function rS(r){return Aa(r)&&!Os(r).x_()&&r.Ta.length>0}function sS(r){Os(r).start()}async function EO(r){Os(r).ra()}async function TO(r){const t=Os(r);for(const n of r.Ta)t.ea(n.mutations)}async function bO(r,t,n){const s=r.Ta.shift(),o=Fg.from(s,t,n);await iS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await df(r)}async function SO(r,t){t&&Os(r).Y_&&await(async function(s,o){if((function(f){return iN(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();Os(s).B_(),await iS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await df(s)}})(r,t),rS(r)&&sS(r)}async function dT(r,t){const n=It(r);n.asyncQueue.verifyOperationInProgress(),ut(Ea,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await Nu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ff(n)}async function AO(r,t){const n=It(r);t?(n.Ea.delete(2),await ff(n)):t||(n.Ea.add(2),await Nu(n),n.Va.set("Unknown"))}function Fo(r){return r.ma||(r.ma=(function(n,s,o){const u=It(n);return u.sa(),new oO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:mO.bind(null,r),Yo:gO.bind(null,r),t_:pO.bind(null,r),J_:yO.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),tp(r)?Wg(r):r.Va.set("Unknown")):(await r.ma.stop(),nS(r))}))),r.ma}function Os(r){return r.fa||(r.fa=(function(n,s,o){const u=It(n);return u.sa(),new lO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:EO.bind(null,r),t_:SO.bind(null,r),ta:TO.bind(null,r),na:bO.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await df(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new ep(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(Mr("AsyncQueue",`${t}: ${r}`),qo(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class mT{constructor(){this.ga=new ve(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class xo{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new xo(t,n,wo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class RO{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=It(n),u=o.queries;o.queries=gT(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function gT(){return new Sa((r=>wb(r)),sf)}async function CO(r,t){const n=It(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new wO,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=np(f,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ip(n)}async function IO(r,t){const n=It(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function DO(r,t){const n=It(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&ip(n)}function NO(r,t,n){const s=It(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function ip(r){r.Ca.forEach((t=>{t.next()}))}var ug,pT;(pT=ug||(ug={})).Ma="default",pT.Cache="cache";class OO{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ug.Cache}}class aS{constructor(t){this.key=t}}class oS{constructor(t){this.key=t}}class MO{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.eu=Rb(t),this.tu=new wo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new mT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const R=o.get(E),V=af(this.query,b)?b:null,X=!!R&&this.mutatedKeys.has(R.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let K=!1;R&&V?R.data.isEqual(V.data)?X!==Y&&(s.track({type:3,doc:V}),K=!0):this.su(R,V)||(s.track({type:2,doc:V}),K=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(m=!0)):!R&&V?(s.track({type:0,doc:V}),K=!0):R&&!V&&(s.track({type:1,doc:R}),K=!0,(p||y)&&(m=!0)),K&&(V?(f=f.add(V),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(V,X){const Y=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:K})}};return Y(V)-Y(X)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new xo(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new oS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new aS(s))})),n}cu(t){this.Za=t.ks,this.Ya=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class xO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class VO{constructor(t){this.key=t,this.hu=!1}}class LO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Sa((m=>wb(m)),sf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ve(vt.comparator),this.Au=new Map,this.Vu=new Kg,this.du={},this.mu=new Map,this.fu=Mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UO(r,t,n=!0){const s=dS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lS(s,t,n,!0),o}async function kO(r,t){const n=dS(r);await lS(n,t,!0,!1)}async function lS(r,t,n,s){const o=await WN(r.localStore,Zi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await PO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&tS(r.remoteStore,o),m}async function PO(r,t,n,s,o){r.pu=(b,R,V)=>(async function(Y,K,nt,st){let it=K.view.ru(nt);it.Ss&&(it=await lT(Y.localStore,K.query,!1).then((({documents:C})=>K.view.ru(C,it))));const ht=st&&st.targetChanges.get(K.targetId),pt=st&&st.targetMismatches.get(K.targetId)!=null,ct=K.view.applyChanges(it,Y.isPrimaryClient,ht,pt);return _T(Y,K.targetId,ct.au),ct.snapshot})(r,b,R,V);const u=await lT(r.localStore,t,!0),f=new MO(t,u.ks),m=f.ru(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);_T(r,n,y.au);const E=new xO(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function zO(r,t,n){const s=It(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!sf(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await og(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jg(s.remoteStore,o.targetId),cg(s,o.targetId)})).catch(jo)):(cg(s,o.targetId),await og(s.localStore,o.targetId,!0))}async function BO(r,t){const n=It(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jg(n.remoteStore,s.targetId))}async function jO(r,t,n){const s=QO(r);try{const o=await(function(f,m){const p=It(f),y=he.now(),E=m.reduce(((V,X)=>V.add(X.key)),qt());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let X=xr(),Y=qt();return p.xs.getEntries(V,E).next((K=>{X=K,X.forEach(((nt,st)=>{st.isValidDocument()||(Y=Y.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,X))).next((K=>{b=K;const nt=[];for(const st of m){const it=ZD(st,b.get(st.key).overlayedDocument);it!=null&&nt.push(new Vs(st.key,it,yb(it.value.mapValue),kn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,nt,m)})).next((K=>{R=K;const nt=K.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(V,K.batchId,nt)}))})).then((()=>({batchId:R.batchId,changes:Ib(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new ve(jt)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await Ou(s,o.changes),await df(s.remoteStore)}catch(o){const u=np(o,"Failed to persist write");n.reject(u)}}async function uS(r,t){const n=It(r);try{const s=await $N(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Jt(f.hu,14607):o.removedDocuments.size>0&&(Jt(f.hu,42227),f.hu=!1))})),await Ou(n,s,t)}catch(s){await jo(s)}}function yT(r,t,n){const s=It(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=It(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,b)=>{for(const R of b.ba)R.va(m)&&(y=!0)})),y&&ip(p)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qO(r,t,n){const s=It(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ve(vt.comparator);f=f.insert(u,yn.newNoDocument(u,wt.min()));const m=qt().add(u),p=new cf(wt.min(),new Map,new ve(jt),f,m);await uS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(t),sp(s)}else await og(s.localStore,t,!1).then((()=>cg(s,t,n))).catch(jo)}async function HO(r,t){const n=It(r),s=t.batch.batchId;try{const o=await XN(n.localStore,t);hS(n,s,null),cS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await jo(o)}}async function FO(r,t,n){const s=It(r);try{const o=await(function(f,m){const p=It(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Jt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);hS(s,t,n),cS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ou(s,o)}catch(o){await jo(o)}}function cS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function hS(r,t,n){const s=It(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function cg(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||fS(r,s)}))}function fS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(Jg(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),sp(r))}function _T(r,t,n){for(const s of n)s instanceof aS?(r.Vu.addReference(s.key,t),GO(r,s)):s instanceof oS?(ut(rp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||fS(r,s.key)):St(19791,{wu:s})}function GO(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ut(rp,"New document in limbo: "+n),r.Eu.add(s),sp(r))}function sp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new vt(le.fromString(t)),s=r.fu.next();r.Au.set(s,new VO(n)),r.Ru=r.Ru.insert(n,s),tS(r.remoteStore,new Es(Zi(qg(n.path)),s,"TargetPurposeLimboResolution",ef.ce))}}async function Ou(r,t,n){const s=It(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Xg.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const E=It(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(R=>W.forEach(R.Ts,(V=>E.persistence.referenceDelegate.addReference(b,R.targetId,V))).next((()=>W.forEach(R.Is,(V=>E.persistence.referenceDelegate.removeReference(b,R.targetId,V)))))))))}catch(b){if(!qo(b))throw b;ut($g,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const V=E.vs.get(R),X=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(X);E.vs=E.vs.insert(R,Y)}}})(s.localStore,u))}async function YO(r,t){const n=It(r);if(!n.currentUser.isEqual(t)){ut(rp,"User change. New user:",t.toKey());const s=await $b(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new lt(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ns)}}function KO(r,t){const n=It(r),s=n.Au.get(t);if(s&&s.hu)return qt().add(s.key);{let o=qt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function dS(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qO.bind(null,t),t.Pu.J_=DO.bind(null,t.eventManager),t.Pu.yu=NO.bind(null,t.eventManager),t}function QO(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,t),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return QN(this.persistence,new GN,t.initialUser,this.serializer)}Cu(t){return new Xb(Qg.Vi,this.serializer)}Du(t){return new eO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class XO extends qh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Jt(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Xb((s=>Bh.Vi(s,n)),this.serializer)}}class hg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YO.bind(null,this.syncEngine),await AO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RO})()}createDatastore(t){const n=hf(t.databaseInfo.databaseId),s=aO(t.databaseInfo);return hO(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new dO(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>yT(this.syncEngine,n,0)),(function(){return hT.v()?new hT:new nO})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const b=new LO(o,u,f,m,p,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=It(n);ut(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hg.provider={build:()=>new hg};class $O{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ms="FirestoreClient";class JO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ut(Ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ut(Ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=np(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Um(r,t){r.asyncQueue.verifyOperationInProgress(),ut(Ms,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $b(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function vT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await ZO(r);ut(Ms,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>dT(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>dT(t.remoteStore,o))),r._onlineComponents=t}async function ZO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Ms,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new qh)}}else ut(Ms,"Using default OfflineComponentProvider"),await Um(r,new XO(void 0));return r._offlineComponents}async function mS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Ms,"Using user provided OnlineComponentProvider"),await vT(r,r._uninitializedComponentsProvider._online)):(ut(Ms,"Using default OnlineComponentProvider"),await vT(r,new hg))),r._onlineComponents}function WO(r){return mS(r).then((t=>t.syncEngine))}async function ET(r){const t=await mS(r),n=t.eventManager;return n.onListen=UO.bind(null,t.syncEngine),n.onUnlisten=zO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BO.bind(null,t.syncEngine),n}function tM(r,t,n,s){const o=new $O(s),u=new OO(t,o,n);return r.asyncQueue.enqueueAndForget((async()=>CO(await ET(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>IO(await ET(r),u)))}}function eM(r,t){const n=new da;return r.asyncQueue.enqueueAndForget((async()=>jO(await WO(r),t,n))),n.promise}function gS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const nM="ComponentProvider",TT=new Map;function iM(r,t,n,s,o){return new vD(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,gS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const pS="firestore.googleapis.com",bT=!0;class ST{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=bT}else this.host=t.host,this.ssl=t.ssl??bT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Qb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IN)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Z2;switch(s.type){case"firstParty":return new nD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=TT.get(n);s&&(ut(nM,"Removing Datastore"),TT.delete(n),s.terminate())})(this),Promise.resolve()}}function rM(r,t,n,s={}){r=Dr(r,mf);const o=ko(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(m0(`https://${m}`),g0("Firestore",!0)),u.host!==pS&&u.host!==m&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ga(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=pn.MOCK_USER;else{y=SR(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new pn(b)}r._authCredentials=new W2(new sb(y,E))}}class wa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wa(this.firestore,t,this._query)}}class Be{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Cu(n,Be._jsonSchema))return new Be(t,s||null,new vt(le.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:ze("string",Be._jsonSchemaVersion),referencePath:ze("string")};class ws extends wa{constructor(t,n,s){super(t,n,qg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new vt(t))}withConverter(t){return new ws(this.firestore,t,this._path)}}function AT(r,t,...n){if(r=je(r),ab("collection","path",t),r instanceof mf){const s=le.fromString(t,...n);return LE(s),new ws(r,null,s)}{if(!(r instanceof Be||r instanceof ws))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...n));return LE(s),new ws(r.firestore,null,s)}}function _h(r,t,...n){if(r=je(r),arguments.length===1&&(t=Ug.newId()),ab("doc","path",t),r instanceof mf){const s=le.fromString(t,...n);return VE(s),new Be(r,null,new vt(s))}{if(!(r instanceof Be||r instanceof ws))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...n));return VE(s),new Be(r.firestore,r instanceof ws?r.converter:null,new vt(s))}}const wT="AsyncQueue";class RT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zb(this,"async_queue_retry"),this._c=()=>{const s=Lm();s&&ut(wT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!qo(t))throw t;ut(wT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",CT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=ep.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:CT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ta extends mf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new RT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RT(t),this._firestoreClient=void 0,await t}}}function sM(r,t){const n=typeof r=="object"?r:v0(),s=typeof r=="string"?r:Lh,o=Ag(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TR("firestore");u&&rM(o,...u)}return o}function ap(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aM(r),r._firestoreClient}function aM(r){const t=r._freezeSettings(),n=iM(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new JO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(un.fromBase64String(t))}catch(n){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yi(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Cu(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:ze("string",yi._jsonSchemaVersion),bytes:ze("string")};class gf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pf{constructor(t){this._methodName=t}}class tr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(t){if(Cu(t,tr._jsonSchema))return new tr(t.latitude,t.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:ze("string",tr._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class Di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Cu(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Di(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:ze("string",Di._jsonSchemaVersion),vectorValues:ze("object")};const oM=/^__.*__$/;class lM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(t,this.data,n,this.fieldTransforms)}}class yS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function _S(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:r})}}class op{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Hh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(_S(this.dataSource)&&oM.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class uM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||hf(t)}createContext(t,n,s,o=!1){return new op({dataSource:t,methodName:n,targetDoc:s,path:ln.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(r){const t=r._freezeSettings(),n=hf(r._databaseId);return new uM(r._databaseId,!!t.ignoreUndefinedProperties,n)}function vS(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);up("Data must be an object, but it was:",f,s);const m=bS(s,f);let p,y;if(u.merge)p=new Wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=ba(t,b,n);if(!f.contains(R))throw new lt(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);wS(E,R)||E.push(R)}p=new Wn(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new lM(new Un(m),p,y)}class _f extends pf{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _f}}class lp extends pf{_toFieldTransform(t){return new QD(t.path,new gu)}isEqual(t){return t instanceof lp}}function ES(r,t,n,s){const o=r.createContext(1,t,n);up("Data must be an object, but it was:",o,s);const u=[],f=Un.empty();xs(s,((p,y)=>{const E=AS(t,p,n);y=je(y);const b=o.childContextForFieldPath(E);if(y instanceof _f)u.push(E);else{const R=Mu(y,b);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Wn(u);return new yS(f,m,o.fieldTransforms)}function TS(r,t,n,s,o,u){const f=r.createContext(1,t,n),m=[ba(t,s,n)],p=[o];if(u.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(ba(t,u[R])),p.push(u[R+1]);const y=[],E=Un.empty();for(let R=m.length-1;R>=0;--R)if(!wS(y,m[R])){const V=m[R];let X=p[R];X=je(X);const Y=f.childContextForFieldPath(V);if(X instanceof _f)y.push(V);else{const K=Mu(X,Y);K!=null&&(y.push(V),E.set(V,K))}}const b=new Wn(y);return new yS(E,b,f.fieldTransforms)}function cM(r,t,n,s=!1){return Mu(n,r.createContext(s?4:3,t))}function Mu(r,t){if(SS(r=je(r)))return up("Unsupported field value:",t,r),bS(r,t);if(r instanceof pf)return(function(s,o){if(!_S(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Mu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=he.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof he){const u=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof tr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yi)return{bytesValue:Bb(o.serializer,s._byteString)};if(s instanceof Be){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(f,m){const p=f instanceof Di?f.toArray():f;return{mapValue:{fields:{[gb]:{stringValue:pb},[Uh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Hg(m.serializer,E)}))}}}}}})(s,o);if(Kb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${tf(s)}`)})(r,t)}function bS(r,t){const n={};return ub(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(r,((s,o)=>{const u=Mu(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function SS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof tr||r instanceof yi||r instanceof Be||r instanceof pf||r instanceof Di||Kb(r))}function up(r,t,n){if(!SS(n)||!ob(n)){const s=tf(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function ba(r,t,n){if((t=je(t))instanceof gf)return t._internalPath;if(typeof t=="string")return AS(r,t);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const hM=new RegExp("[~\\*/\\[\\]]");function AS(r,t,n){if(t.search(hM)>=0)throw Hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gf(...t.split("."))._internalPath}catch{throw Hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new lt(J.INVALID_ARGUMENT,m+r+p)}function wS(r,t){return r.some((n=>n.isEqual(t)))}class fM{convertValue(t,n="none"){switch(Ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return xs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Uh].arrayValue?.values?.map((s=>Ce(s.doubleValue)));return new Di(n)}convertGeoPoint(t){return new tr(Ce(t.latitude),Ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=rf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const n=Is(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);Jt(Yb(s),9688,{name:t});const o=new fu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class RS extends fM{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function IT(){return new lp("serverTimestamp")}const DT="@firebase/firestore",NT="4.11.0";function OT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class CS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(ba("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dM extends CS{data(){return super.data()}}function mM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class IS extends cp{}function gM(r,t,...n){let s=[];t instanceof cp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof hp)).length,m=u.filter((p=>p instanceof vf)).length;if(f>1||f>0&&m>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vf extends IS{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new vf(t,n,s)}_apply(t){const n=this._parse(t);return DS(t._query,n),new wa(t.firestore,t.converter,eg(t._query,n))}_parse(t){const n=yf(t.firestore);return(function(u,f,m,p,y,E,b){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){xT(b,E);const X=[];for(const Y of b)X.push(MT(p,u,Y));R={arrayValue:{values:X}}}else R=MT(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||xT(b,E),R=cM(m,f,b,E==="in"||E==="not-in");return Pe.create(y,E,R)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function pM(r,t,n){const s=t,o=ba("where",r);return vf._create(o,s,n)}class hp extends cp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new hp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)DS(f,p),f=eg(f,p)})(t._query,n),new wa(t.firestore,t.converter,eg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fp extends IS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new fp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(u,f)})(t._query,this._field,this._direction);return new wa(t.firestore,t.converter,kD(t._query,n))}}function yM(r,t="asc"){const n=t,s=ba("orderBy",r);return fp._create(s,n)}function MT(r,t,n){if(typeof(n=je(n))=="string"){if(n==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ab(t)&&n.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(le.fromString(n));if(!vt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return HE(r,new vt(s))}if(n instanceof Be)return HE(r,n._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function xT(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function NS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Ql{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ma extends CS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ba("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:ze("string",ma._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class vh extends ma{data(t={}){return super.data(t)}}class Ro{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:_M(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _M(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:ze("string",Ro._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class vM{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yf(t)}set(t,n,s){this._verifyNotCommitted();const o=km(t,this._firestore),u=NS(o.converter,n,s),f=vS(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,kn.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=km(t,this._firestore);let f;return f=typeof(n=je(n))=="string"||n instanceof gf?TS(this._dataReader,"WriteBatch.update",u._key,n,s,o):ES(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,kn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=km(t,this._firestore);return this._mutations=this._mutations.concat(new uf(n._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function km(r,t){if((r=je(r)).firestore!==t)throw new lt(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function EM(r,t,n,...s){r=Dr(r,Be);const o=Dr(r.firestore,Ta),u=yf(o);let f;return f=typeof(t=je(t))=="string"||t instanceof gf?TS(u,"updateDoc",r._key,t,n,s):ES(u,"updateDoc",r._key,t),Ef(o,[f.toMutation(r._key,kn.exists(!0))])}function TM(r){return Ef(Dr(r.firestore,Ta),[new uf(r._key,kn.none())])}function bM(r,t){const n=Dr(r.firestore,Ta),s=_h(r),o=NS(r.converter,t),u=yf(r.firestore);return Ef(n,[vS(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,kn.exists(!1))]).then((()=>s))}function SM(r,...t){r=je(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||OT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OT(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(r instanceof Be)f=Dr(r.firestore,Ta),m=qg(r._key.path),u={next:y=>{t[s]&&t[s](AM(f,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Dr(r,wa);f=Dr(y.firestore,Ta),m=y._query;const E=new RS(f);u={next:b=>{t[s]&&t[s](new Ro(f,E,y,b))},error:t[s+1],complete:t[s+2]},mM(r._query)}const p=ap(f);return tM(p,m,o,u)}function Ef(r,t){const n=ap(r);return eM(n,t)}function AM(r,t,n){const s=n.docs.get(t._key),o=new RS(r);return new ma(r,o,t._key,s,new Ql(n.hasPendingWrites,n.fromCache),t.converter)}function wM(r){return r=Dr(r,Ta),ap(r),new vM(r,(t=>Ef(r,t)))}(function(t,n=!0){J2(Po),Co(new pa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ta(new tD(s.getProvider("auth-internal")),new iD(f,s.getProvider("app-check-internal")),ED(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ss(DT,NT,t),Ss(DT,NT,"esm2020")})();var RM="firebase",CM="12.9.0";Ss(RM,CM,"app");const OS={apiKey:"AIzaSyB4a3IHst0JLJwTXVu064PBrj4WNrtVNLg",authDomain:"d5-todo.firebaseapp.com",projectId:"d5-todo",storageBucket:"d5-todo.firebasestorage.app",messagingSenderId:"20994853211",appId:"1:20994853211:web:e80258fe77125e78feb27e"},fg=!!OS.apiKey;let Xl,wr,MS;if(fg)try{const r=_0(OS);Xl=X2(r),wr=sM(r),MS=new Rr}catch(r){console.error("Firebase initialization error:",r)}function IM({todo:r,toggleTodo:t,deleteTodo:n,formatDateTime:s,formatDuration:o}){const{attributes:u,listeners:f,setNodeRef:m,transform:p,transition:y,isDragging:E}=lR({id:r.id}),b={transform:Rs.Transform.toString(p),transition:y,opacity:E?.3:1,position:"relative"};return tt.jsxs("li",{ref:m,style:b,className:`todo-item ${r.completed?"completed":""} ${E?"dragging":""}`,children:[tt.jsxs("div",{className:"todo-main",children:[tt.jsx("div",{className:"drag-handle",...u,...f,style:{cursor:"grab",marginRight:"10px",display:"flex",alignItems:"center",color:"#888"},children:tt.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[tt.jsx("circle",{cx:"9",cy:"5",r:"1"}),tt.jsx("circle",{cx:"9",cy:"12",r:"1"}),tt.jsx("circle",{cx:"9",cy:"19",r:"1"}),tt.jsx("circle",{cx:"15",cy:"5",r:"1"}),tt.jsx("circle",{cx:"15",cy:"12",r:"1"}),tt.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),tt.jsxs("label",{className:"checkbox-container",children:[tt.jsx("input",{type:"checkbox",checked:r.completed,onChange:()=>t(r.id),className:"todo-checkbox"}),tt.jsx("span",{className:"checkmark"})]}),tt.jsxs("div",{className:"todo-content",onClick:()=>t(r.id),children:[tt.jsx("span",{className:"todo-text",children:r.text}),tt.jsxs("div",{className:"todo-time-info",children:[tt.jsxs("span",{className:"todo-time",children:[" ",s(r.createdAt)]}),r.completed&&tt.jsxs(tt.Fragment,{children:[tt.jsxs("span",{className:"todo-time",children:[" ",s(r.completedAt,!0)]}),tt.jsx("span",{className:"todo-duration",children:o(r.createdAt,r.completedAt)})]})]})]})]}),tt.jsx("button",{onClick:()=>n(r.id),className:"delete-btn","aria-label":`Delete ${r.text}`,children:tt.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[tt.jsx("path",{d:"M3 6h18"}),tt.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),tt.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]})}function DM(){const[r,t]=F.useState(null),[n,s]=F.useState(!0),[o,u]=F.useState([]),[f,m]=F.useState(""),[p,y]=F.useState(!1),[E,b]=F.useState(null),R=x1(Fv(vg,{activationConstraint:{distance:5}}),Fv(yg,{coordinateGetter:hR}));F.useEffect(()=>{if(!fg||!Xl){s(!1);return}const A=kI(Xl,dt=>{t(dt),s(!1)});return()=>A()},[]),F.useEffect(()=>{if(!r||!wr){u([]);return}const A=gM(AT(wr,"todos"),pM("uid","==",r.uid),yM("order","asc")),dt=SM(A,Rt=>{const q=Rt.docs.map(et=>({id:et.id,...et.data(),createdAt:et.data().createdAt?.toDate()||new Date,completedAt:et.data().completedAt?.toDate()||null}));u(q)},Rt=>{console.error("Firestore onSnapshot error:",Rt),Rt.code==="permission-denied"?alert("   .    ."):Rt.code==="failed-precondition"&&alert("Firestore  . (F12)     .")});return()=>dt()},[r]),F.useEffect(()=>{const A=()=>{y(dt=>!dt&&window.scrollY>120?!0:dt&&window.scrollY<20?!1:dt)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]);const V=async()=>{try{await r2(Xl,MS)}catch(A){console.error("Login failed:",A);let dt=" .";A.code==="auth/operation-not-allowed"||A.code==="auth/configuration-not-found"?dt="Firebase  Google   . Authentication > Sign-in method Google ' ' .":A.code==="auth/unauthorized-domain"?dt=" (localhost ) Firebase    .":A.code==="auth/popup-closed-by-user"?dt="  .":dt+=` (${A.code}: ${A.message})`,alert(dt)}},X=()=>{PI(Xl)},Y=async()=>{if(f.trim()===""){alert("  .");return}if(!r||!wr)return;const A=f;m("");try{await bM(AT(wr,"todos"),{uid:r.uid,text:A,completed:!1,createdAt:IT(),order:o.length>0?o[0].order-1:0})}catch(dt){console.error("Error adding todo:",dt),m(A),alert("  .")}},K=async A=>{const dt=o.find(Rt=>Rt.id===A);if(dt)try{const Rt=_h(wr,"todos",A),q=!dt.completed;await EM(Rt,{completed:q,completedAt:q?IT():null})}catch(Rt){console.error("Error toggling todo:",Rt)}},nt=(A,dt)=>{if(!A||!dt)return"";const Rt=new Date(dt)-new Date(A),q=Math.floor(Rt/1e3),et=Math.floor(q/60),mt=Math.floor(et/60),yt=Math.floor(mt/24);if(yt>=1){const Ot=et%60;return`${yt} ${Ot}`}else{const Ot=q%60;return`${et} ${Ot}`}},st=(A,dt=!1)=>{if(!A)return"";const q=new Date(A).toLocaleString("ko-KR",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d{2})\. (\d{2})\. (\d{2})\./,"$1.$2.$3");return dt?q.replace(/:/g,"."):q},it=async A=>{try{await TM(_h(wr,"todos",A))}catch(dt){console.error("Error deleting todo:",dt)}},ht=A=>{A.key==="Enter"&&Y()},pt=A=>{b(A.active.id)},ct=async A=>{const{active:dt,over:Rt}=A;if(Rt&&dt.id!==Rt.id){const q=o.findIndex(yt=>yt.id===dt.id),et=o.findIndex(yt=>yt.id===Rt.id),mt=Tg([...o],q,et);try{const yt=wM(wr);mt.forEach((Ot,M)=>{const G=_h(wr,"todos",Ot.id);yt.update(G,{order:M})}),await yt.commit()}catch(yt){console.error("Error reordering todos:",yt)}}b(null)},C=()=>{b(null)},w=o.length,I=o.filter(A=>A.completed).length,O=w===0?0:Math.round(I/w*100),D={sideEffects:n0({styles:{active:{opacity:"0.4"}}})};if(n)return tt.jsxs("div",{className:"loading-container",children:[tt.jsx("div",{className:"loader"}),tt.jsx("p",{children:" ..."})]});if(!fg)return tt.jsx("div",{className:"login-container",children:tt.jsxs("div",{className:"login-card",children:[tt.jsx("h1",{children:" "}),tt.jsxs("p",{children:["Firebase  .",tt.jsx("br",{}),tt.jsx("code",{children:".env"}),"   Firebase API   ."]}),tt.jsxs("div",{style:{textAlign:"left",background:"#1e293b",padding:"20px",borderRadius:"16px",fontSize:"0.9rem",color:"#94a3b8",marginTop:"20px"},children:[tt.jsx("p",{style:{margin:"0 0 10px 0",color:"#22d3ee",fontWeight:"bold"},children:"  :"}),tt.jsxs("ol",{style:{paddingLeft:"20px",margin:0,lineHeight:"1.6"},children:[tt.jsxs("li",{children:["  ",tt.jsx("code",{children:".env"}),"  ."]}),tt.jsxs("li",{children:[tt.jsx("code",{children:".env.example"}),"   ."]}),tt.jsx("li",{children:"Firebase     ."}),tt.jsxs("li",{children:[" ",tt.jsx("code",{children:"npm run dev"})," ."]})]})]})]})});if(!r)return tt.jsx("div",{className:"login-container",children:tt.jsxs("div",{className:"login-card",children:[tt.jsx("h1",{children:"Todo List"}),tt.jsx("p",{children:"   ."}),tt.jsxs("button",{onClick:V,className:"login-btn",children:[tt.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:[tt.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),tt.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),tt.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),tt.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]})});const L=E?o.find(A=>A.id===E):null;return tt.jsxs("div",{className:"todo-container",children:[tt.jsxs("div",{className:`sticky-header ${p?"scrolled":""}`,children:[tt.jsxs("div",{className:"header-top",children:[tt.jsx("h1",{children:"Todo List"}),tt.jsxs("div",{className:"user-profile",children:[tt.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-avatar"}),tt.jsx("button",{onClick:X,className:"logout-btn",children:""})]})]}),tt.jsxs("div",{className:"stats-dashboard",children:[tt.jsxs("div",{className:"stats-info",children:[tt.jsxs("div",{className:"stat-item",children:[tt.jsx("span",{className:"stat-label",children:"Total"}),tt.jsx("span",{className:"stat-value",children:w})]}),tt.jsxs("div",{className:"stat-item",children:[tt.jsx("span",{className:"stat-label",children:"Completed"}),tt.jsx("span",{className:"stat-value",children:I})]}),tt.jsxs("div",{className:"stat-item",children:[tt.jsx("span",{className:"stat-label",children:"Progress"}),tt.jsxs("span",{className:"stat-value",children:[O,"%"]})]})]}),tt.jsx("div",{className:"progress-bar-container",children:tt.jsx("div",{className:"progress-bar-fill",style:{width:`${O}%`}})})]}),tt.jsxs("div",{className:"input-group",children:[tt.jsx("input",{type:"text",value:f,onChange:A=>m(A.target.value),onKeyPress:ht,placeholder:"What needs to be done?",id:"todo-input"}),tt.jsx("button",{onClick:Y,className:"add-btn",id:"add-button",children:""})]})]}),tt.jsxs("div",{className:"content-body",children:[tt.jsxs(Ow,{sensors:R,collisionDetection:zT,onDragStart:pt,onDragEnd:ct,onDragCancel:C,children:[tt.jsx(eR,{items:o.map(A=>A.id),strategy:Ww,children:tt.jsx("ul",{className:"todo-list",id:"todo-list",children:o.map(A=>tt.jsx(IM,{todo:A,toggleTodo:K,deleteTodo:it,formatDateTime:st,formatDuration:nt},A.id))})}),vo.createPortal(tt.jsx(Xw,{dropAnimation:D,children:E?tt.jsx("div",{className:"todo-item dragging-overlay",children:tt.jsxs("div",{className:"todo-main",children:[tt.jsx("div",{className:"drag-handle",style:{color:"#22d3ee"},children:tt.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[tt.jsx("circle",{cx:"9",cy:"5",r:"1"}),tt.jsx("circle",{cx:"9",cy:"12",r:"1"}),tt.jsx("circle",{cx:"9",cy:"19",r:"1"}),tt.jsx("circle",{cx:"15",cy:"5",r:"1"}),tt.jsx("circle",{cx:"15",cy:"12",r:"1"}),tt.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),tt.jsxs("label",{className:"checkbox-container",children:[tt.jsx("input",{type:"checkbox",checked:L?.completed,readOnly:!0,className:"todo-checkbox"}),tt.jsx("span",{className:"checkmark"})]}),tt.jsxs("div",{className:"todo-content",children:[tt.jsx("span",{className:"todo-text",children:L?.text}),tt.jsx("div",{className:"todo-time-info",children:tt.jsxs("span",{className:"todo-time",children:[" ",st(L?.createdAt)]})})]})]})}):null}),document.body)]}),o.length===0&&tt.jsx("div",{className:"empty-state",children:tt.jsx("p",{children:"TO-DO   !!"})})]})]})}_1.createRoot(document.getElementById("root")).render(tt.jsx(F.StrictMode,{children:tt.jsx(DM,{})}));
